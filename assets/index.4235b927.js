function bL(){import("data:text/javascript,")}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function t(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerpolicy&&(o.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?o.credentials="include":r.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=t(r);fetch(r.href,o)}})();function xe(){}const xy=n=>n;function Wr(n,e){for(const t in e)n[t]=e[t];return n}function Oy(n){return n()}function Jd(){return Object.create(null)}function on(n){n.forEach(Oy)}function Pi(n){return typeof n=="function"}function tn(n,e){return n!=n?e==e:n!==e||n&&typeof n=="object"||typeof n=="function"}function Et(n,e){return n!=n?e==e:n!==e}function M_(n){return Object.keys(n).length===0}function Ri(n,e,t,i){if(n){const r=Ey(n,e,t,i);return n[0](r)}}function Ey(n,e,t,i){return n[1]&&i?Wr(t.ctx.slice(),n[1](i(e))):t.ctx}function ji(n,e,t,i){if(n[2]&&i){const r=n[2](i(t));if(e.dirty===void 0)return r;if(typeof r=="object"){const o=[],s=Math.max(e.dirty.length,r.length);for(let l=0;l<s;l+=1)o[l]=e.dirty[l]|r[l];return o}return e.dirty|r}return e.dirty}function Li(n,e,t,i,r,o){if(r){const s=Ey(e,t,i,o);n.p(s,r)}}function Bi(n){if(n.ctx.length>32){const e=[],t=n.ctx.length/32;for(let i=0;i<t;i++)e[i]=-1;return e}return-1}function Pn(n){return n==null?"":n}function dl(n){return n&&Pi(n.destroy)?n.destroy:xe}const Ty=typeof window<"u";let A_=Ty?()=>window.performance.now():()=>Date.now(),Th=Ty?n=>requestAnimationFrame(n):xe;const Lo=new Set;function My(n){Lo.forEach(e=>{e.c(n)||(Lo.delete(e),e.f())}),Lo.size!==0&&Th(My)}function P_(n){let e;return Lo.size===0&&Th(My),{promise:new Promise(t=>{Lo.add(e={c:n,f:t})}),abort(){Lo.delete(e)}}}function E(n,e){n.appendChild(e)}function Ay(n){if(!n)return document;const e=n.getRootNode?n.getRootNode():n.ownerDocument;return e&&e.host?e:n.ownerDocument}function I_(n){const e=R("style");return N_(Ay(n),e),e.sheet}function N_(n,e){E(n.head||n,e)}function $(n,e,t){n.insertBefore(e,t||null)}function Z(n){n.parentNode.removeChild(n)}function Vn(n,e){for(let t=0;t<n.length;t+=1)n[t]&&n[t].d(e)}function R(n){return document.createElement(n)}function hr(n){return document.createElementNS("http://www.w3.org/2000/svg",n)}function Be(n){return document.createTextNode(n)}function oe(){return Be(" ")}function Nt(){return Be("")}function we(n,e,t,i){return n.addEventListener(e,t,i),()=>n.removeEventListener(e,t,i)}function D_(n){return function(e){return e.preventDefault(),n.call(this,e)}}function Py(n){return function(e){return e.stopPropagation(),n.call(this,e)}}function _(n,e,t){t==null?n.removeAttribute(e):n.getAttribute(e)!==t&&n.setAttribute(e,t)}function Gd(n,e){const t=Object.getOwnPropertyDescriptors(n.__proto__);for(const i in e)e[i]==null?n.removeAttribute(i):i==="style"?n.style.cssText=e[i]:i==="__value"?n.value=n[i]=e[i]:t[i]&&t[i].set?n[i]=e[i]:_(n,i,e[i])}function xa(n,e){for(const t in e)_(n,t,e[t])}function sf(n,e,t){e in n?n[e]=typeof n[e]=="boolean"&&t===""?!0:t:_(n,e,t)}function Sc(n){return n===""?null:+n}function R_(n){return Array.from(n.childNodes)}function St(n,e){e=""+e,n.wholeText!==e&&(n.data=e)}function _i(n,e){n.value=e==null?"":e}function ni(n,e,t,i){t===null?n.style.removeProperty(e):n.style.setProperty(e,t,i?"important":"")}let Il;function j_(){if(Il===void 0){Il=!1;try{typeof window<"u"&&window.parent&&window.parent.document}catch{Il=!0}}return Il}function L_(n,e){getComputedStyle(n).position==="static"&&(n.style.position="relative");const i=R("iframe");i.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),i.setAttribute("aria-hidden","true"),i.tabIndex=-1;const r=j_();let o;return r?(i.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",o=we(window,"message",s=>{s.source===i.contentWindow&&e()})):(i.src="about:blank",i.onload=()=>{o=we(i.contentWindow,"resize",e)}),E(n,i),()=>{(r||o&&i.contentWindow)&&o(),Z(i)}}function Ne(n,e,t){n.classList[t?"add":"remove"](e)}function Iy(n,e,{bubbles:t=!1,cancelable:i=!1}={}){const r=document.createEvent("CustomEvent");return r.initCustomEvent(n,t,i,e),r}class B_{constructor(e=!1){this.is_svg=!1,this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,t,i=null){this.e||(this.is_svg?this.e=hr(t.nodeName):this.e=R(t.nodeName),this.t=t,this.c(e)),this.i(i)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.childNodes)}i(e){for(let t=0;t<this.n.length;t+=1)$(this.t,this.n[t],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(Z)}}const Oa=new Map;let Ea=0;function F_(n){let e=5381,t=n.length;for(;t--;)e=(e<<5)-e^n.charCodeAt(t);return e>>>0}function V_(n,e){const t={stylesheet:I_(e),rules:{}};return Oa.set(n,t),t}function Qd(n,e,t,i,r,o,s,l=0){const a=16.666/i;let c=`{
`;for(let y=0;y<=1;y+=a){const p=e+(t-e)*o(y);c+=y*100+`%{${s(p,1-p)}}
`}const u=c+`100% {${s(t,1-t)}}
}`,f=`__svelte_${F_(u)}_${l}`,h=Ay(n),{stylesheet:d,rules:m}=Oa.get(h)||V_(h,n);m[f]||(m[f]=!0,d.insertRule(`@keyframes ${f} ${u}`,d.cssRules.length));const g=n.style.animation||"";return n.style.animation=`${g?`${g}, `:""}${f} ${i}ms linear ${r}ms 1 both`,Ea+=1,f}function H_(n,e){const t=(n.style.animation||"").split(", "),i=t.filter(e?o=>o.indexOf(e)<0:o=>o.indexOf("__svelte")===-1),r=t.length-i.length;r&&(n.style.animation=i.join(", "),Ea-=r,Ea||z_())}function z_(){Th(()=>{Ea||(Oa.forEach(n=>{const{stylesheet:e}=n;let t=e.cssRules.length;for(;t--;)e.deleteRule(t);n.rules={}}),Oa.clear())})}let Ws;function Ds(n){Ws=n}function ls(){if(!Ws)throw new Error("Function called outside component initialization");return Ws}function Ny(n){ls().$$.before_update.push(n)}function ki(n){ls().$$.on_mount.push(n)}function lo(n){ls().$$.on_destroy.push(n)}function ml(){const n=ls();return(e,t,{cancelable:i=!1}={})=>{const r=n.$$.callbacks[e];if(r){const o=Iy(e,t,{cancelable:i});return r.slice().forEach(s=>{s.call(n,o)}),!o.defaultPrevented}return!0}}function Dy(n,e){return ls().$$.context.set(n,e),e}function si(n){return ls().$$.context.get(n)}function q_(n,e){const t=n.$$.callbacks[e.type];t&&t.slice().forEach(i=>i.call(this,e))}const Cs=[],pt=[],ua=[],lf=[],Ry=Promise.resolve();let af=!1;function jy(){af||(af=!0,Ry.then(Ly))}function hn(){return jy(),Ry}function ao(n){ua.push(n)}function zn(n){lf.push(n)}const hu=new Set;let Nl=0;function Ly(){const n=Ws;do{for(;Nl<Cs.length;){const e=Cs[Nl];Nl++,Ds(e),W_(e.$$)}for(Ds(null),Cs.length=0,Nl=0;pt.length;)pt.pop()();for(let e=0;e<ua.length;e+=1){const t=ua[e];hu.has(t)||(hu.add(t),t())}ua.length=0}while(Cs.length);for(;lf.length;)lf.pop()();af=!1,hu.clear(),Ds(n)}function W_(n){if(n.fragment!==null){n.update(),on(n.before_update);const e=n.dirty;n.dirty=[-1],n.fragment&&n.fragment.p(n.ctx,e),n.after_update.forEach(ao)}}let ys;function U_(){return ys||(ys=Promise.resolve(),ys.then(()=>{ys=null})),ys}function du(n,e,t){n.dispatchEvent(Iy(`${e?"intro":"outro"}${t}`))}const fa=new Set;let cr;function Ee(){cr={r:0,c:[],p:cr}}function Te(){cr.r||on(cr.c),cr=cr.p}function A(n,e){n&&n.i&&(fa.delete(n),n.i(e))}function j(n,e,t,i){if(n&&n.o){if(fa.has(n))return;fa.add(n),cr.c.push(()=>{fa.delete(n),i&&(t&&n.d(1),i())}),n.o(e)}else i&&i()}const K_={duration:0};function Dl(n,e,t,i){let r=e(n,t),o=i?0:1,s=null,l=null,a=null;function c(){a&&H_(n,a)}function u(h,d){const m=h.b-o;return d*=Math.abs(m),{a:o,b:h.b,d:m,duration:d,start:h.start,end:h.start+d,group:h.group}}function f(h){const{delay:d=0,duration:m=300,easing:g=xy,tick:y=xe,css:p}=r||K_,v={start:A_()+d,b:h};h||(v.group=cr,cr.r+=1),s||l?l=v:(p&&(c(),a=Qd(n,o,h,m,d,g,p)),h&&y(0,1),s=u(v,m),ao(()=>du(n,h,"start")),P_(k=>{if(l&&k>l.start&&(s=u(l,m),l=null,du(n,s.b,"start"),p&&(c(),a=Qd(n,o,s.b,s.duration,0,g,r.css))),s){if(k>=s.end)y(o=s.b,1-o),du(n,s.b,"end"),l||(s.b?c():--s.group.r||on(s.group.c)),s=null;else if(k>=s.start){const b=k-s.start;o=s.a+s.d*g(b/s.duration),y(o,1-o)}}return!!(s||l)}))}return{run(h){Pi(r)?U_().then(()=>{r=r(),f(h)}):f(h)},end(){c(),s=l=null}}}const Cc=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function J_(n,e){n.d(1),e.delete(n.key)}function xc(n,e){j(n,1,1,()=>{e.delete(n.key)})}function pl(n,e,t,i,r,o,s,l,a,c,u,f){let h=n.length,d=o.length,m=h;const g={};for(;m--;)g[n[m].key]=m;const y=[],p=new Map,v=new Map;for(m=d;m--;){const O=f(r,o,m),I=t(O);let L=s.get(I);L?i&&L.p(O,e):(L=c(I,O),L.c()),p.set(I,y[m]=L),I in g&&v.set(I,Math.abs(m-g[I]))}const k=new Set,b=new Set;function S(O){A(O,1),O.m(l,u),s.set(O.key,O),u=O.first,d--}for(;h&&d;){const O=y[d-1],I=n[h-1],L=O.key,P=I.key;O===I?(u=O.first,h--,d--):p.has(P)?!s.has(L)||k.has(L)?S(O):b.has(P)?h--:v.get(L)>v.get(P)?(b.add(L),S(O)):(k.add(P),h--):(a(I,s),h--)}for(;h--;){const O=n[h];p.has(O.key)||a(O,s)}for(;d;)S(y[d-1]);return y}function _o(n,e){const t={},i={},r={$$scope:1};let o=n.length;for(;o--;){const s=n[o],l=e[o];if(l){for(const a in s)a in l||(i[a]=1);for(const a in l)r[a]||(t[a]=l[a],r[a]=1);n[o]=l}else for(const a in s)r[a]=1}for(const s in i)s in t||(t[s]=void 0);return t}function Oc(n){return typeof n=="object"&&n!==null?n:{}}function Fn(n,e,t){const i=n.$$.props[e];i!==void 0&&(n.$$.bound[i]=t,t(n.$$.ctx[i]))}function ye(n){n&&n.c()}function me(n,e,t,i){const{fragment:r,on_mount:o,on_destroy:s,after_update:l}=n.$$;r&&r.m(e,t),i||ao(()=>{const a=o.map(Oy).filter(Pi);s?s.push(...a):on(a),n.$$.on_mount=[]}),l.forEach(ao)}function pe(n,e){const t=n.$$;t.fragment!==null&&(on(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function G_(n,e){n.$$.dirty[0]===-1&&(Cs.push(n),jy(),n.$$.dirty.fill(0)),n.$$.dirty[e/31|0]|=1<<e%31}function Qe(n,e,t,i,r,o,s,l=[-1]){const a=Ws;Ds(n);const c=n.$$={fragment:null,ctx:null,props:o,update:xe,not_equal:r,bound:Jd(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(a?a.$$.context:[])),callbacks:Jd(),dirty:l,skip_bound:!1,root:e.target||a.$$.root};s&&s(c.root);let u=!1;if(c.ctx=t?t(n,e.props||{},(f,h,...d)=>{const m=d.length?d[0]:h;return c.ctx&&r(c.ctx[f],c.ctx[f]=m)&&(!c.skip_bound&&c.bound[f]&&c.bound[f](m),u&&G_(n,f)),h}):[],c.update(),u=!0,on(c.before_update),c.fragment=i?i(c.ctx):!1,e.target){if(e.hydrate){const f=R_(e.target);c.fragment&&c.fragment.l(f),f.forEach(Z)}else c.fragment&&c.fragment.c();e.intro&&A(n.$$.fragment),me(n,e.target,e.anchor,e.customElement),Ly()}Ds(a)}class Xe{$destroy(){pe(this,1),this.$destroy=xe}$on(e,t){const i=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return i.push(t),()=>{const r=i.indexOf(t);r!==-1&&i.splice(r,1)}}$set(e){this.$$set&&!M_(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function $n(n,e=!!X_("debug")){if(e){const t=Y_(n);return function(...r){console.log(`%c${n}`,`color:${t}`,...r)}}else return Q_}function Q_(){}function X_(n){try{if(typeof window<"u"&&typeof window.localStorage<"u")return window.localStorage[n]}catch{}}function Y_(n){let e=0;for(let t=0;t<n.length;t++)e=(e<<5)-e+n.charCodeAt(t),e|=0;return Xd[Math.abs(e)%Xd.length]}const Xd=["#0000CC","#0099FF","#009400","#8dd200","#CCCC00","#CC9933","#ae04e7","#ff35d7","#FF3333","#FF6600","#FF9933","#FFCC33"];function Z_(n,{delay:e=0,duration:t=400,easing:i=xy}={}){const r=+getComputedStyle(n).opacity;return{delay:e,duration:t,easing:i,css:o=>`opacity: ${o*r}`}}const{window:$_}=Cc;function Yd(n){let e,t,i,r,o,s,l,a,c,u,f,h,d,m,g,y,p,v=n[1].closeButton&&Zd(n);var k=n[2];function b(S){return{}}return k&&(s=new k(b())),{c(){e=R("div"),t=R("div"),i=R("div"),v&&v.c(),r=oe(),o=R("div"),s&&ye(s.$$.fragment),_(o,"class",l=Pn(n[1].classContent)+" svelte-g4wg3a"),_(o,"style",n[9]),Ne(o,"content",!n[0]),_(i,"class",a=Pn(n[1].classWindow)+" svelte-g4wg3a"),_(i,"role","dialog"),_(i,"aria-modal","true"),_(i,"aria-label",c=n[1].ariaLabelledBy?null:n[1].ariaLabel||null),_(i,"aria-labelledby",u=n[1].ariaLabelledBy||null),_(i,"style",n[8]),Ne(i,"window",!n[0]),_(t,"class",h=Pn(n[1].classWindowWrap)+" svelte-g4wg3a"),_(t,"style",n[7]),Ne(t,"wrap",!n[0]),_(e,"class",d=Pn(n[1].classBg)+" svelte-g4wg3a"),_(e,"style",n[6]),Ne(e,"bg",!n[0])},m(S,O){$(S,e,O),E(e,t),E(t,i),v&&v.m(i,null),E(i,r),E(i,o),s&&me(s,o,null),n[49](i),n[50](t),n[51](e),g=!0,y||(p=[we(i,"introstart",function(){Pi(n[13])&&n[13].apply(this,arguments)}),we(i,"outrostart",function(){Pi(n[14])&&n[14].apply(this,arguments)}),we(i,"introend",function(){Pi(n[15])&&n[15].apply(this,arguments)}),we(i,"outroend",function(){Pi(n[16])&&n[16].apply(this,arguments)}),we(e,"mousedown",n[20]),we(e,"mouseup",n[21])],y=!0)},p(S,O){if(n=S,n[1].closeButton?v?(v.p(n,O),O[0]&2&&A(v,1)):(v=Zd(n),v.c(),A(v,1),v.m(i,r)):v&&(Ee(),j(v,1,1,()=>{v=null}),Te()),k!==(k=n[2])){if(s){Ee();const I=s;j(I.$$.fragment,1,0,()=>{pe(I,1)}),Te()}k?(s=new k(b()),ye(s.$$.fragment),A(s.$$.fragment,1),me(s,o,null)):s=null}(!g||O[0]&2&&l!==(l=Pn(n[1].classContent)+" svelte-g4wg3a"))&&_(o,"class",l),(!g||O[0]&512)&&_(o,"style",n[9]),O[0]&3&&Ne(o,"content",!n[0]),(!g||O[0]&2&&a!==(a=Pn(n[1].classWindow)+" svelte-g4wg3a"))&&_(i,"class",a),(!g||O[0]&2&&c!==(c=n[1].ariaLabelledBy?null:n[1].ariaLabel||null))&&_(i,"aria-label",c),(!g||O[0]&2&&u!==(u=n[1].ariaLabelledBy||null))&&_(i,"aria-labelledby",u),(!g||O[0]&256)&&_(i,"style",n[8]),O[0]&3&&Ne(i,"window",!n[0]),(!g||O[0]&2&&h!==(h=Pn(n[1].classWindowWrap)+" svelte-g4wg3a"))&&_(t,"class",h),(!g||O[0]&128)&&_(t,"style",n[7]),O[0]&3&&Ne(t,"wrap",!n[0]),(!g||O[0]&2&&d!==(d=Pn(n[1].classBg)+" svelte-g4wg3a"))&&_(e,"class",d),(!g||O[0]&64)&&_(e,"style",n[6]),O[0]&3&&Ne(e,"bg",!n[0])},i(S){g||(A(v),s&&A(s.$$.fragment,S),ao(()=>{f||(f=Dl(i,n[12],n[1].transitionWindowProps,!0)),f.run(1)}),ao(()=>{m||(m=Dl(e,n[11],n[1].transitionBgProps,!0)),m.run(1)}),g=!0)},o(S){j(v),s&&j(s.$$.fragment,S),f||(f=Dl(i,n[12],n[1].transitionWindowProps,!1)),f.run(0),m||(m=Dl(e,n[11],n[1].transitionBgProps,!1)),m.run(0),g=!1},d(S){S&&Z(e),v&&v.d(),s&&pe(s),n[49](null),S&&f&&f.end(),n[50](null),n[51](null),S&&m&&m.end(),y=!1,on(p)}}}function Zd(n){let e,t,i,r,o;const s=[tk,ek],l=[];function a(c,u){return u[0]&2&&(e=null),e==null&&(e=!!c[17](c[1].closeButton)),e?0:1}return t=a(n,[-1,-1,-1]),i=l[t]=s[t](n),{c(){i.c(),r=Nt()},m(c,u){l[t].m(c,u),$(c,r,u),o=!0},p(c,u){let f=t;t=a(c,u),t===f?l[t].p(c,u):(Ee(),j(l[f],1,1,()=>{l[f]=null}),Te(),i=l[t],i?i.p(c,u):(i=l[t]=s[t](c),i.c()),A(i,1),i.m(r.parentNode,r))},i(c){o||(A(i),o=!0)},o(c){j(i),o=!1},d(c){l[t].d(c),c&&Z(r)}}}function ek(n){let e,t,i,r;return{c(){e=R("button"),_(e,"class",t=Pn(n[1].classCloseButton)+" svelte-g4wg3a"),_(e,"aria-label","Close modal"),_(e,"style",n[10]),_(e,"type","button"),Ne(e,"close",!n[0])},m(o,s){$(o,e,s),i||(r=we(e,"click",n[18]),i=!0)},p(o,s){s[0]&2&&t!==(t=Pn(o[1].classCloseButton)+" svelte-g4wg3a")&&_(e,"class",t),s[0]&1024&&_(e,"style",o[10]),s[0]&3&&Ne(e,"close",!o[0])},i:xe,o:xe,d(o){o&&Z(e),i=!1,r()}}}function tk(n){let e,t,i;var r=n[1].closeButton;function o(s){return{props:{onClose:s[18]}}}return r&&(e=new r(o(n))),{c(){e&&ye(e.$$.fragment),t=Nt()},m(s,l){e&&me(e,s,l),$(s,t,l),i=!0},p(s,l){if(r!==(r=s[1].closeButton)){if(e){Ee();const a=e;j(a.$$.fragment,1,0,()=>{pe(a,1)}),Te()}r?(e=new r(o(s)),ye(e.$$.fragment),A(e.$$.fragment,1),me(e,t.parentNode,t)):e=null}},i(s){i||(e&&A(e.$$.fragment,s),i=!0)},o(s){e&&j(e.$$.fragment,s),i=!1},d(s){s&&Z(t),e&&pe(e,s)}}}function nk(n){let e,t,i,r,o=n[2]&&Yd(n);const s=n[48].default,l=Ri(s,n,n[47],null);return{c(){o&&o.c(),e=oe(),l&&l.c()},m(a,c){o&&o.m(a,c),$(a,e,c),l&&l.m(a,c),t=!0,i||(r=we($_,"keydown",n[19]),i=!0)},p(a,c){a[2]?o?(o.p(a,c),c[0]&4&&A(o,1)):(o=Yd(a),o.c(),A(o,1),o.m(e.parentNode,e)):o&&(Ee(),j(o,1,1,()=>{o=null}),Te()),l&&l.p&&(!t||c[1]&65536)&&Li(l,s,a,a[47],t?ji(s,a[47],c,null):Bi(a[47]),null)},i(a){t||(A(o),A(l,a),t=!0)},o(a){j(o),j(l,a),t=!1},d(a){o&&o.d(a),a&&Z(e),l&&l.d(a),i=!1,r()}}}function ik(n,e={}){return function(i){return new n({...i,props:{...e,...i.props}})}}function rk(n,e,t){let{$$slots:i={},$$scope:r}=e;const o=ml(),s=Dy,l=M=>M.tabIndex>=0&&!M.hidden&&!M.disabled&&M.style.display!=="none"&&M.type!=="hidden"&&Boolean(M.offsetWidth||M.offsetHeight||M.getClientRects().length);let{isTabbable:a=l}=e,{show:c=null}=e,{key:u="simple-modal"}=e,{ariaLabel:f=null}=e,{ariaLabelledBy:h=null}=e,{closeButton:d=!0}=e,{closeOnEsc:m=!0}=e,{closeOnOuterClick:g=!0}=e,{styleBg:y={}}=e,{styleWindowWrap:p={}}=e,{styleWindow:v={}}=e,{styleContent:k={}}=e,{styleCloseButton:b={}}=e,{classBg:S=null}=e,{classWindowWrap:O=null}=e,{classWindow:I=null}=e,{classContent:L=null}=e,{classCloseButton:P=null}=e,{unstyled:D=!1}=e,{setContext:H=s}=e,{transitionBg:F=Z_}=e,{transitionBgProps:q={duration:250}}=e,{transitionWindow:U=F}=e,{transitionWindowProps:B=q}=e,{disableFocusTrap:Q=!1}=e;const re={ariaLabel:f,ariaLabelledBy:h,closeButton:d,closeOnEsc:m,closeOnOuterClick:g,styleBg:y,styleWindowWrap:p,styleWindow:v,styleContent:k,styleCloseButton:b,classBg:S,classWindowWrap:O,classWindow:I,classContent:L,classCloseButton:P,transitionBg:F,transitionBgProps:q,transitionWindow:U,transitionWindowProps:B,disableFocusTrap:Q,isTabbable:a,unstyled:D};let le={...re},x=null,N,ie,ne,z,w,C,J,se,ee,ge,ve,Pe,ze,Me,ae;const Re=M=>M.replace(/([a-zA-Z])(?=[A-Z])/g,"$1-").toLowerCase(),Le=M=>M?Object.keys(M).reduce((G,K)=>`${G}; ${Re(K)}: ${M[K]}`,""):"",rt=M=>!!(M&&M.constructor&&M.call&&M.apply),Oe=()=>{t(6,w=Le(Object.assign({},{width:window.innerWidth,height:window.innerHeight},le.styleBg))),t(7,C=Le(le.styleWindowWrap)),t(8,J=Le(le.styleWindow)),t(9,se=Le(le.styleContent)),t(10,ee=Le(le.styleCloseButton)),t(11,ge=le.transitionBg),t(12,ve=le.transitionWindow)},ke=()=>{};let ot=ke,lt=ke,at=ke,mt=ke;const It=(M,G={},K={},he={})=>{t(2,x=ik(M,G)),t(1,le={...re,...K}),Oe(),te(),t(13,ot=fe=>{he.onOpen&&he.onOpen(fe),o("open"),o("opening")}),t(14,lt=fe=>{he.onClose&&he.onClose(fe),o("close"),o("closing")}),t(15,at=fe=>{he.onOpened&&he.onOpened(fe),o("opened")}),t(16,mt=fe=>{he.onClosed&&he.onClosed(fe),o("closed")})},de=(M={})=>{!x||(t(14,lt=M.onClose||lt),t(16,mt=M.onClosed||mt),t(2,x=null),be())},T=M=>{if(le.closeOnEsc&&x&&M.key==="Escape"&&(M.preventDefault(),de()),x&&M.key==="Tab"&&!le.disableFocusTrap){const G=ne.querySelectorAll("*"),K=Array.from(G).filter(le.isTabbable).sort((fe,Ie)=>fe.tabIndex-Ie.tabIndex);let he=K.indexOf(document.activeElement);he===-1&&M.shiftKey&&(he=0),he+=K.length+(M.shiftKey?-1:1),he%=K.length,K[he].focus(),M.preventDefault()}},W=M=>{le.closeOnOuterClick&&(M.target===N||M.target===ie)&&(ae=M.target)},X=M=>{le.closeOnOuterClick&&M.target===ae&&(M.preventDefault(),de())},te=()=>{z=window.scrollY,Pe=document.body.style.position,ze=document.body.style.overflow,Me=document.body.style.width,document.body.style.position="fixed",document.body.style.top=`-${z}px`,document.body.style.overflow="hidden",document.body.style.width="100%"},be=()=>{document.body.style.position=Pe||"",document.body.style.top="",document.body.style.overflow=ze||"",document.body.style.width=Me||"",window.scrollTo(0,z)};H(u,{open:It,close:de});let Ae=!1;lo(()=>{Ae&&de()}),ki(()=>{t(46,Ae=!0)});function Je(M){pt[M?"unshift":"push"](()=>{ne=M,t(5,ne)})}function je(M){pt[M?"unshift":"push"](()=>{ie=M,t(4,ie)})}function Tt(M){pt[M?"unshift":"push"](()=>{N=M,t(3,N)})}return n.$$set=M=>{"isTabbable"in M&&t(22,a=M.isTabbable),"show"in M&&t(23,c=M.show),"key"in M&&t(24,u=M.key),"ariaLabel"in M&&t(25,f=M.ariaLabel),"ariaLabelledBy"in M&&t(26,h=M.ariaLabelledBy),"closeButton"in M&&t(27,d=M.closeButton),"closeOnEsc"in M&&t(28,m=M.closeOnEsc),"closeOnOuterClick"in M&&t(29,g=M.closeOnOuterClick),"styleBg"in M&&t(30,y=M.styleBg),"styleWindowWrap"in M&&t(31,p=M.styleWindowWrap),"styleWindow"in M&&t(32,v=M.styleWindow),"styleContent"in M&&t(33,k=M.styleContent),"styleCloseButton"in M&&t(34,b=M.styleCloseButton),"classBg"in M&&t(35,S=M.classBg),"classWindowWrap"in M&&t(36,O=M.classWindowWrap),"classWindow"in M&&t(37,I=M.classWindow),"classContent"in M&&t(38,L=M.classContent),"classCloseButton"in M&&t(39,P=M.classCloseButton),"unstyled"in M&&t(0,D=M.unstyled),"setContext"in M&&t(40,H=M.setContext),"transitionBg"in M&&t(41,F=M.transitionBg),"transitionBgProps"in M&&t(42,q=M.transitionBgProps),"transitionWindow"in M&&t(43,U=M.transitionWindow),"transitionWindowProps"in M&&t(44,B=M.transitionWindowProps),"disableFocusTrap"in M&&t(45,Q=M.disableFocusTrap),"$$scope"in M&&t(47,r=M.$$scope)},n.$$.update=()=>{n.$$.dirty[0]&8388608|n.$$.dirty[1]&32768&&Ae&&(rt(c)?It(c):de())},[D,le,x,N,ie,ne,w,C,J,se,ee,ge,ve,ot,lt,at,mt,rt,de,T,W,X,a,c,u,f,h,d,m,g,y,p,v,k,b,S,O,I,L,P,H,F,q,U,B,Q,Ae,r,i,Je,je,Tt]}class ok extends Xe{constructor(e){super(),Qe(this,e,rk,nk,tn,{isTabbable:22,show:23,key:24,ariaLabel:25,ariaLabelledBy:26,closeButton:27,closeOnEsc:28,closeOnOuterClick:29,styleBg:30,styleWindowWrap:31,styleWindow:32,styleContent:33,styleCloseButton:34,classBg:35,classWindowWrap:36,classWindow:37,classContent:38,classCloseButton:39,unstyled:0,setContext:40,transitionBg:41,transitionBgProps:42,transitionWindow:43,transitionWindowProps:44,disableFocusTrap:45},null,[-1,-1,-1])}}const sk=300,By=300,$d=300,lk=300,em=50,ak=200,ck=400,uk=1200,cf=1e3,Us=100,tm=2e4,co=[{start:0,end:Us}],fk=100*1024*1024,hk=1024*1024,uf=10*1024*1024,nm=10*1024,Ta={closeButton:!1,classBg:"jse-modal-bg",classWindow:"jse-modal-window",classWindowWrap:"jse-modal-window-wrap",classContent:"jse-modal-content"},dk={...Ta,classWindow:"jse-modal-window jse-modal-window-sort"},mk={...Ta,classWindow:"jse-modal-window jse-modal-window-transform"},Mh="Insert or paste contents, enter [ insert a new array, enter { to insert a new object, or start typing to insert a new value",Fy="Open context menu (Click here, right click on the selection, or use the context menu button or Ctrl+Q)",dr="hover-insert-inside",Ks="hover-insert-after",ff="hover-collection",mu="valid",im="repairable",pk="invalid",xs=(40+2)*8,Os=260,io={NO:"NO",SELF:"SELF",NEXT_INSIDE:"NEXT_INSIDE"};let rm=0;function Ma(){return rm++,rm}function Rr(n){return Rr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rr(n)}function gn(n){return Array.isArray(n)}function En(n){return n!==null&&Rr(n)==="object"&&!Array.isArray(n)}function Vy(n){return n&&Rr(n)==="object"?n.op==="add":!1}function Hy(n){return n&&Rr(n)==="object"?n.op==="remove":!1}function zy(n){return n&&Rr(n)==="object"?n.op==="replace":!1}function hf(n){return n&&Rr(n)==="object"?n.op==="copy":!1}function Uo(n){return n&&Rr(n)==="object"?n.op==="move":!1}function df(n){return df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},df(n)}function gk(n,e){return JSON.stringify(n)===JSON.stringify(e)}function yk(n,e){return n===e}function qy(n){return n.slice(0,n.length-1)}function vk(n){return n[n.length-1]}function bk(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:yk;if(n.length<e.length)return!1;for(var i=0;i<e.length;i++)if(!t(n[i],e[i]))return!1;return!0}function Wy(n){return df(n)==="object"&&n!==null}function om(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function wk(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?om(Object(t),!0).forEach(function(i){_k(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):om(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function _k(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Ah(n){if(gn(n)){var e=n.slice();return Object.getOwnPropertySymbols(n).forEach(function(i){e[i]=n[i]}),e}else if(En(n)){var t=wk({},n);return Object.getOwnPropertySymbols(n).forEach(function(i){t[i]=n[i]}),t}else return n}function Ph(n,e,t){if(n[e]===t)return n;var i=Ah(n);return i[e]=t,i}function Ke(n,e){for(var t=n,i=0;i<e.length;)En(t)?t=t[e[i]]:gn(t)?t=t[parseInt(e[i])]:t=void 0,i++;return t}function Mi(n,e,t){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(e.length===0)return t;var r=e[0],o=Mi(n?n[r]:void 0,e.slice(1),t,i);if(En(n)||gn(n))return Ph(n,r,o);if(i){var s=kk.test(r)?[]:{};return s[r]=o,s}else throw new Error("Path does not exist")}var kk=/^\d+$/;function Uy(n,e,t){if(e.length===0)return t(n);if(!Wy(n))throw new Error("Path doesn't exist");var i=e[0],r=Uy(n[i],e.slice(1),t);return Ph(n,i,r)}function Ih(n,e){if(e.length===0)return n;if(!Wy(n))throw new Error("Path does not exist");if(e.length===1){var t=e[0];if(t in n){var i=Ah(n);return gn(i)&&i.splice(parseInt(t),1),En(i)&&delete i[t],i}else return n}var r=e[0],o=Ih(n[r],e.slice(1));return Ph(n,r,o)}function Nh(n,e,t){var i=e.slice(0,e.length-1),r=e[e.length-1];return Uy(n,i,function(o){if(!Array.isArray(o))throw new TypeError("Array expected at path "+JSON.stringify(i));var s=Ah(o);return s.splice(parseInt(r),0,t),s})}function uo(n,e){return n===void 0?!1:e.length===0?!0:uo(n[e[0]],e.slice(1))}function jr(n){var e=n.split("/");return e.shift(),e.map(function(t){return t.replace(/~1/g,"/").replace(/~0/g,"~")})}function Fe(n){return n.map(Ky).join("")}function Ky(n){return"/"+String(n).replace(/~/g,"~0").replace(/\//g,"~1")}function mf(n,e){return n+Ky(e)}function Ko(n,e){return n.startsWith(e)&&(n.length===e.length||n[e.length]==="/")}function ro(n,e,t){for(var i=n,r=0;r<e.length;r++){Ak(e[r]);var o=e[r];if(t&&t.before){var s=t.before(i,o);s!==void 0&&(s.json!==void 0&&(i=s.json),s.operation!==void 0&&(o=s.operation))}var l=i,a=tr(i,o.path);if(o.op==="add")i=xk(i,a,o.value);else if(o.op==="remove")i=Ck(i,a);else if(o.op==="replace")i=Sk(i,a,o.value);else if(o.op==="copy")i=Ok(i,a,pf(o.from));else if(o.op==="move")i=Ek(i,a,pf(o.from));else if(o.op==="test")Tk(i,a,o.value);else throw new Error("Unknown JSONPatch operation "+JSON.stringify(o));if(t&&t.after){var c=t.after(i,o,l);c!==void 0&&(i=c)}}return i}function Sk(n,e,t){return Mi(n,e,t)}function Ck(n,e){return Ih(n,e)}function xk(n,e,t){return gl(n,e)?Nh(n,e,t):Mi(n,e,t)}function Ok(n,e,t){var i=Ke(n,t);if(gl(n,e))return Nh(n,e,i);var r=Ke(n,t);return Mi(n,e,r)}function Ek(n,e,t){var i=Ke(n,t),r=Ih(n,t);return gl(r,e)?Nh(r,e,i):Mi(r,e,i)}function Tk(n,e,t){if(t===void 0)throw new Error('Test failed: no value provided (path: "'.concat(Fe(e),'")'));if(!uo(n,e))throw new Error('Test failed: path not found (path: "'.concat(Fe(e),'")'));var i=Ke(n,e);if(!gk(i,t))throw new Error('Test failed, value differs (path: "'.concat(Fe(e),'")'))}function gl(n,e){if(e.length===0)return!1;var t=Ke(n,qy(e));return Array.isArray(t)}function Mk(n,e){if(vk(e)!=="-")return e;var t=qy(e),i=Ke(n,t);return t.concat(i.length)}function Ak(n){var e=["add","remove","replace","copy","move","test"];if(!e.includes(n.op))throw new Error("Unknown JSONPatch op "+JSON.stringify(n.op));if(typeof n.path!="string")throw new Error('Required property "path" missing or not a string in operation '+JSON.stringify(n));if((n.op==="copy"||n.op==="move")&&typeof n.from!="string")throw new Error('Required property "from" missing or not a string in operation '+JSON.stringify(n))}function tr(n,e){return Mk(n,jr(e))}function pf(n){return jr(n)}function Pk(n){return Rk(n)||Dk(n)||Nk(n)||Ik()}function Ik(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nk(n,e){if(!!n){if(typeof n=="string")return gf(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return gf(n,e)}}function Dk(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function Rk(n){if(Array.isArray(n))return gf(n)}function gf(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}function Jy(n,e,t){var i=[];return ro(n,e,{before:function(o,s){var l,a=tr(o,s.path);if(s.op==="add")l=Xy(o,a);else if(s.op==="remove")l=Qy(o,a);else if(s.op==="replace")l=Gy(o,a);else if(s.op==="copy")l=jk(o,a);else if(s.op==="move")l=Lk(o,a,pf(s.from));else if(s.op==="test")l=[];else throw new Error("Unknown JSONPatch operation "+JSON.stringify(s));var c;if(t&&t.before){var u=t.before(o,s,l);u&&u.revertOperations&&(l=u.revertOperations),u&&u.json&&(c=u.json)}if(i=l.concat(i),c!==void 0)return{json:c}}}),i}function Gy(n,e){return[{op:"replace",path:Fe(e),value:Ke(n,e)}]}function Qy(n,e){return[{op:"add",path:Fe(e),value:Ke(n,e)}]}function Xy(n,e){return gl(n,e)||!uo(n,e)?[{op:"remove",path:Fe(e)}]:Gy(n,e)}function jk(n,e){return Xy(n,e)}function Lk(n,e,t){if(e.length<t.length&&bk(t,e))return[{op:"replace",path:Fe(e),value:n}];var i={op:"move",from:Fe(e),path:Fe(t)};return!gl(n,e)&&uo(n,e)?[i].concat(Pk(Qy(n,e))):[i]}var Ec={},sm={b:"\b",f:"\f",n:`
`,r:"\r",t:"	",'"':'"',"/":"/","\\":"\\"},Bk="a".charCodeAt();Ec.parse=function(n,e,t){var i={},r=0,o=0,s=0,l=t&&t.bigint&&typeof BigInt<"u";return{data:a("",!0),pointers:i};function a(P,D){c();var H;k(P,"value");var F=g();switch(F){case"t":m("rue"),H=!0;break;case"f":m("alse"),H=!1;break;case"n":m("ull"),H=null;break;case'"':H=u();break;case"[":H=h(P);break;case"{":H=d(P);break;default:y(),"-0123456789".indexOf(F)>=0?H=f():O()}return k(P,"valueEnd"),c(),D&&s<n.length&&O(),H}function c(){e:for(;s<n.length;){switch(n[s]){case" ":o++;break;case"	":o+=4;break;case"\r":o=0;break;case`
`:o=0,r++;break;default:break e}s++}}function u(){for(var P="",D;D=g(),D!='"';)D=="\\"?(D=g(),D in sm?P+=sm[D]:D=="u"?P+=p():I()):P+=D;return P}function f(){var P="",D=!0;n[s]=="-"&&(P+=g()),P+=n[s]=="0"?g():v(),n[s]=="."&&(P+=g()+v(),D=!1),(n[s]=="e"||n[s]=="E")&&(P+=g(),(n[s]=="+"||n[s]=="-")&&(P+=g()),P+=v(),D=!1);var H=+P;return l&&D&&(H>Number.MAX_SAFE_INTEGER||H<Number.MIN_SAFE_INTEGER)?BigInt(P):H}function h(P){c();var D=[],H=0;if(g()=="]")return D;for(y();;){var F=P+"/"+H;D.push(a(F)),c();var q=g();if(q=="]")break;q!=","&&I(),c(),H++}return D}function d(P){c();var D={};if(g()=="}")return D;for(y();;){var H=S();g()!='"'&&I();var F=u(),q=P+"/"+yf(F);b(q,"key",H),k(q,"keyEnd"),c(),g()!=":"&&I(),c(),D[F]=a(q),c();var U=g();if(U=="}")break;U!=","&&I(),c()}return D}function m(P){for(var D=0;D<P.length;D++)g()!==P[D]&&I()}function g(){L();var P=n[s];return s++,o++,P}function y(){s--,o--}function p(){for(var P=4,D=0;P--;){D<<=4;var H=g().toLowerCase();H>="a"&&H<="f"?D+=H.charCodeAt()-Bk+10:H>="0"&&H<="9"?D+=+H:I()}return String.fromCharCode(D)}function v(){for(var P="";n[s]>="0"&&n[s]<="9";)P+=g();if(P.length)return P;L(),O()}function k(P,D){b(P,D,S())}function b(P,D,H){i[P]=i[P]||{},i[P][D]=H}function S(){return{line:r,column:o,pos:s}}function O(){throw new SyntaxError("Unexpected token "+n[s]+" in JSON at position "+s)}function I(){y(),O()}function L(){if(s>=n.length)throw new SyntaxError("Unexpected end of JSON input")}};Ec.stringify=function(n,e,t){if(!Rl(n))return;var i=0,r,o,s=typeof t=="object"?t.space:t;switch(typeof s){case"number":var l=s>10?10:s<0?0:Math.floor(s);s=l&&b(l," "),r=l,o=l;break;case"string":s=s.slice(0,10),r=0,o=0;for(var a=0;a<s.length;a++){var c=s[a];switch(c){case" ":o++;break;case"	":o+=4;break;case"\r":o=0;break;case`
`:o=0,i++;break;default:throw new Error("whitespace characters not allowed in JSON")}r++}break;default:s=void 0}var u="",f={},h=0,d=0,m=0,g=t&&t.es6&&typeof Map=="function";return y(n,0,""),{json:u,pointers:f};function y(S,O,I){switch(k(I,"value"),typeof S){case"number":case"bigint":case"boolean":p(""+S);break;case"string":p(jl(S));break;case"object":S===null?p("null"):typeof S.toJSON=="function"?p(jl(S.toJSON())):Array.isArray(S)?L():g?S.constructor.BYTES_PER_ELEMENT?L():S instanceof Map?D():S instanceof Set?D(!0):P():P()}k(I,"valueEnd");function L(){if(S.length){p("[");for(var H=O+1,F=0;F<S.length;F++){F&&p(","),v(H);var q=Rl(S[F])?S[F]:null,U=I+"/"+F;y(q,H,U)}v(O),p("]")}else p("[]")}function P(){var H=Object.keys(S);if(H.length){p("{");for(var F=O+1,q=0;q<H.length;q++){var U=H[q],B=S[U];if(Rl(B)){q&&p(",");var Q=I+"/"+yf(U);v(F),k(Q,"key"),p(jl(U)),k(Q,"keyEnd"),p(":"),s&&p(" "),y(B,F,Q)}}v(O),p("}")}else p("{}")}function D(H){if(S.size){p("{");for(var F=O+1,q=!0,U=S.entries(),B=U.next();!B.done;){var Q=B.value,re=Q[0],le=H?!0:Q[1];if(Rl(le)){q||p(","),q=!1;var x=I+"/"+yf(re);v(F),k(x,"key"),p(jl(re)),k(x,"keyEnd"),p(":"),s&&p(" "),y(le,F,x)}B=U.next()}v(O),p("}")}else p("{}")}}function p(S){d+=S.length,m+=S.length,u+=S}function v(S){if(s){for(u+=`
`+b(S,s),h++,d=0;S--;)i?(h+=i,d=o):d+=o,m+=r;m+=1}}function k(S,O){f[S]=f[S]||{},f[S][O]={line:h,column:d,pos:m}}function b(S,O){return Array(S+1).join(O)}};var Fk=["number","bigint","boolean","string","object"];function Rl(n){return Fk.indexOf(typeof n)>=0}var Vk=/"|\\/g,Hk=/[\b]/g,zk=/\f/g,qk=/\n/g,Wk=/\r/g,Uk=/\t/g;function jl(n){return n=n.replace(Vk,"\\$&").replace(zk,"\\f").replace(Hk,"\\b").replace(qk,"\\n").replace(Wk,"\\r").replace(Uk,"\\t"),'"'+n+'"'}var Kk=/~/g,Jk=/\//g;function yf(n){return n.replace(Kk,"~0").replace(Jk,"~1")}function Yn(n,e){if(!(this instanceof Yn))throw new SyntaxError("Constructor must be called with the new operator");this.message=n+" (char "+e+")",this.char=e,this.stack=new Error().stack}Yn.prototype=new Error;Yn.prototype.constructor=Error;var Dh={"'":!0,"\u2018":!0,"\u2019":!0,"`":!0,"\xB4":!0},Rh={'"':!0,"\u201C":!0,"\u201D":!0};function lm(n){return Gk.test(n)}var Gk=/^[a-zA-Z_]$/;function Qk(n){return Xk.test(n)}var Xk=/^[0-9a-fA-F]$/;function wr(n){return Yk.test(n)}var Yk=/^[0-9]$/;function Aa(n){return n===" "||n==="	"||n===`
`||n==="\r"}function vf(n){return n==="\xA0"||n>="\u2000"&&n<="\u200A"||n==="\u202F"||n==="\u205F"||n==="\u3000"}function Zk(n){for(var e="",t=0;t<n.length;t++){var i=n[t];e+=vf(i)?" ":i}return e}function $k(n){return Dh[n]===!0||Rh[n]===!0}function am(n){return Dh[n]===!0}function eS(n){return Rh[n]===!0}function cm(n){return Dh[n]===!0?"'":Rh[n]===!0?'"':n}function Pa(n,e){var t=n.lastIndexOf(e);return t!==-1?n.substring(0,t)+n.substring(t+1):n}function Bo(n,e){var t=n.length;if(!Aa(n[t-1]))return n+e;for(;Aa(n[t-1]);)t--;return n.substring(0,t)+e+n.substring(t)}function tS(n,e,t){return n.substring(0,t)+e+n.substring(t)}var Rn=0,as=1,fo=2,Jo=3,Yy=4,bf=5,Go=6,nS={"":!0,"{":!0,"}":!0,"[":!0,"]":!0,":":!0,",":!0,"(":!0,")":!0,";":!0,"+":!0},iS={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"},um={"\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"},rS={null:"null",true:"true",false:"false"},fm={None:"null",True:"true",False:"false"},Cr="",Lt="",vn=0,qe="",He="",ut=Go;function Ir(n){Cr=n,Lt="",vn=0,qe=Cr.charAt(0),He="",ut=Go,$t();var e=ut;if(Js(),hm(),He==="")return Lt;if(e===ut&&Ia()){for(var t="";e===ut&&Ia();)Lt=Bo(Lt,","),t+=Lt,Lt="",Js(),hm();return`[
`.concat(t).concat(Lt,`
]`)}throw new Yn("Unexpected characters",vn-He.length)}function yn(){vn++,qe=Cr.charAt(vn)}function oS(){yn(),qe==="\\"&&yn()}function Ia(){return ut===Rn&&(He==="["||He==="{")||ut===fo||ut===as||ut===Jo}function sS(){return ut===fo||ut===as||ut===Jo}function $t(){Lt+=He,ut=Go,He="",lS(),ut===Yy&&(He=Zk(He),$t()),ut===bf&&(ut=Go,He="",$t())}function hm(){He===","&&(He="",ut=Go,$t())}function lS(){if(nS[qe]){ut=Rn,He=qe,yn();return}aS()}function aS(){if(wr(qe)||qe==="-"){if(ut=as,qe==="-"){if(He+=qe,yn(),!wr(qe))throw new Yn("Invalid number, digit expected",vn)}else qe==="0"&&(He+=qe,yn());for(;wr(qe);)He+=qe,yn();if(qe==="."){if(He+=qe,yn(),!wr(qe))throw new Yn("Invalid number, digit expected",vn);for(;wr(qe);)He+=qe,yn()}if(qe==="e"||qe==="E"){if(He+=qe,yn(),(qe==="+"||qe==="-")&&(He+=qe,yn()),!wr(qe))throw new Yn("Invalid number, digit expected",vn);for(;wr(qe);)He+=qe,yn()}return}cS()}function cS(){qe==="\\"&&Cr.charAt(vn+1)==='"'?(yn(),dm(oS)):dm(yn)}function dm(n){if($k(qe)){var e=cm(qe),t=am(qe)?am:eS;for(He+='"',ut=fo,n();qe!==""&&!t(qe);)if(qe==="\\"){n();var i=iS[qe];if(i!==void 0)He+="\\"+qe,n();else if(qe==="u"){He+="\\u",n();for(var r=0;r<4;r++){if(!Qk(qe))throw new Yn("Invalid unicode character",vn-He.length);He+=qe,n()}}else if(qe==="'")He+="'",n();else throw new Yn('Invalid escape character "\\'+qe+'"',vn)}else um[qe]?(He+=um[qe],n()):qe==='"'?(He+='\\"',n()):(He+=qe,n());if(cm(qe)!==e)throw new Yn("End of string expected",vn-He.length);He+='"',n();return}uS()}function uS(){if(lm(qe)){for(ut=Jo;lm(qe)||wr(qe)||qe==="$";)He+=qe,yn();return}fS()}function fS(){if(Aa(qe)||vf(qe)){for(ut=Yy;Aa(qe)||vf(qe);)He+=qe,yn();return}hS()}function hS(){if(qe==="/"&&Cr[vn+1]==="*"){for(ut=bf;qe!==""&&(qe!=="*"||qe==="*"&&Cr[vn+1]!=="/");)He+=qe,yn();qe==="*"&&Cr[vn+1]==="/"&&(He+=qe,yn(),He+=qe,yn());return}if(qe==="/"&&Cr[vn+1]==="/"){for(ut=bf;qe!==""&&qe!==`
`;)He+=qe,yn();return}dS()}function dS(){for(ut=Go;qe!=="";)He+=qe,yn();throw new Yn('Syntax error in part "'+He+'"',vn-He.length)}function Js(){if(ut===Rn&&He==="{"){if($t(),ut===Rn&&He==="}"){$t();return}for(;;){if((ut===Jo||ut===as)&&(ut=fo,He='"'.concat(He,'"')),ut!==fo)throw new Yn("Object key expected",vn-He.length);if($t(),ut===Rn&&He===":")$t();else if(Ia())Lt=Bo(Lt,":");else throw new Yn("Colon expected",vn-He.length);if(Js(),ut===Rn&&He===","){if($t(),ut===Rn&&He==="}"){Lt=Pa(Lt,",");break}if(He===""){Lt=Pa(Lt,",");break}}else if(sS())Lt=Bo(Lt,",");else break}ut===Rn&&He==="}"?$t():Lt=Bo(Lt,"}");return}mS()}function mS(){if(ut===Rn&&He==="["){if($t(),ut===Rn&&He==="]"){$t();return}for(;;)if(Js(),ut===Rn&&He===","){if($t(),ut===Rn&&He==="]"){Lt=Pa(Lt,",");break}if(He===""){Lt=Pa(Lt,",");break}}else if(Ia())Lt=Bo(Lt,",");else break;ut===Rn&&He==="]"?$t():Lt=Bo(Lt,"]");return}pS()}function pS(){if(ut===fo){for($t();ut===Rn&&He==="+";)if(He="",$t(),ut===fo){var n=Lt.lastIndexOf('"');Lt=Lt.substring(0,n)+He.substring(1),He="",$t()}return}gS()}function gS(){if(ut===as){$t();return}yS()}function yS(){if(ut===Jo){if(rS[He]){$t();return}if(fm[He]){He=fm[He],$t();return}var n=He,e=Lt.length;if(He="",$t(),ut===Rn&&He==="("){He="",$t(),Js(),ut===Rn&&He===")"&&(He="",$t(),ut===Rn&&He===";"&&(He="",$t()));return}for(Lt=tS(Lt,'"'.concat(n),e);ut===Jo||ut===as;)$t();Lt+='"';return}vS()}function vS(){throw He===""?new Yn("Unexpected end of json string",vn-He.length):new Yn("Value expected",vn-He.length)}function qn(n){return typeof n=="object"&&n!==null&&!Array.isArray(n)}function xn(n){return typeof n=="object"&&n!==null}function bS(n){return n===!0||n===!1}function wS(n){return typeof n=="number"&&n>9466848e5&&isFinite(n)&&Math.floor(n)===n&&!isNaN(new Date(n).valueOf())}function Zy(n){const e=window.document.createElement("div");return e.style.color=n,e.style.color.split(/\s+/).join("").toLowerCase()||null}function _S(n){return typeof n=="string"&&!!Zy(n)}function jh(n){return n===null?"null":n===void 0?"undefined":typeof n=="number"?"number":typeof n=="string"?"string":typeof n=="boolean"?"boolean":n instanceof RegExp?"regexp":Array.isArray(n)?"array":"object"}const kS=/^https?:\/\/\S+$/;function Lh(n){return typeof n=="string"&&kS.test(n)}function yl(n){if(n==="")return"";if(n==="null")return null;if(n==="true")return!0;if(n==="false")return!1;const e=Number(n);return!isNaN(e)&&!isNaN(parseFloat(n))?e:n}function SS(n){return typeof n=="string"&&typeof yl(n)!="string"}var CS=typeof global=="object"&&global&&global.Object===Object&&global;const $y=CS;var xS=typeof self=="object"&&self&&self.Object===Object&&self,OS=$y||xS||Function("return this")();const Vi=OS;var ES=Vi.Symbol;const Si=ES;var ev=Object.prototype,TS=ev.hasOwnProperty,MS=ev.toString,vs=Si?Si.toStringTag:void 0;function AS(n){var e=TS.call(n,vs),t=n[vs];try{n[vs]=void 0;var i=!0}catch{}var r=MS.call(n);return i&&(e?n[vs]=t:delete n[vs]),r}var PS=Object.prototype,IS=PS.toString;function NS(n){return IS.call(n)}var DS="[object Null]",RS="[object Undefined]",mm=Si?Si.toStringTag:void 0;function cs(n){return n==null?n===void 0?RS:DS:mm&&mm in Object(n)?AS(n):NS(n)}function Lr(n){return n!=null&&typeof n=="object"}var jS="[object Symbol]";function ho(n){return typeof n=="symbol"||Lr(n)&&cs(n)==jS}function Rs(n,e){for(var t=-1,i=n==null?0:n.length,r=Array(i);++t<i;)r[t]=e(n[t],t,n);return r}var LS=Array.isArray;const Un=LS;var BS=1/0,pm=Si?Si.prototype:void 0,gm=pm?pm.toString:void 0;function tv(n){if(typeof n=="string")return n;if(Un(n))return Rs(n,tv)+"";if(ho(n))return gm?gm.call(n):"";var e=n+"";return e=="0"&&1/n==-BS?"-0":e}var FS=/\s/;function VS(n){for(var e=n.length;e--&&FS.test(n.charAt(e)););return e}var HS=/^\s+/;function zS(n){return n&&n.slice(0,VS(n)+1).replace(HS,"")}function Fi(n){var e=typeof n;return n!=null&&(e=="object"||e=="function")}var ym=0/0,qS=/^[-+]0x[0-9a-f]+$/i,WS=/^0b[01]+$/i,US=/^0o[0-7]+$/i,KS=parseInt;function wf(n){if(typeof n=="number")return n;if(ho(n))return ym;if(Fi(n)){var e=typeof n.valueOf=="function"?n.valueOf():n;n=Fi(e)?e+"":e}if(typeof n!="string")return n===0?n:+n;n=zS(n);var t=WS.test(n);return t||US.test(n)?KS(n.slice(2),t?2:8):qS.test(n)?ym:+n}var vm=1/0,JS=17976931348623157e292;function ha(n){if(!n)return n===0?n:0;if(n=wf(n),n===vm||n===-vm){var e=n<0?-1:1;return e*JS}return n===n?n:0}function GS(n){var e=ha(n),t=e%1;return e===e?t?e-t:e:0}function vl(n){return n}var QS="[object AsyncFunction]",XS="[object Function]",YS="[object GeneratorFunction]",ZS="[object Proxy]";function nv(n){if(!Fi(n))return!1;var e=cs(n);return e==XS||e==YS||e==QS||e==ZS}var $S=Vi["__core-js_shared__"];const pu=$S;var bm=function(){var n=/[^.]+$/.exec(pu&&pu.keys&&pu.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function e4(n){return!!bm&&bm in n}var t4=Function.prototype,n4=t4.toString;function ko(n){if(n!=null){try{return n4.call(n)}catch{}try{return n+""}catch{}}return""}var i4=/[\\^$.*+?()[\]{}|]/g,r4=/^\[object .+?Constructor\]$/,o4=Function.prototype,s4=Object.prototype,l4=o4.toString,a4=s4.hasOwnProperty,c4=RegExp("^"+l4.call(a4).replace(i4,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function u4(n){if(!Fi(n)||e4(n))return!1;var e=nv(n)?c4:r4;return e.test(ko(n))}function f4(n,e){return n==null?void 0:n[e]}function So(n,e){var t=f4(n,e);return u4(t)?t:void 0}var h4=So(Vi,"WeakMap");const _f=h4;var wm=Object.create,d4=function(){function n(){}return function(e){if(!Fi(e))return{};if(wm)return wm(e);n.prototype=e;var t=new n;return n.prototype=void 0,t}}();const m4=d4;function p4(n,e,t){switch(t.length){case 0:return n.call(e);case 1:return n.call(e,t[0]);case 2:return n.call(e,t[0],t[1]);case 3:return n.call(e,t[0],t[1],t[2])}return n.apply(e,t)}function Vt(){}function g4(n,e){var t=-1,i=n.length;for(e||(e=Array(i));++t<i;)e[t]=n[t];return e}var y4=800,v4=16,b4=Date.now;function w4(n){var e=0,t=0;return function(){var i=b4(),r=v4-(i-t);if(t=i,r>0){if(++e>=y4)return arguments[0]}else e=0;return n.apply(void 0,arguments)}}function _4(n){return function(){return n}}var k4=function(){try{var n=So(Object,"defineProperty");return n({},"",{}),n}catch{}}();const Na=k4;var S4=Na?function(n,e){return Na(n,"toString",{configurable:!0,enumerable:!1,value:_4(e),writable:!0})}:vl;const C4=S4;var x4=w4(C4);const O4=x4;function E4(n,e){for(var t=-1,i=n==null?0:n.length;++t<i&&e(n[t],t,n)!==!1;);return n}var T4=9007199254740991,M4=/^(?:0|[1-9]\d*)$/;function Bh(n,e){var t=typeof n;return e=e==null?T4:e,!!e&&(t=="number"||t!="symbol"&&M4.test(n))&&n>-1&&n%1==0&&n<e}function Fh(n,e,t){e=="__proto__"&&Na?Na(n,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):n[e]=t}function Tc(n,e){return n===e||n!==n&&e!==e}var A4=Object.prototype,P4=A4.hasOwnProperty;function iv(n,e,t){var i=n[e];(!(P4.call(n,e)&&Tc(i,t))||t===void 0&&!(e in n))&&Fh(n,e,t)}function Mc(n,e,t,i){var r=!t;t||(t={});for(var o=-1,s=e.length;++o<s;){var l=e[o],a=i?i(t[l],n[l],l,t,n):void 0;a===void 0&&(a=n[l]),r?Fh(t,l,a):iv(t,l,a)}return t}var _m=Math.max;function I4(n,e,t){return e=_m(e===void 0?n.length-1:e,0),function(){for(var i=arguments,r=-1,o=_m(i.length-e,0),s=Array(o);++r<o;)s[r]=i[e+r];r=-1;for(var l=Array(e+1);++r<e;)l[r]=i[r];return l[e]=t(s),p4(n,this,l)}}function N4(n,e){return O4(I4(n,e,vl),n+"")}var D4=9007199254740991;function Vh(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=D4}function us(n){return n!=null&&Vh(n.length)&&!nv(n)}function kf(n,e,t){if(!Fi(t))return!1;var i=typeof e;return(i=="number"?us(t)&&Bh(e,t.length):i=="string"&&e in t)?Tc(t[e],n):!1}var R4=Object.prototype;function Ac(n){var e=n&&n.constructor,t=typeof e=="function"&&e.prototype||R4;return n===t}function rv(n,e){for(var t=-1,i=Array(n);++t<n;)i[t]=e(t);return i}var j4="[object Arguments]";function km(n){return Lr(n)&&cs(n)==j4}var ov=Object.prototype,L4=ov.hasOwnProperty,B4=ov.propertyIsEnumerable,F4=km(function(){return arguments}())?km:function(n){return Lr(n)&&L4.call(n,"callee")&&!B4.call(n,"callee")};const Pc=F4;function V4(){return!1}var sv=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Sm=sv&&typeof module=="object"&&module&&!module.nodeType&&module,H4=Sm&&Sm.exports===sv,Cm=H4?Vi.Buffer:void 0,z4=Cm?Cm.isBuffer:void 0,q4=z4||V4;const Gs=q4;var W4="[object Arguments]",U4="[object Array]",K4="[object Boolean]",J4="[object Date]",G4="[object Error]",Q4="[object Function]",X4="[object Map]",Y4="[object Number]",Z4="[object Object]",$4="[object RegExp]",e3="[object Set]",t3="[object String]",n3="[object WeakMap]",i3="[object ArrayBuffer]",r3="[object DataView]",o3="[object Float32Array]",s3="[object Float64Array]",l3="[object Int8Array]",a3="[object Int16Array]",c3="[object Int32Array]",u3="[object Uint8Array]",f3="[object Uint8ClampedArray]",h3="[object Uint16Array]",d3="[object Uint32Array]",Xt={};Xt[o3]=Xt[s3]=Xt[l3]=Xt[a3]=Xt[c3]=Xt[u3]=Xt[f3]=Xt[h3]=Xt[d3]=!0;Xt[W4]=Xt[U4]=Xt[i3]=Xt[K4]=Xt[r3]=Xt[J4]=Xt[G4]=Xt[Q4]=Xt[X4]=Xt[Y4]=Xt[Z4]=Xt[$4]=Xt[e3]=Xt[t3]=Xt[n3]=!1;function m3(n){return Lr(n)&&Vh(n.length)&&!!Xt[cs(n)]}function Ic(n){return function(e){return n(e)}}var lv=typeof exports=="object"&&exports&&!exports.nodeType&&exports,js=lv&&typeof module=="object"&&module&&!module.nodeType&&module,p3=js&&js.exports===lv,gu=p3&&$y.process,g3=function(){try{var n=js&&js.require&&js.require("util").types;return n||gu&&gu.binding&&gu.binding("util")}catch{}}();const Qo=g3;var xm=Qo&&Qo.isTypedArray,y3=xm?Ic(xm):m3;const Hh=y3;var v3=Object.prototype,b3=v3.hasOwnProperty;function av(n,e){var t=Un(n),i=!t&&Pc(n),r=!t&&!i&&Gs(n),o=!t&&!i&&!r&&Hh(n),s=t||i||r||o,l=s?rv(n.length,String):[],a=l.length;for(var c in n)(e||b3.call(n,c))&&!(s&&(c=="length"||r&&(c=="offset"||c=="parent")||o&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||Bh(c,a)))&&l.push(c);return l}function cv(n,e){return function(t){return n(e(t))}}var w3=cv(Object.keys,Object);const _3=w3;var k3=Object.prototype,S3=k3.hasOwnProperty;function uv(n){if(!Ac(n))return _3(n);var e=[];for(var t in Object(n))S3.call(n,t)&&t!="constructor"&&e.push(t);return e}function fs(n){return us(n)?av(n):uv(n)}function C3(n){var e=[];if(n!=null)for(var t in Object(n))e.push(t);return e}var x3=Object.prototype,O3=x3.hasOwnProperty;function E3(n){if(!Fi(n))return C3(n);var e=Ac(n),t=[];for(var i in n)i=="constructor"&&(e||!O3.call(n,i))||t.push(i);return t}function zh(n){return us(n)?av(n,!0):E3(n)}var T3=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,M3=/^\w*$/;function qh(n,e){if(Un(n))return!1;var t=typeof n;return t=="number"||t=="symbol"||t=="boolean"||n==null||ho(n)?!0:M3.test(n)||!T3.test(n)||e!=null&&n in Object(e)}var A3=So(Object,"create");const Qs=A3;function P3(){this.__data__=Qs?Qs(null):{},this.size=0}function I3(n){var e=this.has(n)&&delete this.__data__[n];return this.size-=e?1:0,e}var N3="__lodash_hash_undefined__",D3=Object.prototype,R3=D3.hasOwnProperty;function j3(n){var e=this.__data__;if(Qs){var t=e[n];return t===N3?void 0:t}return R3.call(e,n)?e[n]:void 0}var L3=Object.prototype,B3=L3.hasOwnProperty;function F3(n){var e=this.__data__;return Qs?e[n]!==void 0:B3.call(e,n)}var V3="__lodash_hash_undefined__";function H3(n,e){var t=this.__data__;return this.size+=this.has(n)?0:1,t[n]=Qs&&e===void 0?V3:e,this}function mo(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var i=n[e];this.set(i[0],i[1])}}mo.prototype.clear=P3;mo.prototype.delete=I3;mo.prototype.get=j3;mo.prototype.has=F3;mo.prototype.set=H3;function z3(){this.__data__=[],this.size=0}function Nc(n,e){for(var t=n.length;t--;)if(Tc(n[t][0],e))return t;return-1}var q3=Array.prototype,W3=q3.splice;function U3(n){var e=this.__data__,t=Nc(e,n);if(t<0)return!1;var i=e.length-1;return t==i?e.pop():W3.call(e,t,1),--this.size,!0}function K3(n){var e=this.__data__,t=Nc(e,n);return t<0?void 0:e[t][1]}function J3(n){return Nc(this.__data__,n)>-1}function G3(n,e){var t=this.__data__,i=Nc(t,n);return i<0?(++this.size,t.push([n,e])):t[i][1]=e,this}function pr(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var i=n[e];this.set(i[0],i[1])}}pr.prototype.clear=z3;pr.prototype.delete=U3;pr.prototype.get=K3;pr.prototype.has=J3;pr.prototype.set=G3;var Q3=So(Vi,"Map");const Xs=Q3;function X3(){this.size=0,this.__data__={hash:new mo,map:new(Xs||pr),string:new mo}}function Y3(n){var e=typeof n;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?n!=="__proto__":n===null}function Dc(n,e){var t=n.__data__;return Y3(e)?t[typeof e=="string"?"string":"hash"]:t.map}function Z3(n){var e=Dc(this,n).delete(n);return this.size-=e?1:0,e}function $3(n){return Dc(this,n).get(n)}function eC(n){return Dc(this,n).has(n)}function tC(n,e){var t=Dc(this,n),i=t.size;return t.set(n,e),this.size+=t.size==i?0:1,this}function gr(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var i=n[e];this.set(i[0],i[1])}}gr.prototype.clear=X3;gr.prototype.delete=Z3;gr.prototype.get=$3;gr.prototype.has=eC;gr.prototype.set=tC;var nC="Expected a function";function Rc(n,e){if(typeof n!="function"||e!=null&&typeof e!="function")throw new TypeError(nC);var t=function(){var i=arguments,r=e?e.apply(this,i):i[0],o=t.cache;if(o.has(r))return o.get(r);var s=n.apply(this,i);return t.cache=o.set(r,s)||o,s};return t.cache=new(Rc.Cache||gr),t}Rc.Cache=gr;var iC=500;function rC(n){var e=Rc(n,function(i){return t.size===iC&&t.clear(),i}),t=e.cache;return e}var oC=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,sC=/\\(\\)?/g,lC=rC(function(n){var e=[];return n.charCodeAt(0)===46&&e.push(""),n.replace(oC,function(t,i,r,o){e.push(r?o.replace(sC,"$1"):i||t)}),e});const aC=lC;function fv(n){return n==null?"":tv(n)}function hv(n,e){return Un(n)?n:qh(n,e)?[n]:aC(fv(n))}var cC=1/0;function jc(n){if(typeof n=="string"||ho(n))return n;var e=n+"";return e=="0"&&1/n==-cC?"-0":e}function Wh(n,e){e=hv(e,n);for(var t=0,i=e.length;n!=null&&t<i;)n=n[jc(e[t++])];return t&&t==i?n:void 0}function uC(n,e,t){var i=n==null?void 0:Wh(n,e);return i===void 0?t:i}function Uh(n,e){for(var t=-1,i=e.length,r=n.length;++t<i;)n[r+t]=e[t];return n}var Om=Si?Si.isConcatSpreadable:void 0;function fC(n){return Un(n)||Pc(n)||!!(Om&&n&&n[Om])}function dv(n,e,t,i,r){var o=-1,s=n.length;for(t||(t=fC),r||(r=[]);++o<s;){var l=n[o];e>0&&t(l)?e>1?dv(l,e-1,t,i,r):Uh(r,l):i||(r[r.length]=l)}return r}var hC=cv(Object.getPrototypeOf,Object);const mv=hC;function dC(n,e,t){var i=-1,r=n.length;e<0&&(e=-e>r?0:r+e),t=t>r?r:t,t<0&&(t+=r),r=e>t?0:t-e>>>0,e>>>=0;for(var o=Array(r);++i<r;)o[i]=n[i+e];return o}function mC(){this.__data__=new pr,this.size=0}function pC(n){var e=this.__data__,t=e.delete(n);return this.size=e.size,t}function gC(n){return this.__data__.get(n)}function yC(n){return this.__data__.has(n)}var vC=200;function bC(n,e){var t=this.__data__;if(t instanceof pr){var i=t.__data__;if(!Xs||i.length<vC-1)return i.push([n,e]),this.size=++t.size,this;t=this.__data__=new gr(i)}return t.set(n,e),this.size=t.size,this}function nr(n){var e=this.__data__=new pr(n);this.size=e.size}nr.prototype.clear=mC;nr.prototype.delete=pC;nr.prototype.get=gC;nr.prototype.has=yC;nr.prototype.set=bC;function wC(n,e){return n&&Mc(e,fs(e),n)}function _C(n,e){return n&&Mc(e,zh(e),n)}var pv=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Em=pv&&typeof module=="object"&&module&&!module.nodeType&&module,kC=Em&&Em.exports===pv,Tm=kC?Vi.Buffer:void 0,Mm=Tm?Tm.allocUnsafe:void 0;function SC(n,e){if(e)return n.slice();var t=n.length,i=Mm?Mm(t):new n.constructor(t);return n.copy(i),i}function CC(n,e){for(var t=-1,i=n==null?0:n.length,r=0,o=[];++t<i;){var s=n[t];e(s,t,n)&&(o[r++]=s)}return o}function gv(){return[]}var xC=Object.prototype,OC=xC.propertyIsEnumerable,Am=Object.getOwnPropertySymbols,EC=Am?function(n){return n==null?[]:(n=Object(n),CC(Am(n),function(e){return OC.call(n,e)}))}:gv;const Kh=EC;function TC(n,e){return Mc(n,Kh(n),e)}var MC=Object.getOwnPropertySymbols,AC=MC?function(n){for(var e=[];n;)Uh(e,Kh(n)),n=mv(n);return e}:gv;const yv=AC;function PC(n,e){return Mc(n,yv(n),e)}function vv(n,e,t){var i=e(n);return Un(n)?i:Uh(i,t(n))}function Sf(n){return vv(n,fs,Kh)}function IC(n){return vv(n,zh,yv)}var NC=So(Vi,"DataView");const Cf=NC;var DC=So(Vi,"Promise");const xf=DC;var RC=So(Vi,"Set");const Of=RC;var Pm="[object Map]",jC="[object Object]",Im="[object Promise]",Nm="[object Set]",Dm="[object WeakMap]",Rm="[object DataView]",LC=ko(Cf),BC=ko(Xs),FC=ko(xf),VC=ko(Of),HC=ko(_f),Qr=cs;(Cf&&Qr(new Cf(new ArrayBuffer(1)))!=Rm||Xs&&Qr(new Xs)!=Pm||xf&&Qr(xf.resolve())!=Im||Of&&Qr(new Of)!=Nm||_f&&Qr(new _f)!=Dm)&&(Qr=function(n){var e=cs(n),t=e==jC?n.constructor:void 0,i=t?ko(t):"";if(i)switch(i){case LC:return Rm;case BC:return Pm;case FC:return Im;case VC:return Nm;case HC:return Dm}return e});const Xo=Qr;var zC=Object.prototype,qC=zC.hasOwnProperty;function WC(n){var e=n.length,t=new n.constructor(e);return e&&typeof n[0]=="string"&&qC.call(n,"index")&&(t.index=n.index,t.input=n.input),t}var UC=Vi.Uint8Array;const Da=UC;function Jh(n){var e=new n.constructor(n.byteLength);return new Da(e).set(new Da(n)),e}function KC(n,e){var t=e?Jh(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.byteLength)}var JC=/\w*$/;function GC(n){var e=new n.constructor(n.source,JC.exec(n));return e.lastIndex=n.lastIndex,e}var jm=Si?Si.prototype:void 0,Lm=jm?jm.valueOf:void 0;function QC(n){return Lm?Object(Lm.call(n)):{}}function XC(n,e){var t=e?Jh(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.length)}var YC="[object Boolean]",ZC="[object Date]",$C="[object Map]",e5="[object Number]",t5="[object RegExp]",n5="[object Set]",i5="[object String]",r5="[object Symbol]",o5="[object ArrayBuffer]",s5="[object DataView]",l5="[object Float32Array]",a5="[object Float64Array]",c5="[object Int8Array]",u5="[object Int16Array]",f5="[object Int32Array]",h5="[object Uint8Array]",d5="[object Uint8ClampedArray]",m5="[object Uint16Array]",p5="[object Uint32Array]";function g5(n,e,t){var i=n.constructor;switch(e){case o5:return Jh(n);case YC:case ZC:return new i(+n);case s5:return KC(n,t);case l5:case a5:case c5:case u5:case f5:case h5:case d5:case m5:case p5:return XC(n,t);case $C:return new i;case e5:case i5:return new i(n);case t5:return GC(n);case n5:return new i;case r5:return QC(n)}}function y5(n){return typeof n.constructor=="function"&&!Ac(n)?m4(mv(n)):{}}var v5="[object Map]";function b5(n){return Lr(n)&&Xo(n)==v5}var Bm=Qo&&Qo.isMap,w5=Bm?Ic(Bm):b5;const _5=w5;var k5="[object Set]";function S5(n){return Lr(n)&&Xo(n)==k5}var Fm=Qo&&Qo.isSet,C5=Fm?Ic(Fm):S5;const x5=C5;var O5=1,E5=2,T5=4,bv="[object Arguments]",M5="[object Array]",A5="[object Boolean]",P5="[object Date]",I5="[object Error]",wv="[object Function]",N5="[object GeneratorFunction]",D5="[object Map]",R5="[object Number]",_v="[object Object]",j5="[object RegExp]",L5="[object Set]",B5="[object String]",F5="[object Symbol]",V5="[object WeakMap]",H5="[object ArrayBuffer]",z5="[object DataView]",q5="[object Float32Array]",W5="[object Float64Array]",U5="[object Int8Array]",K5="[object Int16Array]",J5="[object Int32Array]",G5="[object Uint8Array]",Q5="[object Uint8ClampedArray]",X5="[object Uint16Array]",Y5="[object Uint32Array]",Jt={};Jt[bv]=Jt[M5]=Jt[H5]=Jt[z5]=Jt[A5]=Jt[P5]=Jt[q5]=Jt[W5]=Jt[U5]=Jt[K5]=Jt[J5]=Jt[D5]=Jt[R5]=Jt[_v]=Jt[j5]=Jt[L5]=Jt[B5]=Jt[F5]=Jt[G5]=Jt[Q5]=Jt[X5]=Jt[Y5]=!0;Jt[I5]=Jt[wv]=Jt[V5]=!1;function da(n,e,t,i,r,o){var s,l=e&O5,a=e&E5,c=e&T5;if(t&&(s=r?t(n,i,r,o):t(n)),s!==void 0)return s;if(!Fi(n))return n;var u=Un(n);if(u){if(s=WC(n),!l)return g4(n,s)}else{var f=Xo(n),h=f==wv||f==N5;if(Gs(n))return SC(n,l);if(f==_v||f==bv||h&&!r){if(s=a||h?{}:y5(n),!l)return a?PC(n,_C(s,n)):TC(n,wC(s,n))}else{if(!Jt[f])return r?n:{};s=g5(n,f,l)}}o||(o=new nr);var d=o.get(n);if(d)return d;o.set(n,s),x5(n)?n.forEach(function(y){s.add(da(y,e,t,y,n,o))}):_5(n)&&n.forEach(function(y,p){s.set(p,da(y,e,t,p,n,o))});var m=c?a?IC:Sf:a?zh:fs,g=u?void 0:m(n);return E4(g||n,function(y,p){g&&(p=y,y=n[p]),iv(s,p,da(y,e,t,p,n,o))}),s}var Z5=1,$5=4;function ex(n,e){return e=typeof e=="function"?e:void 0,da(n,Z5|$5,e)}var tx="__lodash_hash_undefined__";function nx(n){return this.__data__.set(n,tx),this}function ix(n){return this.__data__.has(n)}function Ra(n){var e=-1,t=n==null?0:n.length;for(this.__data__=new gr;++e<t;)this.add(n[e])}Ra.prototype.add=Ra.prototype.push=nx;Ra.prototype.has=ix;function rx(n,e){for(var t=-1,i=n==null?0:n.length;++t<i;)if(e(n[t],t,n))return!0;return!1}function ox(n,e){return n.has(e)}var sx=1,lx=2;function kv(n,e,t,i,r,o){var s=t&sx,l=n.length,a=e.length;if(l!=a&&!(s&&a>l))return!1;var c=o.get(n),u=o.get(e);if(c&&u)return c==e&&u==n;var f=-1,h=!0,d=t&lx?new Ra:void 0;for(o.set(n,e),o.set(e,n);++f<l;){var m=n[f],g=e[f];if(i)var y=s?i(g,m,f,e,n,o):i(m,g,f,n,e,o);if(y!==void 0){if(y)continue;h=!1;break}if(d){if(!rx(e,function(p,v){if(!ox(d,v)&&(m===p||r(m,p,t,i,o)))return d.push(v)})){h=!1;break}}else if(!(m===g||r(m,g,t,i,o))){h=!1;break}}return o.delete(n),o.delete(e),h}function ax(n){var e=-1,t=Array(n.size);return n.forEach(function(i,r){t[++e]=[r,i]}),t}function cx(n){var e=-1,t=Array(n.size);return n.forEach(function(i){t[++e]=i}),t}var ux=1,fx=2,hx="[object Boolean]",dx="[object Date]",mx="[object Error]",px="[object Map]",gx="[object Number]",yx="[object RegExp]",vx="[object Set]",bx="[object String]",wx="[object Symbol]",_x="[object ArrayBuffer]",kx="[object DataView]",Vm=Si?Si.prototype:void 0,yu=Vm?Vm.valueOf:void 0;function Sx(n,e,t,i,r,o,s){switch(t){case kx:if(n.byteLength!=e.byteLength||n.byteOffset!=e.byteOffset)return!1;n=n.buffer,e=e.buffer;case _x:return!(n.byteLength!=e.byteLength||!o(new Da(n),new Da(e)));case hx:case dx:case gx:return Tc(+n,+e);case mx:return n.name==e.name&&n.message==e.message;case yx:case bx:return n==e+"";case px:var l=ax;case vx:var a=i&ux;if(l||(l=cx),n.size!=e.size&&!a)return!1;var c=s.get(n);if(c)return c==e;i|=fx,s.set(n,e);var u=kv(l(n),l(e),i,r,o,s);return s.delete(n),u;case wx:if(yu)return yu.call(n)==yu.call(e)}return!1}var Cx=1,xx=Object.prototype,Ox=xx.hasOwnProperty;function Ex(n,e,t,i,r,o){var s=t&Cx,l=Sf(n),a=l.length,c=Sf(e),u=c.length;if(a!=u&&!s)return!1;for(var f=a;f--;){var h=l[f];if(!(s?h in e:Ox.call(e,h)))return!1}var d=o.get(n),m=o.get(e);if(d&&m)return d==e&&m==n;var g=!0;o.set(n,e),o.set(e,n);for(var y=s;++f<a;){h=l[f];var p=n[h],v=e[h];if(i)var k=s?i(v,p,h,e,n,o):i(p,v,h,n,e,o);if(!(k===void 0?p===v||r(p,v,t,i,o):k)){g=!1;break}y||(y=h=="constructor")}if(g&&!y){var b=n.constructor,S=e.constructor;b!=S&&"constructor"in n&&"constructor"in e&&!(typeof b=="function"&&b instanceof b&&typeof S=="function"&&S instanceof S)&&(g=!1)}return o.delete(n),o.delete(e),g}var Tx=1,Hm="[object Arguments]",zm="[object Array]",Ll="[object Object]",Mx=Object.prototype,qm=Mx.hasOwnProperty;function Ax(n,e,t,i,r,o){var s=Un(n),l=Un(e),a=s?zm:Xo(n),c=l?zm:Xo(e);a=a==Hm?Ll:a,c=c==Hm?Ll:c;var u=a==Ll,f=c==Ll,h=a==c;if(h&&Gs(n)){if(!Gs(e))return!1;s=!0,u=!1}if(h&&!u)return o||(o=new nr),s||Hh(n)?kv(n,e,t,i,r,o):Sx(n,e,a,t,i,r,o);if(!(t&Tx)){var d=u&&qm.call(n,"__wrapped__"),m=f&&qm.call(e,"__wrapped__");if(d||m){var g=d?n.value():n,y=m?e.value():e;return o||(o=new nr),r(g,y,t,i,o)}}return h?(o||(o=new nr),Ex(n,e,t,i,r,o)):!1}function Lc(n,e,t,i,r){return n===e?!0:n==null||e==null||!Lr(n)&&!Lr(e)?n!==n&&e!==e:Ax(n,e,t,i,Lc,r)}var Px=1,Ix=2;function Nx(n,e,t,i){var r=t.length,o=r,s=!i;if(n==null)return!o;for(n=Object(n);r--;){var l=t[r];if(s&&l[2]?l[1]!==n[l[0]]:!(l[0]in n))return!1}for(;++r<o;){l=t[r];var a=l[0],c=n[a],u=l[1];if(s&&l[2]){if(c===void 0&&!(a in n))return!1}else{var f=new nr;if(i)var h=i(c,u,a,n,e,f);if(!(h===void 0?Lc(u,c,Px|Ix,i,f):h))return!1}}return!0}function Sv(n){return n===n&&!Fi(n)}function Dx(n){for(var e=fs(n),t=e.length;t--;){var i=e[t],r=n[i];e[t]=[i,r,Sv(r)]}return e}function Cv(n,e){return function(t){return t==null?!1:t[n]===e&&(e!==void 0||n in Object(t))}}function Rx(n){var e=Dx(n);return e.length==1&&e[0][2]?Cv(e[0][0],e[0][1]):function(t){return t===n||Nx(t,n,e)}}function jx(n,e){return n!=null&&e in Object(n)}function Lx(n,e,t){e=hv(e,n);for(var i=-1,r=e.length,o=!1;++i<r;){var s=jc(e[i]);if(!(o=n!=null&&t(n,s)))break;n=n[s]}return o||++i!=r?o:(r=n==null?0:n.length,!!r&&Vh(r)&&Bh(s,r)&&(Un(n)||Pc(n)))}function Bx(n,e){return n!=null&&Lx(n,e,jx)}var Fx=1,Vx=2;function Hx(n,e){return qh(n)&&Sv(e)?Cv(jc(n),e):function(t){var i=uC(t,n);return i===void 0&&i===e?Bx(t,n):Lc(e,i,Fx|Vx)}}function zx(n){return function(e){return e==null?void 0:e[n]}}function qx(n){return function(e){return Wh(e,n)}}function Wx(n){return qh(n)?zx(jc(n)):qx(n)}function Bc(n){return typeof n=="function"?n:n==null?vl:typeof n=="object"?Un(n)?Hx(n[0],n[1]):Rx(n):Wx(n)}function Ux(n,e,t,i){for(var r=-1,o=n==null?0:n.length;++r<o;){var s=n[r];e(i,s,t(s),n)}return i}function xv(n){return function(e,t,i){for(var r=-1,o=Object(e),s=i(e),l=s.length;l--;){var a=s[n?l:++r];if(t(o[a],a,o)===!1)break}return e}}var Kx=xv();const Jx=Kx;function Gx(n,e){return n&&Jx(n,e,fs)}function Ov(n,e){return function(t,i){if(t==null)return t;if(!us(t))return n(t,i);for(var r=t.length,o=e?r:-1,s=Object(t);(e?o--:++o<r)&&i(s[o],o,s)!==!1;);return t}}var Qx=Ov(Gx);const Ev=Qx;function Xx(n,e,t,i){return Ev(n,function(r,o,s){e(i,r,t(r),s)}),i}function Yx(n,e){return function(t,i){var r=Un(t)?Ux:Xx,o=e?e():{};return r(t,n,Bc(i),o)}}var Zx=function(){return Vi.Date.now()};const vu=Zx;var $x="Expected a function",e6=Math.max,t6=Math.min;function Fc(n,e,t){var i,r,o,s,l,a,c=0,u=!1,f=!1,h=!0;if(typeof n!="function")throw new TypeError($x);e=wf(e)||0,Fi(t)&&(u=!!t.leading,f="maxWait"in t,o=f?e6(wf(t.maxWait)||0,e):o,h="trailing"in t?!!t.trailing:h);function d(O){var I=i,L=r;return i=r=void 0,c=O,s=n.apply(L,I),s}function m(O){return c=O,l=setTimeout(p,e),u?d(O):s}function g(O){var I=O-a,L=O-c,P=e-I;return f?t6(P,o-L):P}function y(O){var I=O-a,L=O-c;return a===void 0||I>=e||I<0||f&&L>=o}function p(){var O=vu();if(y(O))return v(O);l=setTimeout(p,g(O))}function v(O){return l=void 0,h&&i?d(O):(i=r=void 0,s)}function k(){l!==void 0&&clearTimeout(l),c=0,i=a=r=l=void 0}function b(){return l===void 0?s:v(vu())}function S(){var O=vu(),I=y(O);if(i=arguments,r=this,a=O,I){if(l===void 0)return m(a);if(f)return clearTimeout(l),l=setTimeout(p,e),d(a)}return l===void 0&&(l=setTimeout(p,e)),s}return S.cancel=k,S.flush=b,S}function gt(n){var e=n==null?0:n.length;return e?n[e-1]:void 0}function Tv(n){return typeof n=="function"?n:vl}function n6(n,e){for(var t=n==null?0:n.length;t--&&e(n[t],t,n)!==!1;);return n}var i6=xv(!0);const r6=i6;function o6(n,e){return n&&r6(n,e,fs)}var s6=Ov(o6,!0);const l6=s6;function a6(n,e){var t=Un(n)?n6:l6;return t(n,Tv(e))}function Zn(n){return n&&n.length?n[0]:void 0}function Mv(n,e){var t=-1,i=us(n)?Array(n.length):[];return Ev(n,function(r,o,s){i[++t]=e(r,o,s)}),i}function c6(n,e){var t=Un(n)?Rs:Mv;return t(n,Bc(e))}var u6=Object.prototype,f6=u6.hasOwnProperty,h6=Yx(function(n,e,t){f6.call(n,t)?n[t].push(e):Fh(n,t,[e])});const Gh=h6;function Rt(n){var e=n==null?0:n.length;return e?dC(n,0,-1):[]}var d6="[object Map]",m6="[object Set]",p6=Object.prototype,g6=p6.hasOwnProperty;function rn(n){if(n==null)return!0;if(us(n)&&(Un(n)||typeof n=="string"||typeof n.splice=="function"||Gs(n)||Hh(n)||Pc(n)))return!n.length;var e=Xo(n);if(e==d6||e==m6)return!n.size;if(Ac(n))return!uv(n).length;for(var t in n)if(g6.call(n,t))return!1;return!0}function Ht(n,e){return Lc(n,e)}function y6(n,e){return n<e}function v6(n,e,t){for(var i=-1,r=n.length;++i<r;){var o=n[i],s=e(o);if(s!=null&&(l===void 0?s===s&&!ho(s):t(s,l)))var l=s,a=o}return a}function Bl(n,e){return n&&n.length?v6(n,Bc(e),y6):void 0}function b6(n,e){var t=n.length;for(n.sort(e);t--;)n[t]=n[t].value;return n}function w6(n,e){if(n!==e){var t=n!==void 0,i=n===null,r=n===n,o=ho(n),s=e!==void 0,l=e===null,a=e===e,c=ho(e);if(!l&&!c&&!o&&n>e||o&&s&&a&&!l&&!c||i&&s&&a||!t&&a||!r)return 1;if(!i&&!o&&!c&&n<e||c&&t&&r&&!i&&!o||l&&t&&r||!s&&r||!a)return-1}return 0}function _6(n,e,t){for(var i=-1,r=n.criteria,o=e.criteria,s=r.length,l=t.length;++i<s;){var a=w6(r[i],o[i]);if(a){if(i>=l)return a;var c=t[i];return a*(c=="desc"?-1:1)}}return n.index-e.index}function k6(n,e,t){e.length?e=Rs(e,function(o){return Un(o)?function(s){return Wh(s,o.length===1?o[0]:o)}:o}):e=[vl];var i=-1;e=Rs(e,Ic(Bc));var r=Mv(n,function(o,s,l){var a=Rs(e,function(c){return c(o)});return{criteria:a,index:++i,value:o}});return b6(r,function(o,s){return _6(o,s,t)})}var S6=Math.ceil,C6=Math.max;function x6(n,e,t,i){for(var r=-1,o=C6(S6((e-n)/(t||1)),0),s=Array(o);o--;)s[i?o:++r]=n,n+=t;return s}function O6(n){return function(e,t,i){return i&&typeof i!="number"&&kf(e,t,i)&&(t=i=void 0),e=ha(e),t===void 0?(t=e,e=0):t=ha(t),i=i===void 0?e<t?1:-1:ha(i),x6(e,t,i,n)}}var E6=O6();const T6=E6;var M6=N4(function(n,e){if(n==null)return[];var t=e.length;return t>1&&kf(n,e[0],e[1])?e=[]:t>2&&kf(e[0],e[1],e[2])&&(e=[e[0]]),k6(n,dv(e,1),[])});const A6=M6;var P6="Expected a function";function I6(n,e,t){var i=!0,r=!0;if(typeof n!="function")throw new TypeError(P6);return Fi(t)&&(i="leading"in t?!!t.leading:i,r="trailing"in t?!!t.trailing:r),Fc(n,e,{leading:i,maxWait:e,trailing:r})}var N6=9007199254740991,bu=4294967295,D6=Math.min;function Wm(n,e){if(n=GS(n),n<1||n>N6)return[];var t=bu,i=D6(n,bu);e=Tv(e),n-=bu;for(var r=rv(i,e);++t<n;)e(t);return r}var R6=0;function ja(n){var e=++R6;return fv(n)+e}const j6=1e4,L6=[];function Ef(n,e=!1){const t={};if(!Array.isArray(n))throw new TypeError("Array expected");function i(s,l){(!Array.isArray(s)&&!qn(s)||e&&l.length>0)&&(t[Fe(l)]=!0),qn(s)&&Object.keys(s).forEach(c=>{i(s[c],l.concat(c))})}const r=Math.min(n.length,j6);for(let s=0;s<r;s++){const l=n[s];i(l,L6)}return Object.keys(t).sort().map(jr)}function Av(n,e,t){if(!(e<=n))for(let i=n;i<e;i++)t(i)}function Um(n,e){return n.length>e?n.slice(0,e):n}function Km(n){return{...n}}function Jm(n){return Object.values(n)}function Gm(n,e,t,i){const r=n.slice(0),o=r.splice(e,t);return r.splice.apply(r,[e+i,0,...o]),r}function bn(n){return parseInt(n,10)}function Qh(n){try{return JSON.parse(n)}catch{return JSON.parse(Ir(n))}}function Pv(n){try{return Qh(n)}catch{return}}function Xh(n,e=JSON.parse){n=n.replace(Iv,"");try{return e(n)}catch{}try{return e("["+n+"]")}catch{}try{return e("{"+n+"}")}catch{}throw new Error("Failed to parse partial JSON")}function B6(n){n=n.replace(Iv,"");try{return Ir(n)}catch{}try{const e=Ir("["+n+"]");return e.substring(1,e.length-1)}catch{}try{const e=Ir("{"+n+"}");return e.substring(1,e.length-1)}catch{}throw new Error("Failed to repair partial JSON")}const Iv=/,\s*$/;function Yh(n,e){const t=Xm.exec(e);if(t){const i=bn(t[2]),r=V6(n,`
`,0,i),o=n.lastIndexOf(`
`,i),s=i-o-1;return{position:i,line:r,column:s,message:e.replace(Xm,()=>`line ${r+1} column ${s+1}`)}}else{const i=W6.exec(e),r=i?bn(i[1]):null,o=r!==null?r-1:null,s=U6.exec(e),l=s?bn(s[1]):null,a=l!==null?l-1:null;return{position:o!==null&&a!==null?F6(n,o,a):null,line:o,column:a,message:e.replace(/^JSON.parse: /,"").replace(/ of the JSON data$/,"")}}}function F6(n,e,t){let i=n.indexOf(`
`),r=1;for(;r<e&&i!==-1;)i=n.indexOf(`
`,i+1),r++;return i!==-1?i+t+1:null}function V6(n,e,t=0,i=n.length){let r=0;for(let o=t;o<i;o++)n.charAt(o)===e&&r++;return r}function H6(n,e){try{const t=Ec.parse(n),i=Fe(e),r=t.pointers[i];if(r)return{path:e,line:r.key?r.key.line:r.value?r.value.line:0,column:r.key?r.key.column:r.value?r.value.column:0,from:r.key?r.key.pos:r.value?r.value.pos:0,to:r.keyEnd?r.keyEnd.pos:r.valueEnd?r.valueEnd.pos:0}}catch(t){console.error(t)}return null}function z6(n,e){if(e==="array"){if(Array.isArray(n))return n;if(qn(n))return Jm(n);if(typeof n=="string"){const t=JSON.parse(n);if(Array.isArray(t))return t;if(qn(t))return Jm(t)}}if(e==="object"){if(Array.isArray(n))return Km(n);if(qn(n))return n;if(typeof n=="string"){const t=JSON.parse(n);if(qn(t))return t;if(Array.isArray(t))return Km(t)}}if(e==="value")return xn(n)?JSON.stringify(n):n;throw new Error(`Cannot convert ${jh(n)} to ${e}`)}function wu(n){return qn(n)?n.json!==void 0?n.text!==void 0?'Content must contain either a property "json" or a property "text" but not both':null:n.text===void 0?'Content must contain either a property "json" or a property "text"':typeof n.text!="string"?'Content "text" property must be string':null:"Content must be an object"}function Tf(n){return typeof n.text=="string"}function Qm(n,e){return q6(n,e)>e}function q6(n,e=1/0){if(Tf(n))return n.text.length;const t=n.json;let i=0;function r(o){if(Array.isArray(o)){if(i+=2+(o.length-1),i>e)return i;for(let s=0;s<o.length;s++){const l=o[s];if(r(l),i>e)return i}}else if(qn(o)){const s=Object.keys(o);i+=2+s.length+(s.length-1);for(let l=0;l<s.length;l++){const a=s[l],c=o[a];i+=a.length+2,r(c)}}else typeof o=="string"?i+=o.length+2:i+=String(o).length}return r(t),i}const Xm=/(position|char) (\d+)/,W6=/line (\d+)/,U6=/column (\d+)/;var vi;(function(n){n.text="text",n.tree="tree"})(vi||(vi={}));var Kt;(function(n){n.after="after",n.inside="inside",n.key="key",n.value="value",n.multi="multi"})(Kt||(Kt={}));var Ai;(function(n){n.after="after",n.key="key",n.value="value",n.inside="inside"})(Ai||(Ai={}));var Ys;(function(n){n.info="info",n.warning="warning",n.error="error"})(Ys||(Ys={}));var Di;(function(n){n.key="key",n.value="value"})(Di||(Di={}));function Nv({escapeControlCharacters:n,escapeUnicodeCharacters:e}){return n?e?K6:J6:e?G6:Q6}const K6={escapeValue:n=>Dv(jv(String(n))),unescapeValue:n=>Lv(Rv(n))},J6={escapeValue:n=>jv(String(n)),unescapeValue:n=>Lv(n)},G6={escapeValue:n=>Dv(String(n)),unescapeValue:n=>Rv(n)},Q6={escapeValue:n=>String(n),unescapeValue:n=>n};function Dv(n){return n.replace(/[^\x20-\x7F]/g,e=>e==="\b"||e==="\f"||e===`
`||e==="\r"||e==="	"?e:"\\u"+("000"+e.codePointAt(0).toString(16)).slice(-4))}function Rv(n){return n.replace(/\\u[a-fA-F0-9]{4}/g,e=>{try{return JSON.parse('"'+e+'"')}catch{return e}})}const X6={"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"},Y6={"\\\\":"\\","\\/":"/","\\b":"\b","\\f":"\f","\\n":`
`,"\\r":"\r","\\t":"	"};function jv(n){return n.replace(/[\b\f\n\r\t\\]/g,e=>X6[e]||e)}function Lv(n){return n.replace(/\\[bfnrt\\]/g,e=>Y6[e]||e)}function po(n){return typeof n!="string"?String(n):n.endsWith(`
`)?n+`
`:n}function Z6(n){return n.replace(/\n$/,"")}function Bv(n,e){return bl(n,t=>t.nodeName.toUpperCase()===e.toUpperCase())}function $r(n,e,t){return bl(n,i=>e8(i,e,t))}function $6(n){return n.nodeName==="DIV"&&n.contentEditable==="true"}function e8(n,e,t){return typeof n.getAttribute=="function"&&n.getAttribute(e)===t}function bl(n,e){return!!Zh(n,e)}function Zh(n,e){let t=n;for(;t&&!e(t);)t=t.parentNode;return t||void 0}function Fv(n){if(n.firstChild==null){n.focus();return}const e=document.createRange(),t=window.getSelection();e.setStart(n,1),e.collapse(!0),t.removeAllRanges(),t.addRange(e)}function Zs(n){return n&&n.ownerDocument&&n.ownerDocument.defaultView}function Mf(n){const e=Zs(n);return bl(e.document.activeElement,t=>t===n)}function t8(n,e){return Zh(n,t=>t.nodeName===e)}function _u(n){return $r(n,"data-type","selectable-key")?Kt.key:$r(n,"data-type","selectable-value")?Kt.value:$r(n,"data-type","insert-selection-area-inside")?Kt.inside:$r(n,"data-type","insert-selection-area-after")?Kt.after:Kt.multi}function Af(n){return encodeURIComponent(Fe(n))}function n8(n){return jr(decodeURIComponent(n))}function i8(n){const e=Zh(n,t=>t.hasAttribute("data-path"));return e?n8(e.getAttribute("data-path")):null}function r8({allElements:n,currentElement:e,direction:t,hasPrio:i=()=>!0,margin:r=10}){const o=c6(n.filter(l),a),s=a(e);function l(p){const v=p.getBoundingClientRect();return v.width>0&&v.height>0}function a(p){const v=p.getBoundingClientRect();return{x:v.left+v.width/2,y:v.top+v.height/2,rect:v,element:p}}const c=(p,v)=>Math.abs(p.y-v.y)<r,u=(p,v)=>p.rect.left+r<v.rect.left,f=(p,v)=>p.rect.right>v.rect.right+r,h=(p,v)=>p.y+r<v.y,d=(p,v)=>p.y>v.y+r;function m(p,v,k=1){const b=p.x-v.x,S=(p.y-v.y)*k;return Math.sqrt(b*b+S*S)}const g=p=>m(p,s),y=p=>m(p,s,10);if(t==="Left"||t==="Right"){const p=t==="Left"?o.filter(b=>u(b,s)):o.filter(b=>f(b,s)),v=p.filter(b=>c(b,s)),k=Bl(v,g)||Bl(p,y);return k==null?void 0:k.element}if(t==="Up"||t==="Down"){const p=t==="Up"?o.filter(b=>h(b,s)):o.filter(b=>d(b,s)),v=p.filter(b=>i(b.element)),k=Bl(v,g)||Bl(p,g);return k==null?void 0:k.element}}const Vv=typeof navigator<"u"?navigator.platform.toUpperCase().indexOf("MAC")>=0:!1;function o8(n){return l8[n]||""}function hs(n){const e=[];n.ctrlKey&&e.push("Ctrl"),n.metaKey&&e.push("Command"),n.altKey&&e.push(Vv?"Option":"Alt"),n.shiftKey&&e.push("Shift");const t=o8(n.which);return s8[t]||e.push(t),e.join("+")}const s8={Ctrl:!0,Command:!0,Alt:!0,Option:!0,Shift:!0},l8={8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause_Break",20:"Caps_Lock",27:"Escape",33:"Page_Up",34:"Page_Down",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",45:"Insert",46:"Delete",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",91:"Left_Window_Key",92:"Right_Window_Key",93:"Select_Key",96:"Numpad_0",97:"Numpad_1",98:"Numpad_2",99:"Numpad_3",100:"Numpad_4",101:"Numpad_5",102:"Numpad_6",103:"Numpad_7",104:"Numpad_8",105:"Numpad_9",106:"Numpad_*",107:"Numpad_+",109:"Numpad_-",110:"Numpad_.",111:"Numpad_/",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"Num_Lock",145:"Scroll_Lock",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"};const{window:ku}=Cc;function Ym(n){let e,t,i,r,o,s;const l=[n[0].props];var a=n[0].component;function c(u){let f={};for(let h=0;h<l.length;h+=1)f=Wr(f,l[h]);return{props:f}}return a&&(r=new a(c())),{c(){e=R("div"),t=R("input"),i=oe(),r&&ye(r.$$.fragment),_(t,"type","text"),t.readOnly="readonly",_(t,"tabindex","-1"),_(t,"class","jse-hidden-input svelte-15awhio"),_(e,"class","jse-absolute-popup-content svelte-15awhio"),_(e,"style",o=Zm(n[1],n[0].options))},m(u,f){$(u,e,f),E(e,t),n[7](t),E(e,i),r&&me(r,e,null),s=!0},p(u,f){const h=f&1?_o(l,[Oc(u[0].props)]):{};if(a!==(a=u[0].component)){if(r){Ee();const d=r;j(d.$$.fragment,1,0,()=>{pe(d,1)}),Te()}a?(r=new a(c()),ye(r.$$.fragment),A(r.$$.fragment,1),me(r,e,null)):r=null}else a&&r.$set(h);(!s||f&3&&o!==(o=Zm(u[1],u[0].options)))&&_(e,"style",o)},i(u){s||(r&&A(r.$$.fragment,u),s=!0)},o(u){r&&j(r.$$.fragment,u),s=!1},d(u){u&&Z(e),n[7](null),r&&pe(r)}}}function a8(n){let e,t,i,r,o=n[1]&&Ym(n);return{c(){e=R("div"),o&&o.c(),_(e,"class","jse-absolute-popup svelte-15awhio")},m(s,l){$(s,e,l),o&&o.m(e,null),n[8](e),t=!0,i||(r=[we(ku,"mousedown",n[3],!0),we(ku,"keydown",n[4],!0),we(ku,"wheel",n[5],!0),we(e,"mousedown",c8),we(e,"keydown",n[4])],i=!0)},p(s,[l]){s[1]?o?(o.p(s,l),l&2&&A(o,1)):(o=Ym(s),o.c(),A(o,1),o.m(e,null)):o&&(Ee(),j(o,1,1,()=>{o=null}),Te())},i(s){t||(A(o),t=!0)},o(s){j(o),t=!1},d(s){s&&Z(e),o&&o.d(),n[8](null),i=!1,on(r)}}}function c8(n){n.stopPropagation()}function Zm(n,e){function t(){if(e.anchor){const{anchor:u,width:f=0,height:h=0,offsetTop:d=0,offsetLeft:m=0,position:g}=e,{left:y,top:p,bottom:v,right:k}=u.getBoundingClientRect(),b=g==="top"||p+h>window.innerHeight&&p>h,S=g==="left"||y+f>window.innerWidth&&y>f;return{left:S?k-m:y+m,top:b?p-d:v+d,positionAbove:b,positionLeft:S}}else if(typeof e.left=="number"&&typeof e.top=="number"){const{left:u,top:f,width:h=0,height:d=0}=e,m=f+d>window.innerHeight&&f>d,g=u+h>window.innerWidth&&u>h;return{left:u,top:f,positionAbove:m,positionLeft:g}}else throw new Error('Invalid config: pass either "left" and "top", or pass "anchor"')}const i=n.getBoundingClientRect(),{left:r,top:o,positionAbove:s,positionLeft:l}=t(),a=s?`bottom: ${i.top-o}px;`:`top: ${o-i.top}px;`,c=l?`right: ${i.left-r}px;`:`left: ${r-i.left}px;`;return a+c}function u8(n,e,t){let{popup:i}=e,{closeAbsolutePopup:r}=e,o,s;ki(f);function l(m){i.options&&i.options.closeOnOuterClick&&!bl(m.target,g=>g===o)&&r(i.id)}function a(m){l(m)}function c(m){hs(m)==="Escape"&&r(i.id)}function u(m){l(m)}function f(){s&&s.focus()}function h(m){pt[m?"unshift":"push"](()=>{s=m,t(2,s)})}function d(m){pt[m?"unshift":"push"](()=>{o=m,t(1,o)})}return n.$$set=m=>{"popup"in m&&t(0,i=m.popup),"closeAbsolutePopup"in m&&t(6,r=m.closeAbsolutePopup)},[i,o,s,a,c,u,r,h,d]}class f8 extends Xe{constructor(e){super(),Qe(this,e,u8,a8,tn,{popup:0,closeAbsolutePopup:6})}}function $m(n,e,t){const i=n.slice();return i[6]=e[t],i}function ep(n){let e,t;return e=new f8({props:{popup:n[6],closeAbsolutePopup:n[1]}}),{c(){ye(e.$$.fragment)},m(i,r){me(e,i,r),t=!0},p(i,r){const o={};r&1&&(o.popup=i[6]),e.$set(o)},i(i){t||(A(e.$$.fragment,i),t=!0)},o(i){j(e.$$.fragment,i),t=!1},d(i){pe(e,i)}}}function h8(n){let e,t,i=n[0],r=[];for(let a=0;a<i.length;a+=1)r[a]=ep($m(n,i,a));const o=a=>j(r[a],1,1,()=>{r[a]=null}),s=n[3].default,l=Ri(s,n,n[2],null);return{c(){for(let a=0;a<r.length;a+=1)r[a].c();e=oe(),l&&l.c()},m(a,c){for(let u=0;u<r.length;u+=1)r[u].m(a,c);$(a,e,c),l&&l.m(a,c),t=!0},p(a,[c]){if(c&3){i=a[0];let u;for(u=0;u<i.length;u+=1){const f=$m(a,i,u);r[u]?(r[u].p(f,c),A(r[u],1)):(r[u]=ep(f),r[u].c(),A(r[u],1),r[u].m(e.parentNode,e))}for(Ee(),u=i.length;u<r.length;u+=1)o(u);Te()}l&&l.p&&(!t||c&4)&&Li(l,s,a,a[2],t?ji(s,a[2],c,null):Bi(a[2]),null)},i(a){if(!t){for(let c=0;c<i.length;c+=1)A(r[c]);A(l,a),t=!0}},o(a){r=r.filter(Boolean);for(let c=0;c<r.length;c+=1)j(r[c]);j(l,a),t=!1},d(a){Vn(r,a),a&&Z(e),l&&l.d(a)}}}function d8(n,e,t){let{$$slots:i={},$$scope:r}=e;const o=$n("jsoneditor:AbsolutePopup");let s=[];function l(c,u,f){o("open...",u,f);const h={id:Ma(),component:c,props:u||{},options:f||{}};return t(0,s=[...s,h]),h.id}function a(c){const u=s.findIndex(f=>f.id===c);if(u!==-1){const f=s[u];f.options.onClose&&f.options.onClose(),t(0,s=s.filter(h=>h.id!==c))}}return Dy("absolute-popup",{openAbsolutePopup:l,closeAbsolutePopup:a}),n.$$set=c=>{"$$scope"in c&&t(2,r=c.$$scope)},n.$$.update=()=>{n.$$.dirty&1&&o("popups",s)},[s,a,r,i]}class Hv extends Xe{constructor(e){super(),Qe(this,e,d8,h8,Et,{})}}var xr={prefix:"fas",iconName:"caret-right",icon:[256,512,[],"f0da","M246.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-128-128c-9.2-9.2-22.9-11.9-34.9-6.9s-19.8 16.6-19.8 29.6l0 256c0 12.9 7.8 24.6 19.8 29.6s25.7 2.2 34.9-6.9l128-128z"]},m8={prefix:"fas",iconName:"paste",icon:[512,512,["file-clipboard"],"f0ea","M160 0c-23.7 0-44.4 12.9-55.4 32H48C21.5 32 0 53.5 0 80V400c0 26.5 21.5 48 48 48H192V176c0-44.2 35.8-80 80-80h48V80c0-26.5-21.5-48-48-48H215.4C204.4 12.9 183.7 0 160 0zM272 128c-26.5 0-48 21.5-48 48V448v16c0 26.5 21.5 48 48 48H464c26.5 0 48-21.5 48-48V256H416c-17.7 0-32-14.3-32-32V128H320 272zM160 88c-13.3 0-24-10.7-24-24s10.7-24 24-24s24 10.7 24 24s-10.7 24-24 24zm256 40v96h96l-96-96z"]},p8={prefix:"fas",iconName:"circle-notch",icon:[512,512,[],"f1ce","M222.7 32.1c5 16.9-4.6 34.8-21.5 39.8C121.8 95.6 64 169.1 64 256c0 106 86 192 192 192s192-86 192-192c0-86.9-57.8-160.4-137.1-184.1c-16.9-5-26.6-22.9-21.5-39.8s22.9-26.6 39.8-21.5C434.9 42.1 512 140 512 256c0 141.4-114.6 256-256 256S0 397.4 0 256C0 140 77.1 42.1 182.9 10.6c16.9-5 34.8 4.6 39.8 21.5z"]},g8={prefix:"fas",iconName:"scissors",icon:[512,512,[9984,9986,9988,"cut"],"f0c4","M256 192l-39.5-39.5c4.9-12.6 7.5-26.2 7.5-40.5C224 50.1 173.9 0 112 0S0 50.1 0 112s50.1 112 112 112c14.3 0 27.9-2.7 40.5-7.5L192 256l-39.5 39.5c-12.6-4.9-26.2-7.5-40.5-7.5C50.1 288 0 338.1 0 400s50.1 112 112 112s112-50.1 112-112c0-14.3-2.7-27.9-7.5-40.5L499.2 76.8c7.1-7.1 7.1-18.5 0-25.6c-28.3-28.3-74.1-28.3-102.4 0L256 192zm22.6 150.6L396.8 460.8c28.3 28.3 74.1 28.3 102.4 0c7.1-7.1 7.1-18.5 0-25.6L342.6 278.6l-64 64zM160 112c0 26.5-21.5 48-48 48s-48-21.5-48-48s21.5-48 48-48s48 21.5 48 48zM112 448c-26.5 0-48-21.5-48-48s21.5-48 48-48s48 21.5 48 48s-21.5 48-48 48z"]},Pf=g8,y8={prefix:"fas",iconName:"square-caret-down",icon:[448,512,["caret-square-down"],"f150","M384 480c35.3 0 64-28.7 64-64l0-320c0-35.3-28.7-64-64-64L64 32C28.7 32 0 60.7 0 96L0 416c0 35.3 28.7 64 64 64l320 0zM224 352c-6.7 0-13-2.8-17.6-7.7l-104-112c-6.5-7-8.2-17.2-4.4-25.9s12.5-14.4 22-14.4l208 0c9.5 0 18.2 5.7 22 14.4s2.1 18.9-4.4 25.9l-104 112c-4.5 4.9-10.9 7.7-17.6 7.7z"]},v8=y8,b8={prefix:"fas",iconName:"chevron-up",icon:[512,512,[],"f077","M233.4 105.4c12.5-12.5 32.8-12.5 45.3 0l192 192c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L256 173.3 86.6 342.6c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3l192-192z"]},zv={prefix:"fas",iconName:"angle-right",icon:[320,512,[8250],"f105","M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"]},w8={prefix:"fas",iconName:"square-caret-up",icon:[448,512,["caret-square-up"],"f151","M64 32C28.7 32 0 60.7 0 96V416c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V96c0-35.3-28.7-64-64-64H64zM224 160c6.7 0 13 2.8 17.6 7.7l104 112c6.5 7 8.2 17.2 4.4 25.9s-12.5 14.4-22 14.4H120c-9.5 0-18.2-5.7-22-14.4s-2.1-18.9 4.4-25.9l104-112c4.5-4.9 10.9-7.7 17.6-7.7z"]},_8=w8,$h={prefix:"fas",iconName:"filter",icon:[512,512,[],"f0b0","M3.9 54.9C10.5 40.9 24.5 32 40 32H472c15.5 0 29.5 8.9 36.1 22.9s4.6 30.5-5.2 42.5L320 320.9V448c0 12.1-6.8 23.2-17.7 28.6s-23.8 4.3-33.5-3l-64-48c-8.1-6-12.8-15.5-12.8-25.6V320.9L9 97.3C-.7 85.4-2.8 68.8 3.9 54.9z"]},La={prefix:"fas",iconName:"code",icon:[640,512,[],"f121","M392.8 1.2c-17-4.9-34.7 5-39.6 22l-128 448c-4.9 17 5 34.7 22 39.6s34.7-5 39.6-22l128-448c4.9-17-5-34.7-22-39.6zm80.6 120.1c-12.5 12.5-12.5 32.8 0 45.3L562.7 256l-89.4 89.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l112-112c12.5-12.5 12.5-32.8 0-45.3l-112-112c-12.5-12.5-32.8-12.5-45.3 0zm-306.7 0c-12.5-12.5-32.8-12.5-45.3 0l-112 112c-12.5 12.5-12.5 32.8 0 45.3l112 112c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256l89.4-89.4c12.5-12.5 12.5-32.8 0-45.3z"]},ed={prefix:"fas",iconName:"wrench",icon:[512,512,[128295],"f0ad","M352 320c88.4 0 160-71.6 160-160c0-15.3-2.2-30.1-6.2-44.2c-3.1-10.8-16.4-13.2-24.3-5.3l-76.8 76.8c-3 3-7.1 4.7-11.3 4.7H336c-8.8 0-16-7.2-16-16V118.6c0-4.2 1.7-8.3 4.7-11.3l76.8-76.8c7.9-7.9 5.4-21.2-5.3-24.3C382.1 2.2 367.3 0 352 0C263.6 0 192 71.6 192 160c0 19.1 3.4 37.5 9.5 54.5L19.9 396.1C7.2 408.8 0 426.1 0 444.1C0 481.6 30.4 512 67.9 512c18 0 35.3-7.2 48-19.9L297.5 310.5c17 6.2 35.4 9.5 54.5 9.5zM80 456c-13.3 0-24-10.7-24-24s10.7-24 24-24s24 10.7 24 24s-10.7 24-24 24z"]},td={prefix:"fas",iconName:"pen",icon:[512,512,[128394],"f304","M362.7 19.3L314.3 67.7 444.3 197.7l48.4-48.4c25-25 25-65.5 0-90.5L453.3 19.3c-25-25-65.5-25-90.5 0zm-71 71L58.6 323.5c-10.4 10.4-18 23.3-22.2 37.4L1 481.2C-1.5 489.7 .8 498.8 7 505s15.3 8.5 23.7 6.1l120.3-35.4c14.1-4.2 27-11.8 37.4-22.2L421.7 220.3 291.7 90.3z"]},k8={prefix:"fas",iconName:"arrow-rotate-right",icon:[512,512,[8635,"arrow-right-rotate","arrow-rotate-forward","redo"],"f01e","M386.3 160H336c-17.7 0-32 14.3-32 32s14.3 32 32 32H464c17.7 0 32-14.3 32-32V64c0-17.7-14.3-32-32-32s-32 14.3-32 32v51.2L414.4 97.6c-87.5-87.5-229.3-87.5-316.8 0s-87.5 229.3 0 316.8s229.3 87.5 316.8 0c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0c-62.5 62.5-163.8 62.5-226.3 0s-62.5-163.8 0-226.3s163.8-62.5 226.3 0L386.3 160z"]},qv=k8,S8={prefix:"fas",iconName:"arrow-rotate-left",icon:[512,512,[8634,"arrow-left-rotate","arrow-rotate-back","arrow-rotate-backward","undo"],"f0e2","M125.7 160H176c17.7 0 32 14.3 32 32s-14.3 32-32 32H48c-17.7 0-32-14.3-32-32V64c0-17.7 14.3-32 32-32s32 14.3 32 32v51.2L97.6 97.6c87.5-87.5 229.3-87.5 316.8 0s87.5 229.3 0 316.8s-229.3 87.5-316.8 0c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0c62.5 62.5 163.8 62.5 226.3 0s62.5-163.8 0-226.3s-163.8-62.5-226.3 0L125.7 160z"]},Wv=S8,C8={prefix:"fas",iconName:"crop-simple",icon:[512,512,["crop-alt"],"f565","M128 32c0-17.7-14.3-32-32-32S64 14.3 64 32V64H32C14.3 64 0 78.3 0 96s14.3 32 32 32H64V384c0 35.3 28.7 64 64 64H352V384H128V32zM384 480c0 17.7 14.3 32 32 32s32-14.3 32-32V448h32c17.7 0 32-14.3 32-32s-14.3-32-32-32H448l0-256c0-35.3-28.7-64-64-64L160 64v64l224 0 0 352z"]},x8=C8,O8={prefix:"fas",iconName:"gear",icon:[512,512,[9881,"cog"],"f013","M495.9 166.6c3.2 8.7 .5 18.4-6.4 24.6l-43.3 39.4c1.1 8.3 1.7 16.8 1.7 25.4s-.6 17.1-1.7 25.4l43.3 39.4c6.9 6.2 9.6 15.9 6.4 24.6c-4.4 11.9-9.7 23.3-15.8 34.3l-4.7 8.1c-6.6 11-14 21.4-22.1 31.2c-5.9 7.2-15.7 9.6-24.5 6.8l-55.7-17.7c-13.4 10.3-28.2 18.9-44 25.4l-12.5 57.1c-2 9.1-9 16.3-18.2 17.8c-13.8 2.3-28 3.5-42.5 3.5s-28.7-1.2-42.5-3.5c-9.2-1.5-16.2-8.7-18.2-17.8l-12.5-57.1c-15.8-6.5-30.6-15.1-44-25.4L83.1 425.9c-8.8 2.8-18.6 .3-24.5-6.8c-8.1-9.8-15.5-20.2-22.1-31.2l-4.7-8.1c-6.1-11-11.4-22.4-15.8-34.3c-3.2-8.7-.5-18.4 6.4-24.6l43.3-39.4C64.6 273.1 64 264.6 64 256s.6-17.1 1.7-25.4L22.4 191.2c-6.9-6.2-9.6-15.9-6.4-24.6c4.4-11.9 9.7-23.3 15.8-34.3l4.7-8.1c6.6-11 14-21.4 22.1-31.2c5.9-7.2 15.7-9.6 24.5-6.8l55.7 17.7c13.4-10.3 28.2-18.9 44-25.4l12.5-57.1c2-9.1 9-16.3 18.2-17.8C227.3 1.2 241.5 0 256 0s28.7 1.2 42.5 3.5c9.2 1.5 16.2 8.7 18.2 17.8l12.5 57.1c15.8 6.5 30.6 15.1 44 25.4l55.7-17.7c8.8-2.8 18.6-.3 24.5 6.8c8.1 9.8 15.5 20.2 22.1 31.2l4.7 8.1c6.1 11 11.4 22.4 15.8 34.3zM256 336c44.2 0 80-35.8 80-80s-35.8-80-80-80s-80 35.8-80 80s35.8 80 80 80z"]},E8=O8,Yi={prefix:"fas",iconName:"caret-down",icon:[320,512,[],"f0d7","M137.4 374.6c12.5 12.5 32.8 12.5 45.3 0l128-128c9.2-9.2 11.9-22.9 6.9-34.9s-16.6-19.8-29.6-19.8L32 192c-12.9 0-24.6 7.8-29.6 19.8s-2.2 25.7 6.9 34.9l128 128z"]},T8={prefix:"fas",iconName:"ellipsis-vertical",icon:[128,512,["ellipsis-v"],"f142","M64 360c30.9 0 56 25.1 56 56s-25.1 56-56 56s-56-25.1-56-56s25.1-56 56-56zm0-160c30.9 0 56 25.1 56 56s-25.1 56-56 56s-56-25.1-56-56s25.1-56 56-56zM120 96c0 30.9-25.1 56-56 56S8 126.9 8 96S33.1 40 64 40s56 25.1 56 56z"]},M8=T8,A8={prefix:"fas",iconName:"arrow-down-short-wide",icon:[576,512,["sort-amount-desc","sort-amount-down-alt"],"f884","M151.6 469.6C145.5 476.2 137 480 128 480s-17.5-3.8-23.6-10.4l-88-96c-11.9-13-11.1-33.3 2-45.2s33.3-11.1 45.2 2L96 365.7V64c0-17.7 14.3-32 32-32s32 14.3 32 32V365.7l32.4-35.4c11.9-13 32.2-13.9 45.2-2s13.9 32.2 2 45.2l-88 96zM320 32h32c17.7 0 32 14.3 32 32s-14.3 32-32 32H320c-17.7 0-32-14.3-32-32s14.3-32 32-32zm0 128h96c17.7 0 32 14.3 32 32s-14.3 32-32 32H320c-17.7 0-32-14.3-32-32s14.3-32 32-32zm0 128H480c17.7 0 32 14.3 32 32s-14.3 32-32 32H320c-17.7 0-32-14.3-32-32s14.3-32 32-32zm0 128H544c17.7 0 32 14.3 32 32s-14.3 32-32 32H320c-17.7 0-32-14.3-32-32s14.3-32 32-32z"]},nd=A8,P8={prefix:"fas",iconName:"angle-down",icon:[448,512,[8964],"f107","M201.4 374.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 306.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z"]},I8={prefix:"fas",iconName:"arrow-down",icon:[384,512,[8595],"f063","M169.4 470.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 370.8 224 64c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 306.7L54.6 265.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z"]},N8={prefix:"fas",iconName:"magnifying-glass",icon:[512,512,[128269,"search"],"f002","M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352c79.5 0 144-64.5 144-144s-64.5-144-144-144S64 128.5 64 208s64.5 144 144 144z"]},id=N8,D8={prefix:"fas",iconName:"chevron-down",icon:[512,512,[],"f078","M233.4 406.6c12.5 12.5 32.8 12.5 45.3 0l192-192c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L256 338.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l192 192z"]},Ba={prefix:"fas",iconName:"copy",icon:[512,512,[],"f0c5","M224 0c-35.3 0-64 28.7-64 64V288c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V64c0-35.3-28.7-64-64-64H224zM64 160c-35.3 0-64 28.7-64 64V448c0 35.3 28.7 64 64 64H288c35.3 0 64-28.7 64-64V384H288v64H64V224h64V160H64z"]},R8={prefix:"fas",iconName:"xmark",icon:[320,512,[128473,10005,10006,10060,215,"close","multiply","remove","times"],"f00d","M310.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L160 210.7 54.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L114.7 256 9.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L160 301.3 265.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L205.3 256 310.6 150.6z"]},wl=R8,j8={prefix:"fas",iconName:"clone",icon:[512,512,[],"f24d","M0 448c0 35.3 28.7 64 64 64H288c35.3 0 64-28.7 64-64V384H224c-53 0-96-43-96-96V160H64c-35.3 0-64 28.7-64 64V448zm224-96H448c35.3 0 64-28.7 64-64V64c0-35.3-28.7-64-64-64H224c-35.3 0-64 28.7-64 64V288c0 35.3 28.7 64 64 64z"]},If={prefix:"fas",iconName:"check",icon:[512,512,[10003,10004],"f00c","M470.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L192 338.7 425.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"]},L8={prefix:"fas",iconName:"triangle-exclamation",icon:[512,512,[9888,"exclamation-triangle","warning"],"f071","M256 32c14.2 0 27.3 7.5 34.5 19.8l216 368c7.3 12.4 7.3 27.7 .2 40.1S486.3 480 472 480H40c-14.3 0-27.6-7.7-34.7-20.1s-7-27.8 .2-40.1l216-368C228.7 39.5 241.8 32 256 32zm0 128c-13.3 0-24 10.7-24 24V296c0 13.3 10.7 24 24 24s24-10.7 24-24V184c0-13.3-10.7-24-24-24zm32 224c0-17.7-14.3-32-32-32s-32 14.3-32 32s14.3 32 32 32s32-14.3 32-32z"]},ds=L8;function Fl(n,e=1e3){if(n<.9*e)return n.toFixed()+" B";const t=n/e;if(t<.9*e)return t.toFixed(1)+" KB";const i=t/e;if(i<.9*e)return i.toFixed(1)+" MB";const r=i/e;return r<.9*e?r.toFixed(1)+" GB":(r/e).toFixed(1)+" TB"}const Vl=$n("jsoneditor:FocusTracker");function Uv({onMount:n,onDestroy:e,getWindow:t,hasFocus:i,onFocus:r,onBlur:o}){let s,l=!1;function a(){const u=i();u&&(clearTimeout(s),l||(Vl("focus"),r(),l=u))}function c(){l&&(clearTimeout(s),s=setTimeout(()=>{Vl("blur"),l=!1,o()}))}n(()=>{Vl("mount FocusTracker");const u=t();u&&(u.addEventListener("focusin",a,!0),u.addEventListener("focusout",c,!0))}),e(()=>{Vl("destroy FocusTracker");const u=t();u&&(u.removeEventListener("focusin",a,!0),u.removeEventListener("focusout",c,!0))})}function B8(n){let e,t,i=[{id:t="path-"+n[0]},n[1]],r={};for(let o=0;o<i.length;o+=1)r=Wr(r,i[o]);return{c(){e=hr("path"),xa(e,r)},m(o,s){$(o,e,s)},p(o,[s]){xa(e,r=_o(i,[s&1&&t!==(t="path-"+o[0])&&{id:t},s&2&&o[1]]))},i:xe,o:xe,d(o){o&&Z(e)}}}function F8(n,e,t){let{id:i}=e,{data:r={}}=e;return n.$$set=o=>{"id"in o&&t(0,i=o.id),"data"in o&&t(1,r=o.data)},[i,r]}class V8 extends Xe{constructor(e){super(),Qe(this,e,F8,B8,tn,{id:0,data:1})}}function H8(n){let e,t,i=[{id:t="polygon-"+n[0]},n[1]],r={};for(let o=0;o<i.length;o+=1)r=Wr(r,i[o]);return{c(){e=hr("polygon"),xa(e,r)},m(o,s){$(o,e,s)},p(o,[s]){xa(e,r=_o(i,[s&1&&t!==(t="polygon-"+o[0])&&{id:t},s&2&&o[1]]))},i:xe,o:xe,d(o){o&&Z(e)}}}function z8(n,e,t){let{id:i}=e,{data:r={}}=e;return n.$$set=o=>{"id"in o&&t(0,i=o.id),"data"in o&&t(1,r=o.data)},[i,r]}class q8 extends Xe{constructor(e){super(),Qe(this,e,z8,H8,tn,{id:0,data:1})}}function W8(n){let e;return{c(){e=hr("g")},m(t,i){$(t,e,i),e.innerHTML=n[0]},p(t,[i]){i&1&&(e.innerHTML=t[0])},i:xe,o:xe,d(t){t&&Z(e)}}}function U8(n,e,t){let i=870711;function r(){return i+=1,`fa-${i.toString(16)}`}let o,{data:s}=e;function l(a){if(!a||!a.raw)return null;let c=a.raw;const u={};return c=c.replace(/\s(?:xml:)?id=["']?([^"')\s]+)/g,(f,h)=>{const d=r();return u[h]=d,` id="${d}"`}),c=c.replace(/#(?:([^'")\s]+)|xpointer\(id\((['"]?)([^')]+)\2\)\))/g,(f,h,d,m)=>{const g=h||m;return!g||!u[g]?f:`#${u[g]}`}),c}return n.$$set=a=>{"data"in a&&t(1,s=a.data)},n.$$.update=()=>{n.$$.dirty&2&&t(0,o=l(s))},[o,s]}class K8 extends Xe{constructor(e){super(),Qe(this,e,U8,W8,tn,{data:1})}}function J8(n){let e,t,i,r;const o=n[13].default,s=Ri(o,n,n[12],null);return{c(){e=hr("svg"),s&&s.c(),_(e,"version","1.1"),_(e,"class",t="fa-icon "+n[0]+" svelte-1dof0an"),_(e,"x",n[8]),_(e,"y",n[9]),_(e,"width",n[1]),_(e,"height",n[2]),_(e,"aria-label",n[11]),_(e,"role",i=n[11]?"img":"presentation"),_(e,"viewBox",n[3]),_(e,"style",n[10]),Ne(e,"fa-spin",n[4]),Ne(e,"fa-pulse",n[6]),Ne(e,"fa-inverse",n[5]),Ne(e,"fa-flip-horizontal",n[7]==="horizontal"),Ne(e,"fa-flip-vertical",n[7]==="vertical")},m(l,a){$(l,e,a),s&&s.m(e,null),r=!0},p(l,[a]){s&&s.p&&(!r||a&4096)&&Li(s,o,l,l[12],r?ji(o,l[12],a,null):Bi(l[12]),null),(!r||a&1&&t!==(t="fa-icon "+l[0]+" svelte-1dof0an"))&&_(e,"class",t),(!r||a&256)&&_(e,"x",l[8]),(!r||a&512)&&_(e,"y",l[9]),(!r||a&2)&&_(e,"width",l[1]),(!r||a&4)&&_(e,"height",l[2]),(!r||a&2048)&&_(e,"aria-label",l[11]),(!r||a&2048&&i!==(i=l[11]?"img":"presentation"))&&_(e,"role",i),(!r||a&8)&&_(e,"viewBox",l[3]),(!r||a&1024)&&_(e,"style",l[10]),a&17&&Ne(e,"fa-spin",l[4]),a&65&&Ne(e,"fa-pulse",l[6]),a&33&&Ne(e,"fa-inverse",l[5]),a&129&&Ne(e,"fa-flip-horizontal",l[7]==="horizontal"),a&129&&Ne(e,"fa-flip-vertical",l[7]==="vertical")},i(l){r||(A(s,l),r=!0)},o(l){j(s,l),r=!1},d(l){l&&Z(e),s&&s.d(l)}}}function G8(n,e,t){let{$$slots:i={},$$scope:r}=e,{class:o}=e,{width:s}=e,{height:l}=e,{box:a}=e,{spin:c=!1}=e,{inverse:u=!1}=e,{pulse:f=!1}=e,{flip:h=null}=e,{x:d=void 0}=e,{y:m=void 0}=e,{style:g=void 0}=e,{label:y=void 0}=e;return n.$$set=p=>{"class"in p&&t(0,o=p.class),"width"in p&&t(1,s=p.width),"height"in p&&t(2,l=p.height),"box"in p&&t(3,a=p.box),"spin"in p&&t(4,c=p.spin),"inverse"in p&&t(5,u=p.inverse),"pulse"in p&&t(6,f=p.pulse),"flip"in p&&t(7,h=p.flip),"x"in p&&t(8,d=p.x),"y"in p&&t(9,m=p.y),"style"in p&&t(10,g=p.style),"label"in p&&t(11,y=p.label),"$$scope"in p&&t(12,r=p.$$scope)},[o,s,l,a,c,u,f,h,d,m,g,y,r,i]}class Q8 extends Xe{constructor(e){super(),Qe(this,e,G8,J8,tn,{class:0,width:1,height:2,box:3,spin:4,inverse:5,pulse:6,flip:7,x:8,y:9,style:10,label:11})}}function tp(n,e,t){const i=n.slice();return i[24]=e[t],i[26]=t,i}function np(n,e,t){const i=n.slice();return i[27]=e[t],i[26]=t,i}function ip(n){let e,t,i,r,o=n[6].paths&&rp(n),s=n[6].polygons&&sp(n),l=n[6].raw&&ap(n);return{c(){o&&o.c(),e=oe(),s&&s.c(),t=oe(),l&&l.c(),i=Nt()},m(a,c){o&&o.m(a,c),$(a,e,c),s&&s.m(a,c),$(a,t,c),l&&l.m(a,c),$(a,i,c),r=!0},p(a,c){a[6].paths?o?(o.p(a,c),c&64&&A(o,1)):(o=rp(a),o.c(),A(o,1),o.m(e.parentNode,e)):o&&(Ee(),j(o,1,1,()=>{o=null}),Te()),a[6].polygons?s?(s.p(a,c),c&64&&A(s,1)):(s=sp(a),s.c(),A(s,1),s.m(t.parentNode,t)):s&&(Ee(),j(s,1,1,()=>{s=null}),Te()),a[6].raw?l?(l.p(a,c),c&64&&A(l,1)):(l=ap(a),l.c(),A(l,1),l.m(i.parentNode,i)):l&&(Ee(),j(l,1,1,()=>{l=null}),Te())},i(a){r||(A(o),A(s),A(l),r=!0)},o(a){j(o),j(s),j(l),r=!1},d(a){o&&o.d(a),a&&Z(e),s&&s.d(a),a&&Z(t),l&&l.d(a),a&&Z(i)}}}function rp(n){let e,t,i=n[6].paths,r=[];for(let s=0;s<i.length;s+=1)r[s]=op(np(n,i,s));const o=s=>j(r[s],1,1,()=>{r[s]=null});return{c(){for(let s=0;s<r.length;s+=1)r[s].c();e=Nt()},m(s,l){for(let a=0;a<r.length;a+=1)r[a].m(s,l);$(s,e,l),t=!0},p(s,l){if(l&64){i=s[6].paths;let a;for(a=0;a<i.length;a+=1){const c=np(s,i,a);r[a]?(r[a].p(c,l),A(r[a],1)):(r[a]=op(c),r[a].c(),A(r[a],1),r[a].m(e.parentNode,e))}for(Ee(),a=i.length;a<r.length;a+=1)o(a);Te()}},i(s){if(!t){for(let l=0;l<i.length;l+=1)A(r[l]);t=!0}},o(s){r=r.filter(Boolean);for(let l=0;l<r.length;l+=1)j(r[l]);t=!1},d(s){Vn(r,s),s&&Z(e)}}}function op(n){let e,t;return e=new V8({props:{id:n[26],data:n[27]}}),{c(){ye(e.$$.fragment)},m(i,r){me(e,i,r),t=!0},p(i,r){const o={};r&64&&(o.data=i[27]),e.$set(o)},i(i){t||(A(e.$$.fragment,i),t=!0)},o(i){j(e.$$.fragment,i),t=!1},d(i){pe(e,i)}}}function sp(n){let e,t,i=n[6].polygons,r=[];for(let s=0;s<i.length;s+=1)r[s]=lp(tp(n,i,s));const o=s=>j(r[s],1,1,()=>{r[s]=null});return{c(){for(let s=0;s<r.length;s+=1)r[s].c();e=Nt()},m(s,l){for(let a=0;a<r.length;a+=1)r[a].m(s,l);$(s,e,l),t=!0},p(s,l){if(l&64){i=s[6].polygons;let a;for(a=0;a<i.length;a+=1){const c=tp(s,i,a);r[a]?(r[a].p(c,l),A(r[a],1)):(r[a]=lp(c),r[a].c(),A(r[a],1),r[a].m(e.parentNode,e))}for(Ee(),a=i.length;a<r.length;a+=1)o(a);Te()}},i(s){if(!t){for(let l=0;l<i.length;l+=1)A(r[l]);t=!0}},o(s){r=r.filter(Boolean);for(let l=0;l<r.length;l+=1)j(r[l]);t=!1},d(s){Vn(r,s),s&&Z(e)}}}function lp(n){let e,t;return e=new q8({props:{id:n[26],data:n[24]}}),{c(){ye(e.$$.fragment)},m(i,r){me(e,i,r),t=!0},p(i,r){const o={};r&64&&(o.data=i[24]),e.$set(o)},i(i){t||(A(e.$$.fragment,i),t=!0)},o(i){j(e.$$.fragment,i),t=!1},d(i){pe(e,i)}}}function ap(n){let e,t,i;function r(s){n[15](s)}let o={};return n[6]!==void 0&&(o.data=n[6]),e=new K8({props:o}),pt.push(()=>Fn(e,"data",r)),{c(){ye(e.$$.fragment)},m(s,l){me(e,s,l),i=!0},p(s,l){const a={};!t&&l&64&&(t=!0,a.data=s[6],zn(()=>t=!1)),e.$set(a)},i(s){i||(A(e.$$.fragment,s),i=!0)},o(s){j(e.$$.fragment,s),i=!1},d(s){pe(e,s)}}}function X8(n){let e,t,i=n[6]&&ip(n);return{c(){i&&i.c(),e=Nt()},m(r,o){i&&i.m(r,o),$(r,e,o),t=!0},p(r,o){r[6]?i?(i.p(r,o),o&64&&A(i,1)):(i=ip(r),i.c(),A(i,1),i.m(e.parentNode,e)):i&&(Ee(),j(i,1,1,()=>{i=null}),Te())},i(r){t||(A(i),t=!0)},o(r){j(i),t=!1},d(r){i&&i.d(r),r&&Z(e)}}}function Y8(n){let e;const t=n[14].default,i=Ri(t,n,n[16],null),r=i||X8(n);return{c(){r&&r.c()},m(o,s){r&&r.m(o,s),e=!0},p(o,s){i?i.p&&(!e||s&65536)&&Li(i,t,o,o[16],e?ji(t,o[16],s,null):Bi(o[16]),null):r&&r.p&&(!e||s&64)&&r.p(o,e?s:-1)},i(o){e||(A(r,o),e=!0)},o(o){j(r,o),e=!1},d(o){r&&r.d(o)}}}function Z8(n){let e,t;return e=new Q8({props:{label:n[5],width:n[7],height:n[8],box:n[10],style:n[9],spin:n[1],flip:n[4],inverse:n[2],pulse:n[3],class:n[0],$$slots:{default:[Y8]},$$scope:{ctx:n}}}),{c(){ye(e.$$.fragment)},m(i,r){me(e,i,r),t=!0},p(i,[r]){const o={};r&32&&(o.label=i[5]),r&128&&(o.width=i[7]),r&256&&(o.height=i[8]),r&1024&&(o.box=i[10]),r&512&&(o.style=i[9]),r&2&&(o.spin=i[1]),r&16&&(o.flip=i[4]),r&4&&(o.inverse=i[2]),r&8&&(o.pulse=i[3]),r&1&&(o.class=i[0]),r&65600&&(o.$$scope={dirty:r,ctx:i}),e.$set(o)},i(i){t||(A(e.$$.fragment,i),t=!0)},o(i){j(e.$$.fragment,i),t=!1},d(i){pe(e,i)}}}let cp=1;function $8(n){if("iconName"in n&&"icon"in n){let e={},t=n.icon,i=n.iconName,r=t[0],o=t[1],s=t[4],l={width:r,height:o,paths:[{d:s}]};return e[i]=l,e}return n}function eO(n,e,t){let{$$slots:i={},$$scope:r}=e,{class:o=""}=e,{data:s}=e,{scale:l=1}=e,{spin:a=!1}=e,{inverse:c=!1}=e,{pulse:u=!1}=e,{flip:f=null}=e,{label:h=null}=e,d=null,{style:m=null}=e,g,y,p,v;function k(){if(typeof s>"u")return;const H=$8(s),[F]=Object.keys(H),q=H[F];q.paths||(q.paths=[]),q.d&&q.paths.push({d:q.d}),q.polygons||(q.polygons=[]),q.points&&q.polygons.push({points:q.points}),t(6,d=q)}function b(){let H=1;return typeof l<"u"&&(H=Number(l)),isNaN(H)||H<=0?(console.warn('Invalid prop: prop "scale" should be a number over 0.'),cp):H*cp}function S(){return d?`0 0 ${d.width} ${d.height}`:`0 0 ${g} ${y}`}function O(){return d?Math.max(d.width,d.height)/16:1}function I(){return d?d.width/O()*b():0}function L(){return d?d.height/O()*b():0}function P(){let H="";m!==null&&(H+=m);let F=b();return F===1?H.length===0?void 0:H:(H!==""&&!H.endsWith(";")&&(H+="; "),`${H}font-size: ${F}em`)}function D(H){d=H,t(6,d)}return n.$$set=H=>{"class"in H&&t(0,o=H.class),"data"in H&&t(11,s=H.data),"scale"in H&&t(12,l=H.scale),"spin"in H&&t(1,a=H.spin),"inverse"in H&&t(2,c=H.inverse),"pulse"in H&&t(3,u=H.pulse),"flip"in H&&t(4,f=H.flip),"label"in H&&t(5,h=H.label),"style"in H&&t(13,m=H.style),"$$scope"in H&&t(16,r=H.$$scope)},n.$$.update=()=>{n.$$.dirty&14336&&(k(),t(7,g=I()),t(8,y=L()),t(9,p=P()),t(10,v=S()))},[o,a,c,u,f,h,d,g,y,p,v,s,l,m,i,D,r]}class wt extends Xe{constructor(e){super(),Qe(this,e,eO,Z8,tn,{class:0,data:11,scale:12,spin:1,inverse:2,pulse:3,flip:4,label:5,style:13})}}function up(n,e,t){const i=n.slice();return i[8]=e[t],i}function fp(n){let e,t;return e=new wt({props:{data:n[1]}}),{c(){ye(e.$$.fragment)},m(i,r){me(e,i,r),t=!0},p(i,r){const o={};r&2&&(o.data=i[1]),e.$set(o)},i(i){t||(A(e.$$.fragment,i),t=!0)},o(i){j(e.$$.fragment,i),t=!1},d(i){pe(e,i)}}}function hp(n){let e,t;return e=new wt({props:{data:n[8].icon}}),{c(){ye(e.$$.fragment)},m(i,r){me(e,i,r),t=!0},p(i,r){const o={};r&8&&(o.data=i[8].icon),e.$set(o)},i(i){t||(A(e.$$.fragment,i),t=!0)},o(i){j(e.$$.fragment,i),t=!1},d(i){pe(e,i)}}}function dp(n){let e,t,i=n[8].text+"",r,o,s,l,a,c,u,f=n[8].icon&&hp(n);function h(){return n[6](n[8])}function d(){return n[7](n[8])}return{c(){e=R("button"),f&&f.c(),t=oe(),r=Be(i),o=oe(),_(e,"type","button"),_(e,"class","jse-button jse-action jse-primary svelte-c24vac"),_(e,"title",s=n[8].title),e.disabled=l=n[8].disabled},m(m,g){$(m,e,g),f&&f.m(e,null),E(e,t),E(e,r),E(e,o),a=!0,c||(u=[we(e,"click",h),we(e,"mousedown",d)],c=!0)},p(m,g){n=m,n[8].icon?f?(f.p(n,g),g&8&&A(f,1)):(f=hp(n),f.c(),A(f,1),f.m(e,t)):f&&(Ee(),j(f,1,1,()=>{f=null}),Te()),(!a||g&8)&&i!==(i=n[8].text+"")&&St(r,i),(!a||g&8&&s!==(s=n[8].title))&&_(e,"title",s),(!a||g&8&&l!==(l=n[8].disabled))&&(e.disabled=l)},i(m){a||(A(f),a=!0)},o(m){j(f),a=!1},d(m){m&&Z(e),f&&f.d(),c=!1,on(u)}}}function tO(n){let e,t,i,r,o,s,l,a,c,u,f=n[1]&&fp(n),h=n[3],d=[];for(let g=0;g<h.length;g+=1)d[g]=dp(up(n,h,g));const m=g=>j(d[g],1,1,()=>{d[g]=null});return{c(){e=R("div"),t=R("div"),f&&f.c(),i=oe(),r=Be(n[2]),o=oe(),s=R("div");for(let g=0;g<d.length;g+=1)d[g].c();_(t,"class","jse-text svelte-c24vac"),Ne(t,"jse-clickable",n[4]!==null),_(s,"class","jse-actions svelte-c24vac"),_(e,"class",l="jse-message jse-"+n[0]+" svelte-c24vac")},m(g,y){$(g,e,y),E(e,t),f&&f.m(t,null),E(t,i),E(t,r),E(e,o),E(e,s);for(let p=0;p<d.length;p+=1)d[p].m(s,null);a=!0,c||(u=we(t,"click",n[5]),c=!0)},p(g,[y]){if(g[1]?f?(f.p(g,y),y&2&&A(f,1)):(f=fp(g),f.c(),A(f,1),f.m(t,i)):f&&(Ee(),j(f,1,1,()=>{f=null}),Te()),(!a||y&4)&&St(r,g[2]),y&16&&Ne(t,"jse-clickable",g[4]!==null),y&8){h=g[3];let p;for(p=0;p<h.length;p+=1){const v=up(g,h,p);d[p]?(d[p].p(v,y),A(d[p],1)):(d[p]=dp(v),d[p].c(),A(d[p],1),d[p].m(s,null))}for(Ee(),p=h.length;p<d.length;p+=1)m(p);Te()}(!a||y&1&&l!==(l="jse-message jse-"+g[0]+" svelte-c24vac"))&&_(e,"class",l)},i(g){if(!a){A(f);for(let y=0;y<h.length;y+=1)A(d[y]);a=!0}},o(g){j(f),d=d.filter(Boolean);for(let y=0;y<d.length;y+=1)j(d[y]);a=!1},d(g){g&&Z(e),f&&f.d(),Vn(d,g),c=!1,u()}}}function nO(n,e,t){let{type:i="success"}=e,{icon:r=void 0}=e,{message:o=void 0}=e,{actions:s=[]}=e,{onClick:l=void 0}=e;function a(){l&&l()}const c=f=>{f.onClick&&f.onClick()},u=f=>{f.onMouseDown&&f.onMouseDown()};return n.$$set=f=>{"type"in f&&t(0,i=f.type),"icon"in f&&t(1,r=f.icon),"message"in f&&t(2,o=f.message),"actions"in f&&t(3,s=f.actions),"onClick"in f&&t(4,l=f.onClick)},[i,r,o,s,l,a,c,u]}class Co extends Xe{constructor(e){super(),Qe(this,e,nO,tO,Et,{type:0,icon:1,message:2,actions:3,onClick:4})}}function Br(n){return n.map(iO).join("")}function iO(n){return Jv.test(n)?"["+n+"]":Kv.test(n)?"."+n:"["+JSON.stringify(n)+"]"}function Jr(n){return n.map(e=>Jv.test(e)?`?.[${e}]`:Kv.test(e)?`?.${e}`:`?.[${JSON.stringify(e)}]`).join("")}const Kv=/^[A-z$_][A-z$_\d]*$/i,Jv=/^\d+$/;function rO(){return Rc(n=>n,Br)}function mp(n,e,t){const i=n.slice();return i[6]=e[t],i[8]=t,i}function pp(n){let e,t,i,r;const o=[sO,oO],s=[];function l(a,c){return a[2]||a[0].length===1?0:1}return t=l(n),i=s[t]=o[t](n),{c(){e=R("div"),i.c(),_(e,"class","jse-validation-errors-overview svelte-1hu2cx3")},m(a,c){$(a,e,c),s[t].m(e,null),r=!0},p(a,c){let u=t;t=l(a),t===u?s[t].p(a,c):(Ee(),j(s[u],1,1,()=>{s[u]=null}),Te(),i=s[t],i?i.p(a,c):(i=s[t]=o[t](a),i.c()),A(i,1),i.m(e,null))},i(a){r||(A(i),r=!0)},o(a){j(i),r=!1},d(a){a&&Z(e),s[t].d()}}}function oO(n){let e,t,i,r,o,s,l,a=n[0].length+"",c,u,f,h,d,m,g;return o=new wt({props:{data:ds}}),h=new wt({props:{data:zv}}),{c(){e=R("table"),t=R("tbody"),i=R("tr"),r=R("td"),ye(o.$$.fragment),s=oe(),l=R("td"),c=Be(a),u=Be(` validation errors
              `),f=R("div"),ye(h.$$.fragment),_(r,"class","jse-validation-error-icon svelte-1hu2cx3"),_(f,"class","jse-validation-errors-expand svelte-1hu2cx3"),_(l,"class","svelte-1hu2cx3"),_(i,"class","jse-validation-error svelte-1hu2cx3"),_(e,"class","svelte-1hu2cx3")},m(y,p){$(y,e,p),E(e,t),E(t,i),E(i,r),me(o,r,null),E(i,s),E(i,l),E(l,c),E(l,u),E(l,f),me(h,f,null),d=!0,m||(g=we(i,"click",n[4]),m=!0)},p(y,p){(!d||p&1)&&a!==(a=y[0].length+"")&&St(c,a)},i(y){d||(A(o.$$.fragment,y),A(h.$$.fragment,y),d=!0)},o(y){j(o.$$.fragment,y),j(h.$$.fragment,y),d=!1},d(y){y&&Z(e),pe(o),pe(h),m=!1,g()}}}function sO(n){let e,t,i,r=n[0],o=[];for(let l=0;l<r.length;l+=1)o[l]=yp(mp(n,r,l));const s=l=>j(o[l],1,1,()=>{o[l]=null});return{c(){e=R("table"),t=R("tbody");for(let l=0;l<o.length;l+=1)o[l].c();_(e,"class","svelte-1hu2cx3")},m(l,a){$(l,e,a),E(e,t);for(let c=0;c<o.length;c+=1)o[c].m(t,null);i=!0},p(l,a){if(a&11){r=l[0];let c;for(c=0;c<r.length;c+=1){const u=mp(l,r,c);o[c]?(o[c].p(u,a),A(o[c],1)):(o[c]=yp(u),o[c].c(),A(o[c],1),o[c].m(t,null))}for(Ee(),c=r.length;c<o.length;c+=1)s(c);Te()}},i(l){if(!i){for(let a=0;a<r.length;a+=1)A(o[a]);i=!0}},o(l){o=o.filter(Boolean);for(let a=0;a<o.length;a+=1)j(o[a]);i=!1},d(l){l&&Z(e),Vn(o,l)}}}function gp(n){let e,t,i,r,o;return t=new wt({props:{data:P8}}),{c(){e=R("button"),ye(t.$$.fragment),_(e,"type","button"),_(e,"class","jse-validation-errors-collapse svelte-1hu2cx3"),_(e,"title","Collapse validation errors")},m(s,l){$(s,e,l),me(t,e,null),i=!0,r||(o=we(e,"click",Py(n[3])),r=!0)},p:xe,i(s){i||(A(t.$$.fragment,s),i=!0)},o(s){j(t.$$.fragment,s),i=!1},d(s){s&&Z(e),pe(t),r=!1,o()}}}function yp(n){let e,t,i,r,o,s=Br(n[6].path)+"",l,a,c,u=n[6].message+"",f,h,d,m,g,y,p;i=new wt({props:{data:ds}});let v=n[8]===0&&n[0].length>1&&gp(n);function k(){return n[5](n[6])}return{c(){e=R("tr"),t=R("td"),ye(i.$$.fragment),r=oe(),o=R("td"),l=Be(s),a=oe(),c=R("td"),f=Be(u),h=oe(),d=R("td"),v&&v.c(),m=oe(),_(t,"class","jse-validation-error-icon svelte-1hu2cx3"),_(o,"class","svelte-1hu2cx3"),_(c,"class","svelte-1hu2cx3"),_(d,"class","jse-validation-error-action svelte-1hu2cx3"),_(e,"class","jse-validation-error svelte-1hu2cx3")},m(b,S){$(b,e,S),E(e,t),me(i,t,null),E(e,r),E(e,o),E(o,l),E(e,a),E(e,c),E(c,f),E(e,h),E(e,d),v&&v.m(d,null),E(e,m),g=!0,y||(p=we(e,"click",k),y=!0)},p(b,S){n=b,(!g||S&1)&&s!==(s=Br(n[6].path)+"")&&St(l,s),(!g||S&1)&&u!==(u=n[6].message+"")&&St(f,u),n[8]===0&&n[0].length>1?v?(v.p(n,S),S&1&&A(v,1)):(v=gp(n),v.c(),A(v,1),v.m(d,null)):v&&(Ee(),j(v,1,1,()=>{v=null}),Te())},i(b){g||(A(i.$$.fragment,b),A(v),g=!0)},o(b){j(i.$$.fragment,b),j(v),g=!1},d(b){b&&Z(e),pe(i),v&&v.d(),y=!1,p()}}}function lO(n){let e=!rn(n[0]),t,i,r=e&&pp(n);return{c(){r&&r.c(),t=Nt()},m(o,s){r&&r.m(o,s),$(o,t,s),i=!0},p(o,[s]){s&1&&(e=!rn(o[0])),e?r?(r.p(o,s),s&1&&A(r,1)):(r=pp(o),r.c(),A(r,1),r.m(t.parentNode,t)):r&&(Ee(),j(r,1,1,()=>{r=null}),Te())},i(o){i||(A(r),i=!0)},o(o){j(r),i=!1},d(o){r&&r.d(o),o&&Z(t)}}}function aO(n,e,t){let{validationErrors:i}=e,{selectError:r}=e,o=!0;function s(){t(2,o=!1)}function l(){t(2,o=!0)}const a=c=>{setTimeout(()=>r(c))};return n.$$set=c=>{"validationErrors"in c&&t(0,i=c.validationErrors),"selectError"in c&&t(1,r=c.selectError)},[i,r,o,s,l,a]}class Gv extends Xe{constructor(e){super(),Qe(this,e,aO,lO,Et,{validationErrors:0,selectError:1})}}const cO={prefix:"fas",iconName:"jsoneditor-expand",icon:[512,512,[],null,"M 0,448 V 512 h 512 v -64 z M 0,0 V 64 H 512 V 0 Z M 256,96 128,224 h 256 z M 256,416 384,288 H 128 Z"]},uO={prefix:"fas",iconName:"jsoneditor-collapse",icon:[512,512,[],null,"m 0,224 v 64 h 512 v -64 z M 256,192 384,64 H 128 Z M 256,320 128,448 h 256 z"]},fO={prefix:"fas",iconName:"jsoneditor-format",icon:[512,512,[],null,"M 0,32 v 64 h 416 v -64 z M 160,160 v 64 h 352 v -64 z M 160,288 v 64 h 288 v -64 z M 0,416 v 64 h 320 v -64 z"]},hO={prefix:"fas",iconName:"jsoneditor-compact",icon:[512,512,[],null,"M 0,32 v 64 h 512 v -64 z M 0,160 v 64 h 512 v -64 z M 0,288 v 64 h 352 v -64 z"]};const dO=n=>({}),vp=n=>({});function bp(n,e,t){const i=n.slice();return i[3]=e[t],i}const mO=n=>({}),wp=n=>({});function pO(n){let e,t,i,r,o,s,l,a,c=n[3].icon&&_p(n),u=n[3].text&&kp(n);return{c(){e=R("button"),c&&c.c(),t=oe(),u&&u.c(),_(e,"type","button"),_(e,"class",i="jse-button "+n[3].className+" svelte-31blda"),_(e,"title",r=n[3].title),e.disabled=o=n[3].disabled||!1},m(f,h){$(f,e,h),c&&c.m(e,null),E(e,t),u&&u.m(e,null),s=!0,l||(a=we(e,"click",function(){Pi(n[3].onClick)&&n[3].onClick.apply(this,arguments)}),l=!0)},p(f,h){n=f,n[3].icon?c?(c.p(n,h),h&1&&A(c,1)):(c=_p(n),c.c(),A(c,1),c.m(e,t)):c&&(Ee(),j(c,1,1,()=>{c=null}),Te()),n[3].text?u?u.p(n,h):(u=kp(n),u.c(),u.m(e,null)):u&&(u.d(1),u=null),(!s||h&1&&i!==(i="jse-button "+n[3].className+" svelte-31blda"))&&_(e,"class",i),(!s||h&1&&r!==(r=n[3].title))&&_(e,"title",r),(!s||h&1&&o!==(o=n[3].disabled||!1))&&(e.disabled=o)},i(f){s||(A(c),s=!0)},o(f){j(c),s=!1},d(f){f&&Z(e),c&&c.d(),u&&u.d(),l=!1,a()}}}function gO(n){let e;return{c(){e=R("div"),_(e,"class","jse-space svelte-31blda")},m(t,i){$(t,e,i)},p:xe,i:xe,o:xe,d(t){t&&Z(e)}}}function yO(n){let e;return{c(){e=R("div"),_(e,"class","jse-separator svelte-31blda")},m(t,i){$(t,e,i)},p:xe,i:xe,o:xe,d(t){t&&Z(e)}}}function _p(n){let e,t;return e=new wt({props:{data:n[3].icon}}),{c(){ye(e.$$.fragment)},m(i,r){me(e,i,r),t=!0},p(i,r){const o={};r&1&&(o.data=i[3].icon),e.$set(o)},i(i){t||(A(e.$$.fragment,i),t=!0)},o(i){j(e.$$.fragment,i),t=!1},d(i){pe(e,i)}}}function kp(n){let e=n[3].text+"",t;return{c(){t=Be(e)},m(i,r){$(i,t,r)},p(i,r){r&1&&e!==(e=i[3].text+"")&&St(t,e)},d(i){i&&Z(t)}}}function Sp(n){let e,t,i,r;const o=[yO,gO,pO],s=[];function l(a,c){return a[3].separator===!0?0:a[3].space===!0?1:2}return e=l(n),t=s[e]=o[e](n),{c(){t.c(),i=Nt()},m(a,c){s[e].m(a,c),$(a,i,c),r=!0},p(a,c){let u=e;e=l(a),e===u?s[e].p(a,c):(Ee(),j(s[u],1,1,()=>{s[u]=null}),Te(),t=s[e],t?t.p(a,c):(t=s[e]=o[e](a),t.c()),A(t,1),t.m(i.parentNode,i))},i(a){r||(A(t),r=!0)},o(a){j(t),r=!1},d(a){s[e].d(a),a&&Z(i)}}}function vO(n){let e,t,i,r;const o=n[2].left,s=Ri(o,n,n[1],wp);let l=n[0],a=[];for(let h=0;h<l.length;h+=1)a[h]=Sp(bp(n,l,h));const c=h=>j(a[h],1,1,()=>{a[h]=null}),u=n[2].right,f=Ri(u,n,n[1],vp);return{c(){e=R("div"),s&&s.c(),t=oe();for(let h=0;h<a.length;h+=1)a[h].c();i=oe(),f&&f.c(),_(e,"class","jse-menu svelte-31blda")},m(h,d){$(h,e,d),s&&s.m(e,null),E(e,t);for(let m=0;m<a.length;m+=1)a[m].m(e,null);E(e,i),f&&f.m(e,null),r=!0},p(h,[d]){if(s&&s.p&&(!r||d&2)&&Li(s,o,h,h[1],r?ji(o,h[1],d,mO):Bi(h[1]),wp),d&1){l=h[0];let m;for(m=0;m<l.length;m+=1){const g=bp(h,l,m);a[m]?(a[m].p(g,d),A(a[m],1)):(a[m]=Sp(g),a[m].c(),A(a[m],1),a[m].m(e,i))}for(Ee(),m=l.length;m<a.length;m+=1)c(m);Te()}f&&f.p&&(!r||d&2)&&Li(f,u,h,h[1],r?ji(u,h[1],d,dO):Bi(h[1]),vp)},i(h){if(!r){A(s,h);for(let d=0;d<l.length;d+=1)A(a[d]);A(f,h),r=!0}},o(h){j(s,h),a=a.filter(Boolean);for(let d=0;d<a.length;d+=1)j(a[d]);j(f,h),r=!1},d(h){h&&Z(e),s&&s.d(h),Vn(a,h),f&&f.d(h)}}}function bO(n,e,t){let{$$slots:i={},$$scope:r}=e,{items:o=[]}=e;return n.$$set=s=>{"items"in s&&t(0,o=s.items),"$$scope"in s&&t(1,r=s.$$scope)},[o,r,i]}class rd extends Xe{constructor(e){super(),Qe(this,e,bO,vO,Et,{items:0})}}function wO(n){let e,t;return e=new rd({props:{items:n[0]}}),{c(){ye(e.$$.fragment)},m(i,r){me(e,i,r),t=!0},p(i,[r]){const o={};r&1&&(o.items=i[0]),e.$set(o)},i(i){t||(A(e.$$.fragment,i),t=!0)},o(i){j(e.$$.fragment,i),t=!1},d(i){pe(e,i)}}}function _O(n,e,t){let i,r,{readOnly:o=!1}=e,{onFormat:s}=e,{onCompact:l}=e,{onSort:a}=e,{onTransform:c}=e,{onToggleSearch:u}=e,{onUndo:f}=e,{onRedo:h}=e,{canUndo:d}=e,{canRedo:m}=e,{canFormat:g}=e,{canCompact:y}=e,{canSort:p}=e,{canTransform:v}=e,{onRenderMenu:k=Vt}=e;return n.$$set=b=>{"readOnly"in b&&t(1,o=b.readOnly),"onFormat"in b&&t(2,s=b.onFormat),"onCompact"in b&&t(3,l=b.onCompact),"onSort"in b&&t(4,a=b.onSort),"onTransform"in b&&t(5,c=b.onTransform),"onToggleSearch"in b&&t(6,u=b.onToggleSearch),"onUndo"in b&&t(7,f=b.onUndo),"onRedo"in b&&t(8,h=b.onRedo),"canUndo"in b&&t(9,d=b.canUndo),"canRedo"in b&&t(10,m=b.canRedo),"canFormat"in b&&t(11,g=b.canFormat),"canCompact"in b&&t(12,y=b.canCompact),"canSort"in b&&t(13,p=b.canSort),"canTransform"in b&&t(14,v=b.canTransform),"onRenderMenu"in b&&t(15,k=b.onRenderMenu)},n.$$.update=()=>{n.$$.dirty&32766&&t(16,i=o?[{space:!0}]:[{icon:fO,title:"Format JSON: add proper indentation and new lines (Ctrl+I)",className:"jse-format",onClick:s,disabled:o||!g},{icon:hO,title:"Compact JSON: remove all white spacing and new lines (Ctrl+Shift+I)",className:"jse-compact",onClick:l,disabled:o||!y},{separator:!0},{icon:nd,title:"Sort",className:"jse-sort",onClick:a,disabled:o||!p},{icon:$h,title:"Transform contents (filter, sort, project)",className:"jse-transform",onClick:c,disabled:o||!v},{icon:id,title:"Search (Ctrl+F)",className:"jse-search",onClick:u},{separator:!0},{icon:Wv,title:"Undo (Ctrl+Z)",className:"jse-undo",onClick:f,disabled:!d},{icon:qv,title:"Redo (Ctrl+Shift+Z)",className:"jse-redo",onClick:h,disabled:!m},{space:!0}]),n.$$.dirty&98304&&t(0,r=k("text",i)||i)},[r,o,s,l,a,c,u,f,h,d,m,g,y,p,v,k,i]}class kO extends Xe{constructor(e){super(),Qe(this,e,_O,wO,Et,{readOnly:1,onFormat:2,onCompact:3,onSort:4,onTransform:5,onToggleSearch:6,onUndo:7,onRedo:8,canUndo:9,canRedo:10,canFormat:11,canCompact:12,canSort:13,canTransform:14,onRenderMenu:15})}}class Ut{constructor(){}lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,t,i){let r=[];return this.decompose(0,e,r,2),i.length&&i.decompose(0,i.length,r,3),this.decompose(t,this.length,r,1),Xi.from(r,this.length-(t-e)+i.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,t=this.length){let i=[];return this.decompose(e,t,i,0),Xi.from(i,t-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let t=this.scanIdentical(e,1),i=this.length-this.scanIdentical(e,-1),r=new Ls(this),o=new Ls(e);for(let s=t,l=t;;){if(r.next(s),o.next(s),s=0,r.lineBreak!=o.lineBreak||r.done!=o.done||r.value!=o.value)return!1;if(l+=r.value.length,r.done||l>=i)return!0}}iter(e=1){return new Ls(this,e)}iterRange(e,t=this.length){return new Qv(this,e,t)}iterLines(e,t){let i;if(e==null)i=this.iter();else{t==null&&(t=this.lines+1);let r=this.line(e).from;i=this.iterRange(r,Math.max(r,t==this.lines+1?this.length:t<=1?0:this.line(t-1).to))}return new Xv(i)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?Ut.empty:e.length<=32?new dn(e):Xi.from(dn.split(e,[]))}}class dn extends Ut{constructor(e,t=SO(e)){super(),this.text=e,this.length=t}get lines(){return this.text.length}get children(){return null}lineInner(e,t,i,r){for(let o=0;;o++){let s=this.text[o],l=r+s.length;if((t?i:l)>=e)return new CO(r,l,i,s);r=l+1,i++}}decompose(e,t,i,r){let o=e<=0&&t>=this.length?this:new dn(Cp(this.text,e,t),Math.min(t,this.length)-Math.max(0,e));if(r&1){let s=i.pop(),l=ma(o.text,s.text.slice(),0,o.length);if(l.length<=32)i.push(new dn(l,s.length+o.length));else{let a=l.length>>1;i.push(new dn(l.slice(0,a)),new dn(l.slice(a)))}}else i.push(o)}replace(e,t,i){if(!(i instanceof dn))return super.replace(e,t,i);let r=ma(this.text,ma(i.text,Cp(this.text,0,e)),t),o=this.length+i.length-(t-e);return r.length<=32?new dn(r,o):Xi.from(dn.split(r,[]),o)}sliceString(e,t=this.length,i=`
`){let r="";for(let o=0,s=0;o<=t&&s<this.text.length;s++){let l=this.text[s],a=o+l.length;o>e&&s&&(r+=i),e<a&&t>o&&(r+=l.slice(Math.max(0,e-o),t-o)),o=a+1}return r}flatten(e){for(let t of this.text)e.push(t)}scanIdentical(){return 0}static split(e,t){let i=[],r=-1;for(let o of e)i.push(o),r+=o.length+1,i.length==32&&(t.push(new dn(i,r)),i=[],r=-1);return r>-1&&t.push(new dn(i,r)),t}}class Xi extends Ut{constructor(e,t){super(),this.children=e,this.length=t,this.lines=0;for(let i of e)this.lines+=i.lines}lineInner(e,t,i,r){for(let o=0;;o++){let s=this.children[o],l=r+s.length,a=i+s.lines-1;if((t?a:l)>=e)return s.lineInner(e,t,i,r);r=l+1,i=a+1}}decompose(e,t,i,r){for(let o=0,s=0;s<=t&&o<this.children.length;o++){let l=this.children[o],a=s+l.length;if(e<=a&&t>=s){let c=r&((s<=e?1:0)|(a>=t?2:0));s>=e&&a<=t&&!c?i.push(l):l.decompose(e-s,t-s,i,c)}s=a+1}}replace(e,t,i){if(i.lines<this.lines)for(let r=0,o=0;r<this.children.length;r++){let s=this.children[r],l=o+s.length;if(e>=o&&t<=l){let a=s.replace(e-o,t-o,i),c=this.lines-s.lines+a.lines;if(a.lines<c>>5-1&&a.lines>c>>5+1){let u=this.children.slice();return u[r]=a,new Xi(u,this.length-(t-e)+i.length)}return super.replace(o,l,a)}o=l+1}return super.replace(e,t,i)}sliceString(e,t=this.length,i=`
`){let r="";for(let o=0,s=0;o<this.children.length&&s<=t;o++){let l=this.children[o],a=s+l.length;s>e&&o&&(r+=i),e<a&&t>s&&(r+=l.sliceString(e-s,t-s,i)),s=a+1}return r}flatten(e){for(let t of this.children)t.flatten(e)}scanIdentical(e,t){if(!(e instanceof Xi))return 0;let i=0,[r,o,s,l]=t>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;r+=t,o+=t){if(r==s||o==l)return i;let a=this.children[r],c=e.children[o];if(a!=c)return i+a.scanIdentical(c,t);i+=a.length+1}}static from(e,t=e.reduce((i,r)=>i+r.length+1,-1)){let i=0;for(let d of e)i+=d.lines;if(i<32){let d=[];for(let m of e)m.flatten(d);return new dn(d,t)}let r=Math.max(32,i>>5),o=r<<1,s=r>>1,l=[],a=0,c=-1,u=[];function f(d){let m;if(d.lines>o&&d instanceof Xi)for(let g of d.children)f(g);else d.lines>s&&(a>s||!a)?(h(),l.push(d)):d instanceof dn&&a&&(m=u[u.length-1])instanceof dn&&d.lines+m.lines<=32?(a+=d.lines,c+=d.length+1,u[u.length-1]=new dn(m.text.concat(d.text),m.length+1+d.length)):(a+d.lines>r&&h(),a+=d.lines,c+=d.length+1,u.push(d))}function h(){a!=0&&(l.push(u.length==1?u[0]:Xi.from(u,c)),c=-1,a=u.length=0)}for(let d of e)f(d);return h(),l.length==1?l[0]:new Xi(l,t)}}Ut.empty=new dn([""],0);function SO(n){let e=-1;for(let t of n)e+=t.length+1;return e}function ma(n,e,t=0,i=1e9){for(let r=0,o=0,s=!0;o<n.length&&r<=i;o++){let l=n[o],a=r+l.length;a>=t&&(a>i&&(l=l.slice(0,i-r)),r<t&&(l=l.slice(t-r)),s?(e[e.length-1]+=l,s=!1):e.push(l)),r=a+1}return e}function Cp(n,e,t){return ma(n,[""],e,t)}class Ls{constructor(e,t=1){this.dir=t,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[t>0?1:(e instanceof dn?e.text.length:e.children.length)<<1]}nextInner(e,t){for(this.done=this.lineBreak=!1;;){let i=this.nodes.length-1,r=this.nodes[i],o=this.offsets[i],s=o>>1,l=r instanceof dn?r.text.length:r.children.length;if(s==(t>0?l:0)){if(i==0)return this.done=!0,this.value="",this;t>0&&this.offsets[i-1]++,this.nodes.pop(),this.offsets.pop()}else if((o&1)==(t>0?0:1)){if(this.offsets[i]+=t,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(r instanceof dn){let a=r.text[s+(t<0?-1:0)];if(this.offsets[i]+=t,a.length>Math.max(0,e))return this.value=e==0?a:t>0?a.slice(e):a.slice(0,a.length-e),this;e-=a.length}else{let a=r.children[s+(t<0?-1:0)];e>a.length?(e-=a.length,this.offsets[i]+=t):(t<0&&this.offsets[i]--,this.nodes.push(a),this.offsets.push(t>0?1:(a instanceof dn?a.text.length:a.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class Qv{constructor(e,t,i){this.value="",this.done=!1,this.cursor=new Ls(e,t>i?-1:1),this.pos=t>i?e.length:0,this.from=Math.min(t,i),this.to=Math.max(t,i)}nextInner(e,t){if(t<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,t<0?this.pos-this.to:this.from-this.pos);let i=t<0?this.pos-this.from:this.to-this.pos;e>i&&(e=i),i-=e;let{value:r}=this.cursor.next(e);return this.pos+=(r.length+e)*t,this.value=r.length<=i?r:t<0?r.slice(r.length-i):r.slice(0,i),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class Xv{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:t,lineBreak:i,value:r}=this.inner.next(e);return t?(this.done=!0,this.value=""):i?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=r,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(Ut.prototype[Symbol.iterator]=function(){return this.iter()},Ls.prototype[Symbol.iterator]=Qv.prototype[Symbol.iterator]=Xv.prototype[Symbol.iterator]=function(){return this});class CO{constructor(e,t,i,r){this.from=e,this.to=t,this.number=i,this.text=r}get length(){return this.to-this.from}}let Fo="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(n=>n?parseInt(n,36):1);for(let n=1;n<Fo.length;n++)Fo[n]+=Fo[n-1];function xO(n){for(let e=1;e<Fo.length;e+=2)if(Fo[e]>n)return Fo[e-1]<=n;return!1}function xp(n){return n>=127462&&n<=127487}const Op=8205;function Qn(n,e,t=!0,i=!0){return(t?Yv:OO)(n,e,i)}function Yv(n,e,t){if(e==n.length)return e;e&&Zv(n.charCodeAt(e))&&$v(n.charCodeAt(e-1))&&e--;let i=jn(n,e);for(e+=hi(i);e<n.length;){let r=jn(n,e);if(i==Op||r==Op||t&&xO(r))e+=hi(r),i=r;else if(xp(r)){let o=0,s=e-2;for(;s>=0&&xp(jn(n,s));)o++,s-=2;if(o%2==0)break;e+=2}else break}return e}function OO(n,e,t){for(;e>0;){let i=Yv(n,e-2,t);if(i<e)return i;e--}return 0}function Zv(n){return n>=56320&&n<57344}function $v(n){return n>=55296&&n<56320}function jn(n,e){let t=n.charCodeAt(e);if(!$v(t)||e+1==n.length)return t;let i=n.charCodeAt(e+1);return Zv(i)?(t-55296<<10)+(i-56320)+65536:t}function od(n){return n<=65535?String.fromCharCode(n):(n-=65536,String.fromCharCode((n>>10)+55296,(n&1023)+56320))}function hi(n){return n<65536?1:2}const Nf=/\r\n?|\n/;var Gn=function(n){return n[n.Simple=0]="Simple",n[n.TrackDel=1]="TrackDel",n[n.TrackBefore=2]="TrackBefore",n[n.TrackAfter=3]="TrackAfter",n}(Gn||(Gn={}));class ir{constructor(e){this.sections=e}get length(){let e=0;for(let t=0;t<this.sections.length;t+=2)e+=this.sections[t];return e}get newLength(){let e=0;for(let t=0;t<this.sections.length;t+=2){let i=this.sections[t+1];e+=i<0?this.sections[t]:i}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let t=0,i=0,r=0;t<this.sections.length;){let o=this.sections[t++],s=this.sections[t++];s<0?(e(i,r,o),r+=o):r+=s,i+=o}}iterChangedRanges(e,t=!1){Df(this,e,t)}get invertedDesc(){let e=[];for(let t=0;t<this.sections.length;){let i=this.sections[t++],r=this.sections[t++];r<0?e.push(i,r):e.push(r,i)}return new ir(e)}composeDesc(e){return this.empty?e:e.empty?this:eb(this,e)}mapDesc(e,t=!1){return e.empty?this:Rf(this,e,t)}mapPos(e,t=-1,i=Gn.Simple){let r=0,o=0;for(let s=0;s<this.sections.length;){let l=this.sections[s++],a=this.sections[s++],c=r+l;if(a<0){if(c>e)return o+(e-r);o+=l}else{if(i!=Gn.Simple&&c>=e&&(i==Gn.TrackDel&&r<e&&c>e||i==Gn.TrackBefore&&r<e||i==Gn.TrackAfter&&c>e))return null;if(c>e||c==e&&t<0&&!l)return e==r||t<0?o:o+a;o+=a}r=c}if(e>r)throw new RangeError(`Position ${e} is out of range for changeset of length ${r}`);return o}touchesRange(e,t=e){for(let i=0,r=0;i<this.sections.length&&r<=t;){let o=this.sections[i++],s=this.sections[i++],l=r+o;if(s>=0&&r<=t&&l>=e)return r<e&&l>t?"cover":!0;r=l}return!1}toString(){let e="";for(let t=0;t<this.sections.length;){let i=this.sections[t++],r=this.sections[t++];e+=(e?" ":"")+i+(r>=0?":"+r:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(t=>typeof t!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new ir(e)}static create(e){return new ir(e)}}class Cn extends ir{constructor(e,t){super(e),this.inserted=t}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return Df(this,(t,i,r,o,s)=>e=e.replace(r,r+(i-t),s),!1),e}mapDesc(e,t=!1){return Rf(this,e,t,!0)}invert(e){let t=this.sections.slice(),i=[];for(let r=0,o=0;r<t.length;r+=2){let s=t[r],l=t[r+1];if(l>=0){t[r]=l,t[r+1]=s;let a=r>>1;for(;i.length<a;)i.push(Ut.empty);i.push(s?e.slice(o,o+s):Ut.empty)}o+=s}return new Cn(t,i)}compose(e){return this.empty?e:e.empty?this:eb(this,e,!0)}map(e,t=!1){return e.empty?this:Rf(this,e,t,!0)}iterChanges(e,t=!1){Df(this,e,t)}get desc(){return ir.create(this.sections)}filter(e){let t=[],i=[],r=[],o=new $s(this);e:for(let s=0,l=0;;){let a=s==e.length?1e9:e[s++];for(;l<a||l==a&&o.len==0;){if(o.done)break e;let u=Math.min(o.len,a-l);Hn(r,u,-1);let f=o.ins==-1?-1:o.off==0?o.ins:0;Hn(t,u,f),f>0&&Or(i,t,o.text),o.forward(u),l+=u}let c=e[s++];for(;l<c;){if(o.done)break e;let u=Math.min(o.len,c-l);Hn(t,u,-1),Hn(r,u,o.ins==-1?-1:o.off==0?o.ins:0),o.forward(u),l+=u}}return{changes:new Cn(t,i),filtered:ir.create(r)}}toJSON(){let e=[];for(let t=0;t<this.sections.length;t+=2){let i=this.sections[t],r=this.sections[t+1];r<0?e.push(i):r==0?e.push([i]):e.push([i].concat(this.inserted[t>>1].toJSON()))}return e}static of(e,t,i){let r=[],o=[],s=0,l=null;function a(u=!1){if(!u&&!r.length)return;s<t&&Hn(r,t-s,-1);let f=new Cn(r,o);l=l?l.compose(f.map(l)):f,r=[],o=[],s=0}function c(u){if(Array.isArray(u))for(let f of u)c(f);else if(u instanceof Cn){if(u.length!=t)throw new RangeError(`Mismatched change set length (got ${u.length}, expected ${t})`);a(),l=l?l.compose(u.map(l)):u}else{let{from:f,to:h=f,insert:d}=u;if(f>h||f<0||h>t)throw new RangeError(`Invalid change range ${f} to ${h} (in doc of length ${t})`);let m=d?typeof d=="string"?Ut.of(d.split(i||Nf)):d:Ut.empty,g=m.length;if(f==h&&g==0)return;f<s&&a(),f>s&&Hn(r,f-s,-1),Hn(r,h-f,g),Or(o,r,m),s=h}}return c(e),a(!l),l}static empty(e){return new Cn(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let t=[],i=[];for(let r=0;r<e.length;r++){let o=e[r];if(typeof o=="number")t.push(o,-1);else{if(!Array.isArray(o)||typeof o[0]!="number"||o.some((s,l)=>l&&typeof s!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(o.length==1)t.push(o[0],0);else{for(;i.length<r;)i.push(Ut.empty);i[r]=Ut.of(o.slice(1)),t.push(o[0],i[r].length)}}}return new Cn(t,i)}static createSet(e,t){return new Cn(e,t)}}function Hn(n,e,t,i=!1){if(e==0&&t<=0)return;let r=n.length-2;r>=0&&t<=0&&t==n[r+1]?n[r]+=e:e==0&&n[r]==0?n[r+1]+=t:i?(n[r]+=e,n[r+1]+=t):n.push(e,t)}function Or(n,e,t){if(t.length==0)return;let i=e.length-2>>1;if(i<n.length)n[n.length-1]=n[n.length-1].append(t);else{for(;n.length<i;)n.push(Ut.empty);n.push(t)}}function Df(n,e,t){let i=n.inserted;for(let r=0,o=0,s=0;s<n.sections.length;){let l=n.sections[s++],a=n.sections[s++];if(a<0)r+=l,o+=l;else{let c=r,u=o,f=Ut.empty;for(;c+=l,u+=a,a&&i&&(f=f.append(i[s-2>>1])),!(t||s==n.sections.length||n.sections[s+1]<0);)l=n.sections[s++],a=n.sections[s++];e(r,c,o,u,f),r=c,o=u}}}function Rf(n,e,t,i=!1){let r=[],o=i?[]:null,s=new $s(n),l=new $s(e);for(let a=-1;;)if(s.ins==-1&&l.ins==-1){let c=Math.min(s.len,l.len);Hn(r,c,-1),s.forward(c),l.forward(c)}else if(l.ins>=0&&(s.ins<0||a==s.i||s.off==0&&(l.len<s.len||l.len==s.len&&!t))){let c=l.len;for(Hn(r,l.ins,-1);c;){let u=Math.min(s.len,c);s.ins>=0&&a<s.i&&s.len<=u&&(Hn(r,0,s.ins),o&&Or(o,r,s.text),a=s.i),s.forward(u),c-=u}l.next()}else if(s.ins>=0){let c=0,u=s.len;for(;u;)if(l.ins==-1){let f=Math.min(u,l.len);c+=f,u-=f,l.forward(f)}else if(l.ins==0&&l.len<u)u-=l.len,l.next();else break;Hn(r,c,a<s.i?s.ins:0),o&&a<s.i&&Or(o,r,s.text),a=s.i,s.forward(s.len-u)}else{if(s.done&&l.done)return o?Cn.createSet(r,o):ir.create(r);throw new Error("Mismatched change set lengths")}}function eb(n,e,t=!1){let i=[],r=t?[]:null,o=new $s(n),s=new $s(e);for(let l=!1;;){if(o.done&&s.done)return r?Cn.createSet(i,r):ir.create(i);if(o.ins==0)Hn(i,o.len,0,l),o.next();else if(s.len==0&&!s.done)Hn(i,0,s.ins,l),r&&Or(r,i,s.text),s.next();else{if(o.done||s.done)throw new Error("Mismatched change set lengths");{let a=Math.min(o.len2,s.len),c=i.length;if(o.ins==-1){let u=s.ins==-1?-1:s.off?0:s.ins;Hn(i,a,u,l),r&&u&&Or(r,i,s.text)}else s.ins==-1?(Hn(i,o.off?0:o.len,a,l),r&&Or(r,i,o.textBit(a))):(Hn(i,o.off?0:o.len,s.off?0:s.ins,l),r&&!s.off&&Or(r,i,s.text));l=(o.ins>a||s.ins>=0&&s.len>a)&&(l||i.length>c),o.forward2(a),s.forward(a)}}}}class $s{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,t=this.i-2>>1;return t>=e.length?Ut.empty:e[t]}textBit(e){let{inserted:t}=this.set,i=this.i-2>>1;return i>=t.length&&!e?Ut.empty:t[i].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class eo{constructor(e,t,i){this.from=e,this.to=t,this.flags=i}get anchor(){return this.flags&16?this.to:this.from}get head(){return this.flags&16?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&4?-1:this.flags&8?1:0}get bidiLevel(){let e=this.flags&3;return e==3?null:e}get goalColumn(){let e=this.flags>>5;return e==33554431?void 0:e}map(e,t=-1){let i,r;return this.empty?i=r=e.mapPos(this.from,t):(i=e.mapPos(this.from,1),r=e.mapPos(this.to,-1)),i==this.from&&r==this.to?this:new eo(i,r,this.flags)}extend(e,t=e){if(e<=this.anchor&&t>=this.anchor)return Se.range(e,t);let i=Math.abs(e-this.anchor)>Math.abs(t-this.anchor)?e:t;return Se.range(this.anchor,i)}eq(e){return this.anchor==e.anchor&&this.head==e.head}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return Se.range(e.anchor,e.head)}static create(e,t,i){return new eo(e,t,i)}}class Se{constructor(e,t){this.ranges=e,this.mainIndex=t}map(e,t=-1){return e.empty?this:Se.create(this.ranges.map(i=>i.map(e,t)),this.mainIndex)}eq(e){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let t=0;t<this.ranges.length;t++)if(!this.ranges[t].eq(e.ranges[t]))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new Se([this.main],0)}addRange(e,t=!0){return Se.create([e].concat(this.ranges),t?0:this.mainIndex+1)}replaceRange(e,t=this.mainIndex){let i=this.ranges.slice();return i[t]=e,Se.create(i,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new Se(e.ranges.map(t=>eo.fromJSON(t)),e.main)}static single(e,t=e){return new Se([Se.range(e,t)],0)}static create(e,t=0){if(e.length==0)throw new RangeError("A selection needs at least one range");for(let i=0,r=0;r<e.length;r++){let o=e[r];if(o.empty?o.from<=i:o.from<i)return Se.normalized(e.slice(),t);i=o.to}return new Se(e,t)}static cursor(e,t=0,i,r){return eo.create(e,e,(t==0?0:t<0?4:8)|(i==null?3:Math.min(2,i))|(r!=null?r:33554431)<<5)}static range(e,t,i){let r=(i!=null?i:33554431)<<5;return t<e?eo.create(t,e,16|r|8):eo.create(e,t,r|(t>e?4:0))}static normalized(e,t=0){let i=e[t];e.sort((r,o)=>r.from-o.from),t=e.indexOf(i);for(let r=1;r<e.length;r++){let o=e[r],s=e[r-1];if(o.empty?o.from<=s.to:o.from<s.to){let l=s.from,a=Math.max(o.to,s.to);r<=t&&t--,e.splice(--r,2,o.anchor>o.head?Se.range(a,l):Se.range(l,a))}}return new Se(e,t)}}function tb(n,e){for(let t of n.ranges)if(t.to>e)throw new RangeError("Selection points outside of document")}let sd=0;class $e{constructor(e,t,i,r,o){this.combine=e,this.compareInput=t,this.compare=i,this.isStatic=r,this.id=sd++,this.default=e([]),this.extensions=typeof o=="function"?o(this):o}static define(e={}){return new $e(e.combine||(t=>t),e.compareInput||((t,i)=>t===i),e.compare||(e.combine?(t,i)=>t===i:ld),!!e.static,e.enables)}of(e){return new pa([],this,0,e)}compute(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new pa(e,this,1,t)}computeN(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new pa(e,this,2,t)}from(e,t){return t||(t=i=>i),this.compute([e],i=>t(i.field(e)))}}function ld(n,e){return n==e||n.length==e.length&&n.every((t,i)=>t===e[i])}class pa{constructor(e,t,i,r){this.dependencies=e,this.facet=t,this.type=i,this.value=r,this.id=sd++}dynamicSlot(e){var t;let i=this.value,r=this.facet.compareInput,o=this.id,s=e[o]>>1,l=this.type==2,a=!1,c=!1,u=[];for(let f of this.dependencies)f=="doc"?a=!0:f=="selection"?c=!0:(((t=e[f.id])!==null&&t!==void 0?t:1)&1)==0&&u.push(e[f.id]);return{create(f){return f.values[s]=i(f),1},update(f,h){if(a&&h.docChanged||c&&(h.docChanged||h.selection)||jf(f,u)){let d=i(f);if(l?!Ep(d,f.values[s],r):!r(d,f.values[s]))return f.values[s]=d,1}return 0},reconfigure:(f,h)=>{let d=i(f),m=h.config.address[o];if(m!=null){let g=Va(h,m);if(this.dependencies.every(y=>y instanceof $e?h.facet(y)===f.facet(y):y instanceof Tn?h.field(y,!1)==f.field(y,!1):!0)||(l?Ep(d,g,r):r(d,g)))return f.values[s]=g,0}return f.values[s]=d,1}}}}function Ep(n,e,t){if(n.length!=e.length)return!1;for(let i=0;i<n.length;i++)if(!t(n[i],e[i]))return!1;return!0}function jf(n,e){let t=!1;for(let i of e)Bs(n,i)&1&&(t=!0);return t}function EO(n,e,t){let i=t.map(a=>n[a.id]),r=t.map(a=>a.type),o=i.filter(a=>!(a&1)),s=n[e.id]>>1;function l(a){let c=[];for(let u=0;u<i.length;u++){let f=Va(a,i[u]);if(r[u]==2)for(let h of f)c.push(h);else c.push(f)}return e.combine(c)}return{create(a){for(let c of i)Bs(a,c);return a.values[s]=l(a),1},update(a,c){if(!jf(a,o))return 0;let u=l(a);return e.compare(u,a.values[s])?0:(a.values[s]=u,1)},reconfigure(a,c){let u=jf(a,i),f=c.config.facets[e.id],h=c.facet(e);if(f&&!u&&ld(t,f))return a.values[s]=h,0;let d=l(a);return e.compare(d,h)?(a.values[s]=h,0):(a.values[s]=d,1)}}}const Tp=$e.define({static:!0});class Tn{constructor(e,t,i,r,o){this.id=e,this.createF=t,this.updateF=i,this.compareF=r,this.spec=o,this.provides=void 0}static define(e){let t=new Tn(sd++,e.create,e.update,e.compare||((i,r)=>i===r),e);return e.provide&&(t.provides=e.provide(t)),t}create(e){let t=e.facet(Tp).find(i=>i.field==this);return((t==null?void 0:t.create)||this.createF)(e)}slot(e){let t=e[this.id]>>1;return{create:i=>(i.values[t]=this.create(i),1),update:(i,r)=>{let o=i.values[t],s=this.updateF(o,r);return this.compareF(o,s)?0:(i.values[t]=s,1)},reconfigure:(i,r)=>r.config.address[this.id]!=null?(i.values[t]=r.field(this),0):(i.values[t]=this.create(i),1)}}init(e){return[this,Tp.of({field:this,create:e})]}get extension(){return this}}const Xr={lowest:4,low:3,default:2,high:1,highest:0};function bs(n){return e=>new nb(e,n)}const ms={highest:bs(Xr.highest),high:bs(Xr.high),default:bs(Xr.default),low:bs(Xr.low),lowest:bs(Xr.lowest)};class nb{constructor(e,t){this.inner=e,this.prec=t}}class Er{of(e){return new Lf(this,e)}reconfigure(e){return Er.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class Lf{constructor(e,t){this.compartment=e,this.inner=t}}class Fa{constructor(e,t,i,r,o,s){for(this.base=e,this.compartments=t,this.dynamicSlots=i,this.address=r,this.staticValues=o,this.facets=s,this.statusTemplate=[];this.statusTemplate.length<i.length;)this.statusTemplate.push(0)}staticFacet(e){let t=this.address[e.id];return t==null?e.default:this.staticValues[t>>1]}static resolve(e,t,i){let r=[],o=Object.create(null),s=new Map;for(let h of TO(e,t,s))h instanceof Tn?r.push(h):(o[h.facet.id]||(o[h.facet.id]=[])).push(h);let l=Object.create(null),a=[],c=[];for(let h of r)l[h.id]=c.length<<1,c.push(d=>h.slot(d));let u=i==null?void 0:i.config.facets;for(let h in o){let d=o[h],m=d[0].facet,g=u&&u[h]||[];if(d.every(y=>y.type==0))if(l[m.id]=a.length<<1|1,ld(g,d))a.push(i.facet(m));else{let y=m.combine(d.map(p=>p.value));a.push(i&&m.compare(y,i.facet(m))?i.facet(m):y)}else{for(let y of d)y.type==0?(l[y.id]=a.length<<1|1,a.push(y.value)):(l[y.id]=c.length<<1,c.push(p=>y.dynamicSlot(p)));l[m.id]=c.length<<1,c.push(y=>EO(y,m,d))}}let f=c.map(h=>h(l));return new Fa(e,s,f,l,a,o)}}function TO(n,e,t){let i=[[],[],[],[],[]],r=new Map;function o(s,l){let a=r.get(s);if(a!=null){if(a<=l)return;let c=i[a].indexOf(s);c>-1&&i[a].splice(c,1),s instanceof Lf&&t.delete(s.compartment)}if(r.set(s,l),Array.isArray(s))for(let c of s)o(c,l);else if(s instanceof Lf){if(t.has(s.compartment))throw new RangeError("Duplicate use of compartment in extensions");let c=e.get(s.compartment)||s.inner;t.set(s.compartment,c),o(c,l)}else if(s instanceof nb)o(s.inner,s.prec);else if(s instanceof Tn)i[l].push(s),s.provides&&o(s.provides,l);else if(s instanceof pa)i[l].push(s),s.facet.extensions&&o(s.facet.extensions,Xr.default);else{let c=s.extension;if(!c)throw new Error(`Unrecognized extension value in extension set (${s}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);o(c,l)}}return o(n,Xr.default),i.reduce((s,l)=>s.concat(l))}function Bs(n,e){if(e&1)return 2;let t=e>>1,i=n.status[t];if(i==4)throw new Error("Cyclic dependency between fields and/or facets");if(i&2)return i;n.status[t]=4;let r=n.computeSlot(n,n.config.dynamicSlots[t]);return n.status[t]=2|r}function Va(n,e){return e&1?n.config.staticValues[e>>1]:n.values[e>>1]}const ib=$e.define(),rb=$e.define({combine:n=>n.some(e=>e),static:!0}),ob=$e.define({combine:n=>n.length?n[0]:void 0,static:!0}),sb=$e.define(),lb=$e.define(),ab=$e.define(),cb=$e.define({combine:n=>n.length?n[0]:!1});class xo{constructor(e,t){this.type=e,this.value=t}static define(){return new MO}}class MO{of(e){return new xo(this,e)}}class AO{constructor(e){this.map=e}of(e){return new kt(this,e)}}class kt{constructor(e,t){this.type=e,this.value=t}map(e){let t=this.type.map(this.value,e);return t===void 0?void 0:t==this.value?this:new kt(this.type,t)}is(e){return this.type==e}static define(e={}){return new AO(e.map||(t=>t))}static mapEffects(e,t){if(!e.length)return e;let i=[];for(let r of e){let o=r.map(t);o&&i.push(o)}return i}}kt.reconfigure=kt.define();kt.appendConfig=kt.define();class On{constructor(e,t,i,r,o,s){this.startState=e,this.changes=t,this.selection=i,this.effects=r,this.annotations=o,this.scrollIntoView=s,this._doc=null,this._state=null,i&&tb(i,t.newLength),o.some(l=>l.type==On.time)||(this.annotations=o.concat(On.time.of(Date.now())))}static create(e,t,i,r,o,s){return new On(e,t,i,r,o,s)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let t of this.annotations)if(t.type==e)return t.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let t=this.annotation(On.userEvent);return!!(t&&(t==e||t.length>e.length&&t.slice(0,e.length)==e&&t[e.length]=="."))}}On.time=xo.define();On.userEvent=xo.define();On.addToHistory=xo.define();On.remote=xo.define();function PO(n,e){let t=[];for(let i=0,r=0;;){let o,s;if(i<n.length&&(r==e.length||e[r]>=n[i]))o=n[i++],s=n[i++];else if(r<e.length)o=e[r++],s=e[r++];else return t;!t.length||t[t.length-1]<o?t.push(o,s):t[t.length-1]<s&&(t[t.length-1]=s)}}function ub(n,e,t){var i;let r,o,s;return t?(r=e.changes,o=Cn.empty(e.changes.length),s=n.changes.compose(e.changes)):(r=e.changes.map(n.changes),o=n.changes.mapDesc(e.changes,!0),s=n.changes.compose(r)),{changes:s,selection:e.selection?e.selection.map(o):(i=n.selection)===null||i===void 0?void 0:i.map(r),effects:kt.mapEffects(n.effects,r).concat(kt.mapEffects(e.effects,o)),annotations:n.annotations.length?n.annotations.concat(e.annotations):e.annotations,scrollIntoView:n.scrollIntoView||e.scrollIntoView}}function Bf(n,e,t){let i=e.selection,r=Vo(e.annotations);return e.userEvent&&(r=r.concat(On.userEvent.of(e.userEvent))),{changes:e.changes instanceof Cn?e.changes:Cn.of(e.changes||[],t,n.facet(ob)),selection:i&&(i instanceof Se?i:Se.single(i.anchor,i.head)),effects:Vo(e.effects),annotations:r,scrollIntoView:!!e.scrollIntoView}}function fb(n,e,t){let i=Bf(n,e.length?e[0]:{},n.doc.length);e.length&&e[0].filter===!1&&(t=!1);for(let o=1;o<e.length;o++){e[o].filter===!1&&(t=!1);let s=!!e[o].sequential;i=ub(i,Bf(n,e[o],s?i.changes.newLength:n.doc.length),s)}let r=On.create(n,i.changes,i.selection,i.effects,i.annotations,i.scrollIntoView);return NO(t?IO(r):r)}function IO(n){let e=n.startState,t=!0;for(let r of e.facet(sb)){let o=r(n);if(o===!1){t=!1;break}Array.isArray(o)&&(t=t===!0?o:PO(t,o))}if(t!==!0){let r,o;if(t===!1)o=n.changes.invertedDesc,r=Cn.empty(e.doc.length);else{let s=n.changes.filter(t);r=s.changes,o=s.filtered.mapDesc(s.changes).invertedDesc}n=On.create(e,r,n.selection&&n.selection.map(o),kt.mapEffects(n.effects,o),n.annotations,n.scrollIntoView)}let i=e.facet(lb);for(let r=i.length-1;r>=0;r--){let o=i[r](n);o instanceof On?n=o:Array.isArray(o)&&o.length==1&&o[0]instanceof On?n=o[0]:n=fb(e,Vo(o),!1)}return n}function NO(n){let e=n.startState,t=e.facet(ab),i=n;for(let r=t.length-1;r>=0;r--){let o=t[r](n);o&&Object.keys(o).length&&(i=ub(n,Bf(e,o,n.changes.newLength),!0))}return i==n?n:On.create(e,n.changes,n.selection,i.effects,i.annotations,i.scrollIntoView)}const DO=[];function Vo(n){return n==null?DO:Array.isArray(n)?n:[n]}var an=function(n){return n[n.Word=0]="Word",n[n.Space=1]="Space",n[n.Other=2]="Other",n}(an||(an={}));const RO=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let Ff;try{Ff=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function jO(n){if(Ff)return Ff.test(n);for(let e=0;e<n.length;e++){let t=n[e];if(/\w/.test(t)||t>"\x80"&&(t.toUpperCase()!=t.toLowerCase()||RO.test(t)))return!0}return!1}function LO(n){return e=>{if(!/\S/.test(e))return an.Space;if(jO(e))return an.Word;for(let t=0;t<n.length;t++)if(e.indexOf(n[t])>-1)return an.Word;return an.Other}}class Ot{constructor(e,t,i,r,o,s){this.config=e,this.doc=t,this.selection=i,this.values=r,this.status=e.statusTemplate.slice(),this.computeSlot=o,s&&(s._state=this);for(let l=0;l<this.config.dynamicSlots.length;l++)Bs(this,l<<1);this.computeSlot=null}field(e,t=!0){let i=this.config.address[e.id];if(i==null){if(t)throw new RangeError("Field is not present in this state");return}return Bs(this,i),Va(this,i)}update(...e){return fb(this,e,!0)}applyTransaction(e){let t=this.config,{base:i,compartments:r}=t;for(let s of e.effects)s.is(Er.reconfigure)?(t&&(r=new Map,t.compartments.forEach((l,a)=>r.set(a,l)),t=null),r.set(s.value.compartment,s.value.extension)):s.is(kt.reconfigure)?(t=null,i=s.value):s.is(kt.appendConfig)&&(t=null,i=Vo(i).concat(s.value));let o;t?o=e.startState.values.slice():(t=Fa.resolve(i,r,this),o=new Ot(t,this.doc,this.selection,t.dynamicSlots.map(()=>null),(l,a)=>a.reconfigure(l,this),null).values),new Ot(t,e.newDoc,e.newSelection,o,(s,l)=>l.update(s,e),e)}replaceSelection(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(t=>({changes:{from:t.from,to:t.to,insert:e},range:Se.cursor(t.from+e.length)}))}changeByRange(e){let t=this.selection,i=e(t.ranges[0]),r=this.changes(i.changes),o=[i.range],s=Vo(i.effects);for(let l=1;l<t.ranges.length;l++){let a=e(t.ranges[l]),c=this.changes(a.changes),u=c.map(r);for(let h=0;h<l;h++)o[h]=o[h].map(u);let f=r.mapDesc(c,!0);o.push(a.range.map(f)),r=r.compose(u),s=kt.mapEffects(s,u).concat(kt.mapEffects(Vo(a.effects),f))}return{changes:r,selection:Se.create(o,t.mainIndex),effects:s}}changes(e=[]){return e instanceof Cn?e:Cn.of(e,this.doc.length,this.facet(Ot.lineSeparator))}toText(e){return Ut.of(e.split(this.facet(Ot.lineSeparator)||Nf))}sliceDoc(e=0,t=this.doc.length){return this.doc.sliceString(e,t,this.lineBreak)}facet(e){let t=this.config.address[e.id];return t==null?e.default:(Bs(this,t),Va(this,t))}toJSON(e){let t={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let i in e){let r=e[i];r instanceof Tn&&this.config.address[r.id]!=null&&(t[i]=r.spec.toJSON(this.field(e[i]),this))}return t}static fromJSON(e,t={},i){if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let r=[];if(i){for(let o in i)if(Object.prototype.hasOwnProperty.call(e,o)){let s=i[o],l=e[o];r.push(s.init(a=>s.spec.fromJSON(l,a)))}}return Ot.create({doc:e.doc,selection:Se.fromJSON(e.selection),extensions:t.extensions?r.concat([t.extensions]):r})}static create(e={}){let t=Fa.resolve(e.extensions||[],new Map),i=e.doc instanceof Ut?e.doc:Ut.of((e.doc||"").split(t.staticFacet(Ot.lineSeparator)||Nf)),r=e.selection?e.selection instanceof Se?e.selection:Se.single(e.selection.anchor,e.selection.head):Se.single(0);return tb(r,i.length),t.staticFacet(rb)||(r=r.asSingle()),new Ot(t,i,r,t.dynamicSlots.map(()=>null),(o,s)=>s.create(o),null)}get tabSize(){return this.facet(Ot.tabSize)}get lineBreak(){return this.facet(Ot.lineSeparator)||`
`}get readOnly(){return this.facet(cb)}phrase(e,...t){for(let i of this.facet(Ot.phrases))if(Object.prototype.hasOwnProperty.call(i,e)){e=i[e];break}return t.length&&(e=e.replace(/\$(\$|\d*)/g,(i,r)=>{if(r=="$")return"$";let o=+(r||1);return!o||o>t.length?i:t[o-1]})),e}languageDataAt(e,t,i=-1){let r=[];for(let o of this.facet(ib))for(let s of o(this,t,i))Object.prototype.hasOwnProperty.call(s,e)&&r.push(s[e]);return r}charCategorizer(e){return LO(this.languageDataAt("wordChars",e).join(""))}wordAt(e){let{text:t,from:i,length:r}=this.doc.lineAt(e),o=this.charCategorizer(e),s=e-i,l=e-i;for(;s>0;){let a=Qn(t,s,!1);if(o(t.slice(a,s))!=an.Word)break;s=a}for(;l<r;){let a=Qn(t,l);if(o(t.slice(l,a))!=an.Word)break;l=a}return s==l?null:Se.range(s+i,l+i)}}Ot.allowMultipleSelections=rb;Ot.tabSize=$e.define({combine:n=>n.length?n[0]:4});Ot.lineSeparator=ob;Ot.readOnly=cb;Ot.phrases=$e.define({compare(n,e){let t=Object.keys(n),i=Object.keys(e);return t.length==i.length&&t.every(r=>n[r]==e[r])}});Ot.languageData=ib;Ot.changeFilter=sb;Ot.transactionFilter=lb;Ot.transactionExtender=ab;Er.reconfigure=kt.define();function Hi(n,e,t={}){let i={};for(let r of n)for(let o of Object.keys(r)){let s=r[o],l=i[o];if(l===void 0)i[o]=s;else if(!(l===s||s===void 0))if(Object.hasOwnProperty.call(t,o))i[o]=t[o](l,s);else throw new Error("Config merge conflict for field "+o)}for(let r in e)i[r]===void 0&&(i[r]=e[r]);return i}class go{eq(e){return this==e}range(e,t=e){return el.create(e,t,this)}}go.prototype.startSide=go.prototype.endSide=0;go.prototype.point=!1;go.prototype.mapMode=Gn.TrackDel;class el{constructor(e,t,i){this.from=e,this.to=t,this.value=i}static create(e,t,i){return new el(e,t,i)}}function Vf(n,e){return n.from-e.from||n.value.startSide-e.value.startSide}class ad{constructor(e,t,i,r){this.from=e,this.to=t,this.value=i,this.maxPoint=r}get length(){return this.to[this.to.length-1]}findIndex(e,t,i,r=0){let o=i?this.to:this.from;for(let s=r,l=o.length;;){if(s==l)return s;let a=s+l>>1,c=o[a]-e||(i?this.value[a].endSide:this.value[a].startSide)-t;if(a==s)return c>=0?s:l;c>=0?l=a:s=a+1}}between(e,t,i,r){for(let o=this.findIndex(t,-1e9,!0),s=this.findIndex(i,1e9,!1,o);o<s;o++)if(r(this.from[o]+e,this.to[o]+e,this.value[o])===!1)return!1}map(e,t){let i=[],r=[],o=[],s=-1,l=-1;for(let a=0;a<this.value.length;a++){let c=this.value[a],u=this.from[a]+e,f=this.to[a]+e,h,d;if(u==f){let m=t.mapPos(u,c.startSide,c.mapMode);if(m==null||(h=d=m,c.startSide!=c.endSide&&(d=t.mapPos(u,c.endSide),d<h)))continue}else if(h=t.mapPos(u,c.startSide),d=t.mapPos(f,c.endSide),h>d||h==d&&c.startSide>0&&c.endSide<=0)continue;(d-h||c.endSide-c.startSide)<0||(s<0&&(s=h),c.point&&(l=Math.max(l,d-h)),i.push(c),r.push(h-s),o.push(d-s))}return{mapped:i.length?new ad(r,o,i,l):null,pos:s}}}class zt{constructor(e,t,i,r){this.chunkPos=e,this.chunk=t,this.nextLayer=i,this.maxPoint=r}static create(e,t,i,r){return new zt(e,t,i,r)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let t of this.chunk)e+=t.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:t=[],sort:i=!1,filterFrom:r=0,filterTo:o=this.length}=e,s=e.filter;if(t.length==0&&!s)return this;if(i&&(t=t.slice().sort(Vf)),this.isEmpty)return t.length?zt.of(t):this;let l=new hb(this,null,-1).goto(0),a=0,c=[],u=new Fr;for(;l.value||a<t.length;)if(a<t.length&&(l.from-t[a].from||l.startSide-t[a].value.startSide)>=0){let f=t[a++];u.addInner(f.from,f.to,f.value)||c.push(f)}else l.rangeIndex==1&&l.chunkIndex<this.chunk.length&&(a==t.length||this.chunkEnd(l.chunkIndex)<t[a].from)&&(!s||r>this.chunkEnd(l.chunkIndex)||o<this.chunkPos[l.chunkIndex])&&u.addChunk(this.chunkPos[l.chunkIndex],this.chunk[l.chunkIndex])?l.nextChunk():((!s||r>l.to||o<l.from||s(l.from,l.to,l.value))&&(u.addInner(l.from,l.to,l.value)||c.push(el.create(l.from,l.to,l.value))),l.next());return u.finishInner(this.nextLayer.isEmpty&&!c.length?zt.empty:this.nextLayer.update({add:c,filter:s,filterFrom:r,filterTo:o}))}map(e){if(e.empty||this.isEmpty)return this;let t=[],i=[],r=-1;for(let s=0;s<this.chunk.length;s++){let l=this.chunkPos[s],a=this.chunk[s],c=e.touchesRange(l,l+a.length);if(c===!1)r=Math.max(r,a.maxPoint),t.push(a),i.push(e.mapPos(l));else if(c===!0){let{mapped:u,pos:f}=a.map(l,e);u&&(r=Math.max(r,u.maxPoint),t.push(u),i.push(f))}}let o=this.nextLayer.map(e);return t.length==0?o:new zt(i,t,o||zt.empty,r)}between(e,t,i){if(!this.isEmpty){for(let r=0;r<this.chunk.length;r++){let o=this.chunkPos[r],s=this.chunk[r];if(t>=o&&e<=o+s.length&&s.between(o,e-o,t-o,i)===!1)return}this.nextLayer.between(e,t,i)}}iter(e=0){return tl.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,t=0){return tl.from(e).goto(t)}static compare(e,t,i,r,o=-1){let s=e.filter(f=>f.maxPoint>0||!f.isEmpty&&f.maxPoint>=o),l=t.filter(f=>f.maxPoint>0||!f.isEmpty&&f.maxPoint>=o),a=Mp(s,l,i),c=new ws(s,a,o),u=new ws(l,a,o);i.iterGaps((f,h,d)=>Ap(c,f,u,h,d,r)),i.empty&&i.length==0&&Ap(c,0,u,0,0,r)}static eq(e,t,i=0,r){r==null&&(r=1e9);let o=e.filter(u=>!u.isEmpty&&t.indexOf(u)<0),s=t.filter(u=>!u.isEmpty&&e.indexOf(u)<0);if(o.length!=s.length)return!1;if(!o.length)return!0;let l=Mp(o,s),a=new ws(o,l,0).goto(i),c=new ws(s,l,0).goto(i);for(;;){if(a.to!=c.to||!Hf(a.active,c.active)||a.point&&(!c.point||!a.point.eq(c.point)))return!1;if(a.to>r)return!0;a.next(),c.next()}}static spans(e,t,i,r,o=-1){let s=new ws(e,null,o).goto(t),l=t,a=s.openStart;for(;;){let c=Math.min(s.to,i);if(s.point?(r.point(l,c,s.point,s.activeForPoint(s.to),a,s.pointRank),a=s.openEnd(c)+(s.to>c?1:0)):c>l&&(r.span(l,c,s.active,a),a=s.openEnd(c)),s.to>i)break;l=s.to,s.next()}return a}static of(e,t=!1){let i=new Fr;for(let r of e instanceof el?[e]:t?BO(e):e)i.add(r.from,r.to,r.value);return i.finish()}}zt.empty=new zt([],[],null,-1);function BO(n){if(n.length>1)for(let e=n[0],t=1;t<n.length;t++){let i=n[t];if(Vf(e,i)>0)return n.slice().sort(Vf);e=i}return n}zt.empty.nextLayer=zt.empty;class Fr{constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}finishChunk(e){this.chunks.push(new ad(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}add(e,t,i){this.addInner(e,t,i)||(this.nextLayer||(this.nextLayer=new Fr)).add(e,t,i)}addInner(e,t,i){let r=e-this.lastTo||i.startSide-this.last.endSide;if(r<=0&&(e-this.lastFrom||i.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return r<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(t-this.chunkStart),this.last=i,this.lastFrom=e,this.lastTo=t,this.value.push(i),i.point&&(this.maxPoint=Math.max(this.maxPoint,t-e)),!0)}addChunk(e,t){if((e-this.lastTo||t.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,t.maxPoint),this.chunks.push(t),this.chunkPos.push(e);let i=t.value.length-1;return this.last=t.value[i],this.lastFrom=t.from[i]+e,this.lastTo=t.to[i]+e,!0}finish(){return this.finishInner(zt.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let t=zt.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,t}}function Mp(n,e,t){let i=new Map;for(let o of n)for(let s=0;s<o.chunk.length;s++)o.chunk[s].maxPoint<=0&&i.set(o.chunk[s],o.chunkPos[s]);let r=new Set;for(let o of e)for(let s=0;s<o.chunk.length;s++){let l=i.get(o.chunk[s]);l!=null&&(t?t.mapPos(l):l)==o.chunkPos[s]&&!(t!=null&&t.touchesRange(l,l+o.chunk[s].length))&&r.add(o.chunk[s])}return r}class hb{constructor(e,t,i,r=0){this.layer=e,this.skip=t,this.minPoint=i,this.rank=r}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,t=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,t,!1),this}gotoInner(e,t,i){for(;this.chunkIndex<this.layer.chunk.length;){let r=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(r)||this.layer.chunkEnd(this.chunkIndex)<e||r.maxPoint<this.minPoint))break;this.chunkIndex++,i=!1}if(this.chunkIndex<this.layer.chunk.length){let r=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],t,!0);(!i||this.rangeIndex<r)&&this.setRangeIndex(r)}this.next()}forward(e,t){(this.to-e||this.endSide-t)<0&&this.gotoInner(e,t,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],t=this.layer.chunk[this.chunkIndex],i=e+t.from[this.rangeIndex];if(this.from=i,this.to=e+t.to[this.rangeIndex],this.value=t.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class tl{constructor(e){this.heap=e}static from(e,t=null,i=-1){let r=[];for(let o=0;o<e.length;o++)for(let s=e[o];!s.isEmpty;s=s.nextLayer)s.maxPoint>=i&&r.push(new hb(s,t,i,o));return r.length==1?r[0]:new tl(r)}get startSide(){return this.value?this.value.startSide:0}goto(e,t=-1e9){for(let i of this.heap)i.goto(e,t);for(let i=this.heap.length>>1;i>=0;i--)Su(this.heap,i);return this.next(),this}forward(e,t){for(let i of this.heap)i.forward(e,t);for(let i=this.heap.length>>1;i>=0;i--)Su(this.heap,i);(this.to-e||this.value.endSide-t)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),Su(this.heap,0)}}}function Su(n,e){for(let t=n[e];;){let i=(e<<1)+1;if(i>=n.length)break;let r=n[i];if(i+1<n.length&&r.compare(n[i+1])>=0&&(r=n[i+1],i++),t.compare(r)<0)break;n[i]=t,n[e]=r,e=i}}class ws{constructor(e,t,i){this.minPoint=i,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=tl.from(e,t,i)}goto(e,t=-1e9){return this.cursor.goto(e,t),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=t,this.openStart=-1,this.next(),this}forward(e,t){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-t)<0;)this.removeActive(this.minActive);this.cursor.forward(e,t)}removeActive(e){Hl(this.active,e),Hl(this.activeTo,e),Hl(this.activeRank,e),this.minActive=Pp(this.active,this.activeTo)}addActive(e){let t=0,{value:i,to:r,rank:o}=this.cursor;for(;t<this.activeRank.length&&this.activeRank[t]<=o;)t++;zl(this.active,t,i),zl(this.activeTo,t,r),zl(this.activeRank,t,o),e&&zl(e,t,this.cursor.from),this.minActive=Pp(this.active,this.activeTo)}next(){let e=this.to,t=this.point;this.point=null;let i=this.openStart<0?[]:null,r=0;for(;;){let o=this.minActive;if(o>-1&&(this.activeTo[o]-this.cursor.from||this.active[o].endSide-this.cursor.startSide)<0){if(this.activeTo[o]>e){this.to=this.activeTo[o],this.endSide=this.active[o].endSide;break}this.removeActive(o),i&&Hl(i,o)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let s=this.cursor.value;if(!s.point)this.addActive(i),this.cursor.from<e&&this.cursor.to>e&&r++,this.cursor.next();else if(t&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=s,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=s.endSide,this.cursor.from<e&&(r=1),this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(i){let o=0;for(;o<i.length&&i[o]<e;)o++;this.openStart=o+r}}activeForPoint(e){if(!this.active.length)return this.active;let t=[];for(let i=this.active.length-1;i>=0&&!(this.activeRank[i]<this.pointRank);i--)(this.activeTo[i]>e||this.activeTo[i]==e&&this.active[i].endSide>=this.point.endSide)&&t.push(this.active[i]);return t.reverse()}openEnd(e){let t=0;for(let i=this.activeTo.length-1;i>=0&&this.activeTo[i]>e;i--)t++;return t}}function Ap(n,e,t,i,r,o){n.goto(e),t.goto(i);let s=i+r,l=i,a=i-e;for(;;){let c=n.to+a-t.to||n.endSide-t.endSide,u=c<0?n.to+a:t.to,f=Math.min(u,s);if(n.point||t.point?n.point&&t.point&&(n.point==t.point||n.point.eq(t.point))&&Hf(n.activeForPoint(n.to+a),t.activeForPoint(t.to))||o.comparePoint(l,f,n.point,t.point):f>l&&!Hf(n.active,t.active)&&o.compareRange(l,f,n.active,t.active),u>s)break;l=u,c<=0&&n.next(),c>=0&&t.next()}}function Hf(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!=e[t]&&!n[t].eq(e[t]))return!1;return!0}function Hl(n,e){for(let t=e,i=n.length-1;t<i;t++)n[t]=n[t+1];n.pop()}function zl(n,e,t){for(let i=n.length-1;i>=e;i--)n[i+1]=n[i];n[e]=t}function Pp(n,e){let t=-1,i=1e9;for(let r=0;r<e.length;r++)(e[r]-i||n[r].endSide-n[t].endSide)<0&&(t=r,i=e[r]);return t}function _l(n,e,t=n.length){let i=0;for(let r=0;r<t;)n.charCodeAt(r)==9?(i+=e-i%e,r++):(i++,r=Qn(n,r));return i}function zf(n,e,t,i){for(let r=0,o=0;;){if(o>=e)return r;if(r==n.length)break;o+=n.charCodeAt(r)==9?t-o%t:1,r=Qn(n,r)}return i===!0?-1:n.length}const qf="\u037C",Ip=typeof Symbol>"u"?"__"+qf:Symbol.for(qf),Wf=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),Np=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class Vr{constructor(e,t){this.rules=[];let{finish:i}=t||{};function r(s){return/^@/.test(s)?[s]:s.split(/,\s*/)}function o(s,l,a,c){let u=[],f=/^@(\w+)\b/.exec(s[0]),h=f&&f[1]=="keyframes";if(f&&l==null)return a.push(s[0]+";");for(let d in l){let m=l[d];if(/&/.test(d))o(d.split(/,\s*/).map(g=>s.map(y=>g.replace(/&/,y))).reduce((g,y)=>g.concat(y)),m,a);else if(m&&typeof m=="object"){if(!f)throw new RangeError("The value of a property ("+d+") should be a primitive value.");o(r(d),m,u,h)}else m!=null&&u.push(d.replace(/_.*/,"").replace(/[A-Z]/g,g=>"-"+g.toLowerCase())+": "+m+";")}(u.length||h)&&a.push((i&&!f&&!c?s.map(i):s).join(", ")+" {"+u.join(" ")+"}")}for(let s in e)o(r(s),e[s],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let e=Np[Ip]||1;return Np[Ip]=e+1,qf+e.toString(36)}static mount(e,t){(e[Wf]||new FO(e)).mount(Array.isArray(t)?t:[t])}}let ql=null;class FO{constructor(e){if(!e.head&&e.adoptedStyleSheets&&typeof CSSStyleSheet<"u"){if(ql)return e.adoptedStyleSheets=[ql.sheet].concat(e.adoptedStyleSheets),e[Wf]=ql;this.sheet=new CSSStyleSheet,e.adoptedStyleSheets=[this.sheet].concat(e.adoptedStyleSheets),ql=this}else{this.styleTag=(e.ownerDocument||e).createElement("style");let t=e.head||e;t.insertBefore(this.styleTag,t.firstChild)}this.modules=[],e[Wf]=this}mount(e){let t=this.sheet,i=0,r=0;for(let o=0;o<e.length;o++){let s=e[o],l=this.modules.indexOf(s);if(l<r&&l>-1&&(this.modules.splice(l,1),r--,l=-1),l==-1){if(this.modules.splice(r++,0,s),t)for(let a=0;a<s.rules.length;a++)t.insertRule(s.rules[a],i++)}else{for(;r<l;)i+=this.modules[r++].rules.length;i+=s.rules.length,r++}}if(!t){let o="";for(let s=0;s<this.modules.length;s++)o+=this.modules[s].getRules()+`
`;this.styleTag.textContent=o}}}var Hr={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},nl={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},Dp=typeof navigator<"u"&&/Chrome\/(\d+)/.exec(navigator.userAgent);typeof navigator<"u"&&/Gecko\/\d+/.test(navigator.userAgent);var VO=typeof navigator<"u"&&/Mac/.test(navigator.platform),HO=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),zO=VO||Dp&&+Dp[1]<57;for(var Ln=0;Ln<10;Ln++)Hr[48+Ln]=Hr[96+Ln]=String(Ln);for(var Ln=1;Ln<=24;Ln++)Hr[Ln+111]="F"+Ln;for(var Ln=65;Ln<=90;Ln++)Hr[Ln]=String.fromCharCode(Ln+32),nl[Ln]=String.fromCharCode(Ln);for(var Cu in Hr)nl.hasOwnProperty(Cu)||(nl[Cu]=Hr[Cu]);function qO(n){var e=zO&&(n.ctrlKey||n.altKey||n.metaKey)||HO&&n.shiftKey&&n.key&&n.key.length==1||n.key=="Unidentified",t=!e&&n.key||(n.shiftKey?nl:Hr)[n.keyCode]||n.key||"Unidentified";return t=="Esc"&&(t="Escape"),t=="Del"&&(t="Delete"),t=="Left"&&(t="ArrowLeft"),t=="Up"&&(t="ArrowUp"),t=="Right"&&(t="ArrowRight"),t=="Down"&&(t="ArrowDown"),t}function Ha(n){let e;return n.nodeType==11?e=n.getSelection?n:n.ownerDocument:e=n,e.getSelection()}function Yo(n,e){return e?n==e||n.contains(e.nodeType!=1?e.parentNode:e):!1}function WO(n){let e=n.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function ga(n,e){if(!e.anchorNode)return!1;try{return Yo(n,e.anchorNode)}catch{return!1}}function il(n){return n.nodeType==3?Zo(n,0,n.nodeValue.length).getClientRects():n.nodeType==1?n.getClientRects():[]}function za(n,e,t,i){return t?Rp(n,e,t,i,-1)||Rp(n,e,t,i,1):!1}function qa(n){for(var e=0;;e++)if(n=n.previousSibling,!n)return e}function Rp(n,e,t,i,r){for(;;){if(n==t&&e==i)return!0;if(e==(r<0?0:rl(n))){if(n.nodeName=="DIV")return!1;let o=n.parentNode;if(!o||o.nodeType!=1)return!1;e=qa(n)+(r<0?0:1),n=o}else if(n.nodeType==1){if(n=n.childNodes[e+(r<0?-1:0)],n.nodeType==1&&n.contentEditable=="false")return!1;e=r<0?rl(n):0}else return!1}}function rl(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}const db={left:0,right:0,top:0,bottom:0};function Vc(n,e){let t=e?n.left:n.right;return{left:t,right:t,top:n.top,bottom:n.bottom}}function UO(n){return{left:0,right:n.innerWidth,top:0,bottom:n.innerHeight}}function KO(n,e,t,i,r,o,s,l){let a=n.ownerDocument,c=a.defaultView;for(let u=n;u;)if(u.nodeType==1){let f,h=u==a.body;if(h)f=UO(c);else{if(u.scrollHeight<=u.clientHeight&&u.scrollWidth<=u.clientWidth){u=u.parentNode;continue}let g=u.getBoundingClientRect();f={left:g.left,right:g.left+u.clientWidth,top:g.top,bottom:g.top+u.clientHeight}}let d=0,m=0;if(r=="nearest")e.top<f.top?(m=-(f.top-e.top+s),t>0&&e.bottom>f.bottom+m&&(m=e.bottom-f.bottom+m+s)):e.bottom>f.bottom&&(m=e.bottom-f.bottom+s,t<0&&e.top-m<f.top&&(m=-(f.top+m-e.top+s)));else{let g=e.bottom-e.top,y=f.bottom-f.top;m=(r=="center"&&g<=y?e.top+g/2-y/2:r=="start"||r=="center"&&t<0?e.top-s:e.bottom-y+s)-f.top}if(i=="nearest"?e.left<f.left?(d=-(f.left-e.left+o),t>0&&e.right>f.right+d&&(d=e.right-f.right+d+o)):e.right>f.right&&(d=e.right-f.right+o,t<0&&e.left<f.left+d&&(d=-(f.left+d-e.left+o))):d=(i=="center"?e.left+(e.right-e.left)/2-(f.right-f.left)/2:i=="start"==l?e.left-o:e.right-(f.right-f.left)+o)-f.left,d||m)if(h)c.scrollBy(d,m);else{if(m){let g=u.scrollTop;u.scrollTop+=m,m=u.scrollTop-g}if(d){let g=u.scrollLeft;u.scrollLeft+=d,d=u.scrollLeft-g}e={left:e.left-d,top:e.top-m,right:e.right-d,bottom:e.bottom-m}}if(h)break;u=u.assignedSlot||u.parentNode,i=r="nearest"}else if(u.nodeType==11)u=u.host;else break}class JO{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){this.set(e.anchorNode,e.anchorOffset,e.focusNode,e.focusOffset)}set(e,t,i,r){this.anchorNode=e,this.anchorOffset=t,this.focusNode=i,this.focusOffset=r}}let Po=null;function mb(n){if(n.setActive)return n.setActive();if(Po)return n.focus(Po);let e=[];for(let t=n;t&&(e.push(t,t.scrollTop,t.scrollLeft),t!=t.ownerDocument);t=t.parentNode);if(n.focus(Po==null?{get preventScroll(){return Po={preventScroll:!0},!0}}:void 0),!Po){Po=!1;for(let t=0;t<e.length;){let i=e[t++],r=e[t++],o=e[t++];i.scrollTop!=r&&(i.scrollTop=r),i.scrollLeft!=o&&(i.scrollLeft=o)}}}let jp;function Zo(n,e,t=e){let i=jp||(jp=document.createRange());return i.setEnd(n,t),i.setStart(n,e),i}function Fs(n,e,t){let i={key:e,code:e,keyCode:t,which:t,cancelable:!0},r=new KeyboardEvent("keydown",i);r.synthetic=!0,n.dispatchEvent(r);let o=new KeyboardEvent("keyup",i);return o.synthetic=!0,n.dispatchEvent(o),r.defaultPrevented||o.defaultPrevented}function GO(n){for(;n;){if(n&&(n.nodeType==9||n.nodeType==11&&n.host))return n;n=n.assignedSlot||n.parentNode}return null}function pb(n){for(;n.attributes.length;)n.removeAttributeNode(n.attributes[0])}function QO(n,e){let t=e.focusNode,i=e.focusOffset;if(!t||e.anchorNode!=t||e.anchorOffset!=i)return!1;for(;;)if(i){if(t.nodeType!=1)return!1;let r=t.childNodes[i-1];r.contentEditable=="false"?i--:(t=r,i=rl(t))}else{if(t==n)return!0;i=qa(t),t=t.parentNode}}class Wn{constructor(e,t,i=!0){this.node=e,this.offset=t,this.precise=i}static before(e,t){return new Wn(e.parentNode,qa(e),t)}static after(e,t){return new Wn(e.parentNode,qa(e)+1,t)}}const cd=[];class en{constructor(){this.parent=null,this.dom=null,this.dirty=2}get editorView(){if(!this.parent)throw new Error("Accessing view in orphan content view");return this.parent.editorView}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let t=this.posAtStart;for(let i of this.children){if(i==e)return t;t+=i.length+i.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}coordsAt(e,t){return null}sync(e){if(this.dirty&2){let t=this.dom,i=null,r;for(let o of this.children){if(o.dirty){if(!o.dom&&(r=i?i.nextSibling:t.firstChild)){let s=en.get(r);(!s||!s.parent&&s.constructor==o.constructor)&&o.reuseDOM(r)}o.sync(e),o.dirty=0}if(r=i?i.nextSibling:t.firstChild,e&&!e.written&&e.node==t&&r!=o.dom&&(e.written=!0),o.dom.parentNode==t)for(;r&&r!=o.dom;)r=Lp(r);else t.insertBefore(o.dom,r);i=o.dom}for(r=i?i.nextSibling:t.firstChild,r&&e&&e.node==t&&(e.written=!0);r;)r=Lp(r)}else if(this.dirty&1)for(let t of this.children)t.dirty&&(t.sync(e),t.dirty=0)}reuseDOM(e){}localPosFromDOM(e,t){let i;if(e==this.dom)i=this.dom.childNodes[t];else{let r=rl(e)==0?0:t==0?-1:1;for(;;){let o=e.parentNode;if(o==this.dom)break;r==0&&o.firstChild!=o.lastChild&&(e==o.firstChild?r=-1:r=1),e=o}r<0?i=e:i=e.nextSibling}if(i==this.dom.firstChild)return 0;for(;i&&!en.get(i);)i=i.nextSibling;if(!i)return this.length;for(let r=0,o=0;;r++){let s=this.children[r];if(s.dom==i)return o;o+=s.length+s.breakAfter}}domBoundsAround(e,t,i=0){let r=-1,o=-1,s=-1,l=-1;for(let a=0,c=i,u=i;a<this.children.length;a++){let f=this.children[a],h=c+f.length;if(c<e&&h>t)return f.domBoundsAround(e,t,c);if(h>=e&&r==-1&&(r=a,o=c),c>t&&f.dom.parentNode==this.dom){s=a,l=u;break}u=h,c=h+f.breakAfter}return{from:o,to:l<0?i+this.length:l,startDOM:(r?this.children[r-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:s<this.children.length&&s>=0?this.children[s].dom:null}}markDirty(e=!1){this.dirty|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let t=this.parent;t;t=t.parent){if(e&&(t.dirty|=2),t.dirty&1)return;t.dirty|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,this.dirty&&this.markParentsDirty(!0))}setDOM(e){this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this}get rootView(){for(let e=this;;){let t=e.parent;if(!t)return e;e=t}}replaceChildren(e,t,i=cd){this.markDirty();for(let r=e;r<t;r++){let o=this.children[r];o.parent==this&&o.destroy()}this.children.splice(e,t-e,...i);for(let r=0;r<i.length;r++)i[r].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new gb(this.children,e,this.children.length)}childPos(e,t=1){return this.childCursor().findPos(e,t)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+(e=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}merge(e,t,i,r,o,s){return!1}become(e){return!1}getSide(){return 0}destroy(){this.parent=null}}en.prototype.breakAfter=0;function Lp(n){let e=n.nextSibling;return n.parentNode.removeChild(n),e}class gb{constructor(e,t,i){this.children=e,this.pos=t,this.i=i,this.off=0}findPos(e,t=1){for(;;){if(e>this.pos||e==this.pos&&(t>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let i=this.children[--this.i];this.pos-=i.length+i.breakAfter}}}function yb(n,e,t,i,r,o,s,l,a){let{children:c}=n,u=c.length?c[e]:null,f=o.length?o[o.length-1]:null,h=f?f.breakAfter:s;if(!(e==i&&u&&!s&&!h&&o.length<2&&u.merge(t,r,o.length?f:null,t==0,l,a))){if(i<c.length){let d=c[i];d&&r<d.length?(e==i&&(d=d.split(r),r=0),!h&&f&&d.merge(0,r,f,!0,0,a)?o[o.length-1]=d:(r&&d.merge(0,r,null,!1,0,a),o.push(d))):d!=null&&d.breakAfter&&(f?f.breakAfter=1:s=1),i++}for(u&&(u.breakAfter=s,t>0&&(!s&&o.length&&u.merge(t,u.length,o[0],!1,l,0)?u.breakAfter=o.shift().breakAfter:(t<u.length||u.children.length&&u.children[u.children.length-1].length==0)&&u.merge(t,u.length,null,!1,l,0),e++));e<i&&o.length;)if(c[i-1].become(o[o.length-1]))i--,o.pop(),a=o.length?0:l;else if(c[e].become(o[0]))e++,o.shift(),l=o.length?0:a;else break;!o.length&&e&&i<c.length&&!c[e-1].breakAfter&&c[i].merge(0,0,c[e-1],!1,l,a)&&e--,(e<i||o.length)&&n.replaceChildren(e,i,o)}}function vb(n,e,t,i,r,o){let s=n.childCursor(),{i:l,off:a}=s.findPos(t,1),{i:c,off:u}=s.findPos(e,-1),f=e-t;for(let h of i)f+=h.length;n.length+=f,yb(n,c,u,l,a,i,0,r,o)}let di=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},Uf=typeof document<"u"?document:{documentElement:{style:{}}};const Kf=/Edge\/(\d+)/.exec(di.userAgent),bb=/MSIE \d/.test(di.userAgent),Jf=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(di.userAgent),Hc=!!(bb||Jf||Kf),Bp=!Hc&&/gecko\/(\d+)/i.test(di.userAgent),xu=!Hc&&/Chrome\/(\d+)/.exec(di.userAgent),Fp="webkitFontSmoothing"in Uf.documentElement.style,wb=!Hc&&/Apple Computer/.test(di.vendor),Vp=wb&&(/Mobile\/\w+/.test(di.userAgent)||di.maxTouchPoints>2);var Ze={mac:Vp||/Mac/.test(di.platform),windows:/Win/.test(di.platform),linux:/Linux|X11/.test(di.platform),ie:Hc,ie_version:bb?Uf.documentMode||6:Jf?+Jf[1]:Kf?+Kf[1]:0,gecko:Bp,gecko_version:Bp?+(/Firefox\/(\d+)/.exec(di.userAgent)||[0,0])[1]:0,chrome:!!xu,chrome_version:xu?+xu[1]:0,ios:Vp,android:/Android\b/.test(di.userAgent),webkit:Fp,safari:wb,webkit_version:Fp?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0,tabSize:Uf.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};const XO=256;class zr extends en{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(e&&e.node==this.dom&&(e.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){e.nodeType==3&&this.createDOM(e)}merge(e,t,i){return i&&(!(i instanceof zr)||this.length-(t-e)+i.length>XO)?!1:(this.text=this.text.slice(0,e)+(i?i.text:"")+this.text.slice(t),this.markDirty(),!0)}split(e){let t=new zr(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),t}localPosFromDOM(e,t){return e==this.dom?t:t?this.text.length:0}domAtPos(e){return new Wn(this.dom,e)}domBoundsAround(e,t,i){return{from:i,to:i+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,t){return Gf(this.dom,e,t)}}class rr extends en{constructor(e,t=[],i=0){super(),this.mark=e,this.children=t,this.length=i;for(let r of t)r.setParent(this)}setAttrs(e){if(pb(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let t in this.mark.attrs)e.setAttribute(t,this.mark.attrs[t]);return e}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.dirty|=6)}sync(e){this.dom?this.dirty&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e)}merge(e,t,i,r,o,s){return i&&(!(i instanceof rr&&i.mark.eq(this.mark))||e&&o<=0||t<this.length&&s<=0)?!1:(vb(this,e,t,i?i.children:[],o-1,s-1),this.markDirty(),!0)}split(e){let t=[],i=0,r=-1,o=0;for(let l of this.children){let a=i+l.length;a>e&&t.push(i<e?l.split(e-i):l),r<0&&i>=e&&(r=o),i=a,o++}let s=this.length-e;return this.length=e,r>-1&&(this.children.length=r,this.markDirty()),new rr(this.mark,t,s)}domAtPos(e){return Sb(this,e)}coordsAt(e,t){return xb(this,e,t)}}function Gf(n,e,t){let i=n.nodeValue.length;e>i&&(e=i);let r=e,o=e,s=0;e==0&&t<0||e==i&&t>=0?Ze.chrome||Ze.gecko||(e?(r--,s=1):o<i&&(o++,s=-1)):t<0?r--:o<i&&o++;let l=Zo(n,r,o).getClientRects();if(!l.length)return db;let a=l[(s?s<0:t>=0)?0:l.length-1];return Ze.safari&&!s&&a.width==0&&(a=Array.prototype.find.call(l,c=>c.width)||a),s?Vc(a,s<0):a||null}class Tr extends en{constructor(e,t,i){super(),this.widget=e,this.length=t,this.side=i,this.prevWidget=null}static create(e,t,i){return new(e.customView||Tr)(e,t,i)}split(e){let t=Tr.create(this.widget,this.length-e,this.side);return this.length-=e,t}sync(){(!this.dom||!this.widget.updateDOM(this.dom))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(this.editorView)),this.dom.contentEditable="false")}getSide(){return this.side}merge(e,t,i,r,o,s){return i&&(!(i instanceof Tr)||!this.widget.compare(i.widget)||e>0&&o<=0||t<this.length&&s<=0)?!1:(this.length=e+(i?i.length:0)+(this.length-t),!0)}become(e){return e.length==this.length&&e instanceof Tr&&e.side==this.side&&this.widget.constructor==e.widget.constructor?(this.widget.eq(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(this.length==0)return Ut.empty;let e=this;for(;e.parent;)e=e.parent;let t=e.editorView,i=t&&t.state.doc,r=this.posAtStart;return i?i.slice(r,r+this.length):Ut.empty}domAtPos(e){return e==0?Wn.before(this.dom):Wn.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,t){let i=this.dom.getClientRects(),r=null;if(!i.length)return db;for(let o=e>0?i.length-1:0;r=i[o],!(e>0?o==0:o==i.length-1||r.top<r.bottom);o+=e>0?-1:1);return e==0&&t>0||e==this.length&&t<=0?r:Vc(r,e==0)}get isEditable(){return!1}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class _b extends Tr{domAtPos(e){let{topView:t,text:i}=this.widget;return t?Qf(e,0,t,i,(r,o)=>r.domAtPos(o),r=>new Wn(i,Math.min(r,i.nodeValue.length))):new Wn(i,Math.min(e,i.nodeValue.length))}sync(){this.setDOM(this.widget.toDOM())}localPosFromDOM(e,t){let{topView:i,text:r}=this.widget;return i?kb(e,t,i,r):Math.min(t,this.length)}ignoreMutation(){return!1}get overrideDOMText(){return null}coordsAt(e,t){let{topView:i,text:r}=this.widget;return i?Qf(e,t,i,r,(o,s,l)=>o.coordsAt(s,l),(o,s)=>Gf(r,o,s)):Gf(r,e,t)}destroy(){var e;super.destroy(),(e=this.widget.topView)===null||e===void 0||e.destroy()}get isEditable(){return!0}}function Qf(n,e,t,i,r,o){if(t instanceof rr){for(let s=t.dom.firstChild;s;s=s.nextSibling){let l=en.get(s);if(!l)return o(n,e);let a=Yo(s,i),c=l.length+(a?i.nodeValue.length:0);if(n<c||n==c&&l.getSide()<=0)return a?Qf(n,e,l,i,r,o):r(l,n,e);n-=c}return r(t,t.length,-1)}else return t.dom==i?o(n,e):r(t,n,e)}function kb(n,e,t,i){if(t instanceof rr)for(let r of t.children){let o=0,s=Yo(r.dom,i);if(Yo(r.dom,n))return o+(s?kb(n,e,r,i):r.localPosFromDOM(n,e));o+=s?i.nodeValue.length:r.length}else if(t.dom==i)return Math.min(e,i.nodeValue.length);return t.localPosFromDOM(n,e)}class $o extends en{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof $o&&e.side==this.side}split(){return new $o(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return Wn.before(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){let t=this.dom.getBoundingClientRect(),i=YO(this,this.side>0?-1:1);return i&&i.top<t.bottom&&i.bottom>t.top?{left:t.left,right:t.right,top:i.top,bottom:i.bottom}:t}get overrideDOMText(){return Ut.empty}}zr.prototype.children=Tr.prototype.children=$o.prototype.children=cd;function YO(n,e){let t=n.parent,i=t?t.children.indexOf(n):-1;for(;t&&i>=0;)if(e<0?i>0:i<t.children.length){let r=t.children[i+e];if(r instanceof zr){let o=r.coordsAt(e<0?r.length:0,e);if(o)return o}i+=e}else if(t instanceof rr&&t.parent)i=t.parent.children.indexOf(t)+(e<0?0:1),t=t.parent;else{let r=t.dom.lastChild;if(r&&r.nodeName=="BR")return r.getClientRects()[0];break}}function Sb(n,e){let t=n.dom,{children:i}=n,r=0;for(let o=0;r<i.length;r++){let s=i[r],l=o+s.length;if(!(l==o&&s.getSide()<=0)){if(e>o&&e<l&&s.dom.parentNode==t)return s.domAtPos(e-o);if(e<=o)break;o=l}}for(let o=r;o>0;o--){let s=i[o-1];if(s.dom.parentNode==t)return s.domAtPos(s.length)}for(let o=r;o<i.length;o++){let s=i[o];if(s.dom.parentNode==t)return s.domAtPos(0)}return new Wn(t,0)}function Cb(n,e,t){let i,{children:r}=n;t>0&&e instanceof rr&&r.length&&(i=r[r.length-1])instanceof rr&&i.mark.eq(e.mark)?Cb(i,e.children[0],t-1):(r.push(e),e.setParent(n)),n.length+=e.length}function xb(n,e,t){for(let o=0,s=0;s<n.children.length;s++){let l=n.children[s],a=o+l.length,c;if((t<=0||a==n.length||l.getSide()>0?a>=e:a>e)&&(e<a||s+1==n.children.length||(c=n.children[s+1]).length||c.getSide()>0)){let u=0;if(a==o){if(l.getSide()<=0)continue;u=t=-l.getSide()}let f=l.coordsAt(Math.max(0,e-o),t);return u&&f?Vc(f,t<0):f}o=a}let i=n.dom.lastChild;if(!i)return n.dom.getBoundingClientRect();let r=il(i);return r[r.length-1]||null}function Xf(n,e){for(let t in n)t=="class"&&e.class?e.class+=" "+n.class:t=="style"&&e.style?e.style+=";"+n.style:e[t]=n[t];return e}function ud(n,e){if(n==e)return!0;if(!n||!e)return!1;let t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r of t)if(i.indexOf(r)==-1||n[r]!==e[r])return!1;return!0}function Yf(n,e,t){let i=null;if(e)for(let r in e)t&&r in t||n.removeAttribute(i=r);if(t)for(let r in t)e&&e[r]==t[r]||n.setAttribute(i=r,t[r]);return!!i}class Ur{eq(e){return!1}updateDOM(e){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}ignoreEvent(e){return!0}get customView(){return null}destroy(e){}}var Qt=function(n){return n[n.Text=0]="Text",n[n.WidgetBefore=1]="WidgetBefore",n[n.WidgetAfter=2]="WidgetAfter",n[n.WidgetRange=3]="WidgetRange",n}(Qt||(Qt={}));class ct extends go{constructor(e,t,i,r){super(),this.startSide=e,this.endSide=t,this.widget=i,this.spec=r}get heightRelevant(){return!1}static mark(e){return new zc(e)}static widget(e){let t=e.side||0,i=!!e.block;return t+=i?t>0?3e8:-4e8:t>0?1e8:-1e8,new yo(e,t,t,i,e.widget||null,!1)}static replace(e){let t=!!e.block,i,r;if(e.isBlockGap)i=-5e8,r=4e8;else{let{start:o,end:s}=Ob(e,t);i=(o?t?-3e8:-1:5e8)-1,r=(s?t?2e8:1:-6e8)+1}return new yo(e,i,r,t,e.widget||null,!0)}static line(e){return new kl(e)}static set(e,t=!1){return zt.of(e,t)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}ct.none=zt.empty;class zc extends ct{constructor(e){let{start:t,end:i}=Ob(e);super(t?-1:5e8,i?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){return this==e||e instanceof zc&&this.tagName==e.tagName&&this.class==e.class&&ud(this.attrs,e.attrs)}range(e,t=e){if(e>=t)throw new RangeError("Mark decorations may not be empty");return super.range(e,t)}}zc.prototype.point=!1;class kl extends ct{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof kl&&ud(this.spec.attributes,e.spec.attributes)}range(e,t=e){if(t!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,t)}}kl.prototype.mapMode=Gn.TrackBefore;kl.prototype.point=!0;class yo extends ct{constructor(e,t,i,r,o,s){super(t,i,o,e),this.block=r,this.isReplace=s,this.mapMode=r?t<=0?Gn.TrackBefore:Gn.TrackAfter:Gn.TrackDel}get type(){return this.startSide<this.endSide?Qt.WidgetRange:this.startSide<=0?Qt.WidgetBefore:Qt.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&this.widget.estimatedHeight>=5}eq(e){return e instanceof yo&&ZO(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,t=e){if(this.isReplace&&(e>t||e==t&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&t!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,t)}}yo.prototype.point=!0;function Ob(n,e=!1){let{inclusiveStart:t,inclusiveEnd:i}=n;return t==null&&(t=n.inclusive),i==null&&(i=n.inclusive),{start:t!=null?t:e,end:i!=null?i:e}}function ZO(n,e){return n==e||!!(n&&e&&n.compare(e))}function Zf(n,e,t,i=0){let r=t.length-1;r>=0&&t[r]+i>=n?t[r]=Math.max(t[r],e):t.push(n,e)}class Xn extends en{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,t,i,r,o,s){if(i){if(!(i instanceof Xn))return!1;this.dom||i.transferDOM(this)}return r&&this.setDeco(i?i.attrs:null),vb(this,e,t,i?i.children:[],o,s),!0}split(e){let t=new Xn;if(t.breakAfter=this.breakAfter,this.length==0)return t;let{i,off:r}=this.childPos(e);r&&(t.append(this.children[i].split(r),0),this.children[i].merge(r,this.children[i].length,null,!1,0,0),i++);for(let o=i;o<this.children.length;o++)t.append(this.children[o],0);for(;i>0&&this.children[i-1].length==0;)this.children[--i].destroy();return this.children.length=i,this.markDirty(),this.length=e,t}transferDOM(e){!this.dom||(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){ud(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,t){Cb(this,e,t)}addLineDeco(e){let t=e.spec.attributes,i=e.spec.class;t&&(this.attrs=Xf(t,this.attrs||{})),i&&(this.attrs=Xf({class:i},this.attrs||{}))}domAtPos(e){return Sb(this,e)}reuseDOM(e){e.nodeName=="DIV"&&(this.setDOM(e),this.dirty|=6)}sync(e){var t;this.dom?this.dirty&4&&(pb(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(Yf(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e);let i=this.dom.lastChild;for(;i&&en.get(i)instanceof rr;)i=i.lastChild;if(!i||!this.length||i.nodeName!="BR"&&((t=en.get(i))===null||t===void 0?void 0:t.isEditable)==!1&&(!Ze.ios||!this.children.some(r=>r instanceof zr))){let r=document.createElement("BR");r.cmIgnore=!0,this.dom.appendChild(r)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let e=0;for(let t of this.children){if(!(t instanceof zr)||/[^ -~]/.test(t.text))return null;let i=il(t.dom);if(i.length!=1)return null;e+=i[0].width}return e?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length}:null}coordsAt(e,t){return xb(this,e,t)}become(e){return!1}get type(){return Qt.Text}static find(e,t){for(let i=0,r=0;i<e.children.length;i++){let o=e.children[i],s=r+o.length;if(s>=t){if(o instanceof Xn)return o;if(s>t)break}r=s+o.breakAfter}return null}}class oo extends en{constructor(e,t,i){super(),this.widget=e,this.length=t,this.type=i,this.breakAfter=0,this.prevWidget=null}merge(e,t,i,r,o,s){return i&&(!(i instanceof oo)||!this.widget.compare(i.widget)||e>0&&o<=0||t<this.length&&s<=0)?!1:(this.length=e+(i?i.length:0)+(this.length-t),!0)}domAtPos(e){return e==0?Wn.before(this.dom):Wn.after(this.dom,e==this.length)}split(e){let t=this.length-e;this.length=e;let i=new oo(this.widget,t,this.type);return i.breakAfter=this.breakAfter,i}get children(){return cd}sync(){(!this.dom||!this.widget.updateDOM(this.dom))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(this.editorView)),this.dom.contentEditable="false")}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):Ut.empty}domBoundsAround(){return null}become(e){return e instanceof oo&&e.type==this.type&&e.widget.constructor==this.widget.constructor?(e.widget.eq(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.breakAfter=e.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class fd{constructor(e,t,i,r){this.doc=e,this.pos=t,this.end=i,this.disallowBlockEffectsFor=r,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=t}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!e.breakAfter&&!(e instanceof oo&&e.type==Qt.WidgetBefore)}getLine(){return this.curLine||(this.content.push(this.curLine=new Xn),this.atCursorPos=!0),this.curLine}flushBuffer(e){this.pendingBuffer&&(this.curLine.append(Wl(new $o(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer([]),this.curLine=null,this.content.push(e)}finish(e){e?this.pendingBuffer=0:this.flushBuffer([]),this.posCovered()||this.getLine()}buildText(e,t,i){for(;e>0;){if(this.textOff==this.text.length){let{value:o,lineBreak:s,done:l}=this.cursor.next(this.skip);if(this.skip=0,l)throw new Error("Ran out of text content when drawing inline views");if(s){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer([]),this.curLine=null,e--;continue}else this.text=o,this.textOff=0}let r=Math.min(this.text.length-this.textOff,e,512);this.flushBuffer(t.slice(0,i)),this.getLine().append(Wl(new zr(this.text.slice(this.textOff,this.textOff+r)),t),i),this.atCursorPos=!0,this.textOff+=r,e-=r,i=0}}span(e,t,i,r){this.buildText(t-e,i,r),this.pos=t,this.openStart<0&&(this.openStart=r)}point(e,t,i,r,o,s){if(this.disallowBlockEffectsFor[s]&&i instanceof yo){if(i.block)throw new RangeError("Block decorations may not be specified via plugins");if(t>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let l=t-e;if(i instanceof yo)if(i.block){let{type:a}=i;a==Qt.WidgetAfter&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new oo(i.widget||new Hp("div"),l,a))}else{let a=Tr.create(i.widget||new Hp("span"),l,i.startSide),c=this.atCursorPos&&!a.isEditable&&o<=r.length&&(e<t||i.startSide>0),u=!a.isEditable&&(e<t||i.startSide<=0),f=this.getLine();this.pendingBuffer==2&&!c&&(this.pendingBuffer=0),this.flushBuffer(r),c&&(f.append(Wl(new $o(1),r),o),o=r.length+Math.max(0,o-r.length)),f.append(Wl(a,r),o),this.atCursorPos=u,this.pendingBuffer=u?e<t?1:2:0}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(i);l&&(this.textOff+l<=this.text.length?this.textOff+=l:(this.skip+=l-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=t),this.openStart<0&&(this.openStart=o)}static build(e,t,i,r,o){let s=new fd(e,t,i,o);return s.openEnd=zt.spans(r,t,i,s),s.openStart<0&&(s.openStart=s.openEnd),s.finish(s.openEnd),s}}function Wl(n,e){for(let t of e)n=new rr(t,[n],n.length);return n}class Hp extends Ur{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}}const Eb=$e.define(),Tb=$e.define(),Mb=$e.define(),Ab=$e.define(),$f=$e.define(),Pb=$e.define(),Ib=$e.define({combine:n=>n.some(e=>e)});class Wa{constructor(e,t="nearest",i="nearest",r=5,o=5){this.range=e,this.y=t,this.x=i,this.yMargin=r,this.xMargin=o}map(e){return e.empty?this:new Wa(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin)}}const zp=kt.define({map:(n,e)=>n.map(e)});function pi(n,e,t){let i=n.facet(Ab);i.length?i[0](e):window.onerror?window.onerror(String(e),t,void 0,void 0,e):t?console.error(t+":",e):console.error(e)}const qc=$e.define({combine:n=>n.length?n[0]:!0});let $O=0;const Es=$e.define();class kn{constructor(e,t,i,r){this.id=e,this.create=t,this.domEventHandlers=i,this.extension=r(this)}static define(e,t){const{eventHandlers:i,provide:r,decorations:o}=t||{};return new kn($O++,e,i,s=>{let l=[Es.of(s)];return o&&l.push(ol.of(a=>{let c=a.plugin(s);return c?o(c):ct.none})),r&&l.push(r(s)),l})}static fromClass(e,t){return kn.define(i=>new e(i),t)}}class Ou{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}update(e){if(this.value){if(this.mustUpdate){let t=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(t)}catch(i){if(pi(t.state,i,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(e)}catch(t){pi(e.state,t,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var t;if(!((t=this.value)===null||t===void 0)&&t.destroy)try{this.value.destroy()}catch(i){pi(e.state,i,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const Nb=$e.define(),Db=$e.define(),ol=$e.define(),Rb=$e.define(),jb=$e.define(),Ts=$e.define();class ur{constructor(e,t,i,r){this.fromA=e,this.toA=t,this.fromB=i,this.toB=r}join(e){return new ur(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let t=e.length,i=this;for(;t>0;t--){let r=e[t-1];if(!(r.fromA>i.toA)){if(r.toA<i.fromA)break;i=i.join(r),e.splice(t-1,1)}}return e.splice(t,0,i),e}static extendWithRanges(e,t){if(t.length==0)return e;let i=[];for(let r=0,o=0,s=0,l=0;;r++){let a=r==e.length?null:e[r],c=s-l,u=a?a.fromB:1e9;for(;o<t.length&&t[o]<u;){let f=t[o],h=t[o+1],d=Math.max(l,f),m=Math.min(u,h);if(d<=m&&new ur(d+c,m+c,d,m).addToSet(i),h>u)break;o+=2}if(!a)return i;new ur(a.fromA,a.toA,a.fromB,a.toB).addToSet(i),s=a.toA,l=a.toB}}}class Ua{constructor(e,t,i){this.view=e,this.state=t,this.transactions=i,this.flags=0,this.startState=e.state,this.changes=Cn.empty(this.startState.doc.length);for(let s of i)this.changes=this.changes.compose(s.changes);let r=[];this.changes.iterChangedRanges((s,l,a,c)=>r.push(new ur(s,l,a,c))),this.changedRanges=r;let o=e.hasFocus;o!=e.inputState.notifiedFocused&&(e.inputState.notifiedFocused=o,this.flags|=1)}static create(e,t,i){return new Ua(e,t,i)}get viewportChanged(){return(this.flags&4)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&10)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}var cn=function(n){return n[n.LTR=0]="LTR",n[n.RTL=1]="RTL",n}(cn||(cn={}));const eh=cn.LTR,eE=cn.RTL;function Lb(n){let e=[];for(let t=0;t<n.length;t++)e.push(1<<+n[t]);return e}const tE=Lb("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),nE=Lb("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),th=Object.create(null),Wi=[];for(let n of["()","[]","{}"]){let e=n.charCodeAt(0),t=n.charCodeAt(1);th[e]=t,th[t]=-e}function iE(n){return n<=247?tE[n]:1424<=n&&n<=1524?2:1536<=n&&n<=1785?nE[n-1536]:1774<=n&&n<=2220?4:8192<=n&&n<=8203?256:64336<=n&&n<=65023?4:n==8204?256:1}const rE=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class Ho{constructor(e,t,i){this.from=e,this.to=t,this.level=i}get dir(){return this.level%2?eE:eh}side(e,t){return this.dir==t==e?this.to:this.from}static find(e,t,i,r){let o=-1;for(let s=0;s<e.length;s++){let l=e[s];if(l.from<=t&&l.to>=t){if(l.level==i)return s;(o<0||(r!=0?r<0?l.from<t:l.to>t:e[o].level>l.level))&&(o=s)}}if(o<0)throw new RangeError("Index out of range");return o}}const ln=[];function oE(n,e){let t=n.length,i=e==eh?1:2,r=e==eh?2:1;if(!n||i==1&&!rE.test(n))return Bb(t);for(let s=0,l=i,a=i;s<t;s++){let c=iE(n.charCodeAt(s));c==512?c=l:c==8&&a==4&&(c=16),ln[s]=c==4?2:c,c&7&&(a=c),l=c}for(let s=0,l=i,a=i;s<t;s++){let c=ln[s];if(c==128)s<t-1&&l==ln[s+1]&&l&24?c=ln[s]=l:ln[s]=256;else if(c==64){let u=s+1;for(;u<t&&ln[u]==64;)u++;let f=s&&l==8||u<t&&ln[u]==8?a==1?1:8:256;for(let h=s;h<u;h++)ln[h]=f;s=u-1}else c==8&&a==1&&(ln[s]=1);l=c,c&7&&(a=c)}for(let s=0,l=0,a=0,c,u,f;s<t;s++)if(u=th[c=n.charCodeAt(s)])if(u<0){for(let h=l-3;h>=0;h-=3)if(Wi[h+1]==-u){let d=Wi[h+2],m=d&2?i:d&4?d&1?r:i:0;m&&(ln[s]=ln[Wi[h]]=m),l=h;break}}else{if(Wi.length==189)break;Wi[l++]=s,Wi[l++]=c,Wi[l++]=a}else if((f=ln[s])==2||f==1){let h=f==i;a=h?0:1;for(let d=l-3;d>=0;d-=3){let m=Wi[d+2];if(m&2)break;if(h)Wi[d+2]|=2;else{if(m&4)break;Wi[d+2]|=4}}}for(let s=0;s<t;s++)if(ln[s]==256){let l=s+1;for(;l<t&&ln[l]==256;)l++;let a=(s?ln[s-1]:i)==1,c=(l<t?ln[l]:i)==1,u=a==c?a?1:2:i;for(let f=s;f<l;f++)ln[f]=u;s=l-1}let o=[];if(i==1)for(let s=0;s<t;){let l=s,a=ln[s++]!=1;for(;s<t&&a==(ln[s]!=1);)s++;if(a)for(let c=s;c>l;){let u=c,f=ln[--c]!=2;for(;c>l&&f==(ln[c-1]!=2);)c--;o.push(new Ho(c,u,f?2:1))}else o.push(new Ho(l,s,0))}else for(let s=0;s<t;){let l=s,a=ln[s++]==2;for(;s<t&&a==(ln[s]==2);)s++;o.push(new Ho(l,s,a?1:2))}return o}function Bb(n){return[new Ho(0,n,0)]}let Fb="";function sE(n,e,t,i,r){var o;let s=i.head-n.from,l=-1;if(s==0){if(!r||!n.length)return null;e[0].level!=t&&(s=e[0].side(!1,t),l=0)}else if(s==n.length){if(r)return null;let h=e[e.length-1];h.level!=t&&(s=h.side(!0,t),l=e.length-1)}l<0&&(l=Ho.find(e,s,(o=i.bidiLevel)!==null&&o!==void 0?o:-1,i.assoc));let a=e[l];s==a.side(r,t)&&(a=e[l+=r?1:-1],s=a.side(!r,t));let c=r==(a.dir==t),u=Qn(n.text,s,c);if(Fb=n.text.slice(Math.min(s,u),Math.max(s,u)),u!=a.side(r,t))return Se.cursor(u+n.from,c?-1:1,a.level);let f=l==(r?e.length-1:0)?null:e[l+(r?1:-1)];return!f&&a.level!=t?Se.cursor(r?n.to:n.from,r?-1:1,t):f&&f.level<a.level?Se.cursor(f.side(!r,t)+n.from,r?1:-1,f.level):Se.cursor(u+n.from,r?-1:1,a.level)}const Mr="\uFFFF";class Vb{constructor(e,t){this.points=e,this.text="",this.lineSeparator=t.facet(Ot.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=Mr}readRange(e,t){if(!e)return this;let i=e.parentNode;for(let r=e;;){this.findPointBefore(i,r),this.readNode(r);let o=r.nextSibling;if(o==t)break;let s=en.get(r),l=en.get(o);(s&&l?s.breakAfter:(s?s.breakAfter:qp(r))||qp(o)&&(r.nodeName!="BR"||r.cmIgnore))&&this.lineBreak(),r=o}return this.findPointBefore(i,t),this}readTextNode(e){let t=e.nodeValue;for(let i of this.points)i.node==e&&(i.pos=this.text.length+Math.min(i.offset,t.length));for(let i=0,r=this.lineSeparator?null:/\r\n?|\n/g;;){let o=-1,s=1,l;if(this.lineSeparator?(o=t.indexOf(this.lineSeparator,i),s=this.lineSeparator.length):(l=r.exec(t))&&(o=l.index,s=l[0].length),this.append(t.slice(i,o<0?t.length:o)),o<0)break;if(this.lineBreak(),s>1)for(let a of this.points)a.node==e&&a.pos>this.text.length&&(a.pos-=s-1);i=o+s}}readNode(e){if(e.cmIgnore)return;let t=en.get(e),i=t&&t.overrideDOMText;if(i!=null){this.findPointInside(e,i.length);for(let r=i.iter();!r.next().done;)r.lineBreak?this.lineBreak():this.append(r.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,t){for(let i of this.points)i.node==e&&e.childNodes[i.offset]==t&&(i.pos=this.text.length)}findPointInside(e,t){for(let i of this.points)(e.nodeType==3?i.node==e:e.contains(i.node))&&(i.pos=this.text.length+Math.min(t,i.offset))}}function qp(n){return n.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(n.nodeName)}class Wp{constructor(e,t){this.node=e,this.offset=t,this.pos=-1}}class Up extends en{constructor(e){super(),this.view=e,this.compositionDeco=ct.none,this.decorations=[],this.dynamicDecorationMap=[],this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new Xn],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new ur(0,0,0,e.state.doc.length)],0)}get editorView(){return this.view}get length(){return this.view.state.doc.length}update(e){let t=e.changedRanges;this.minWidth>0&&t.length&&(t.every(({fromA:s,toA:l})=>l<this.minWidthFrom||s>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.view.inputState.composing<0?this.compositionDeco=ct.none:(e.transactions.length||this.dirty)&&(this.compositionDeco=aE(this.view,e.changes)),(Ze.ie||Ze.chrome)&&!this.compositionDeco.size&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let i=this.decorations,r=this.updateDeco(),o=hE(i,r,e.changes);return t=ur.extendWithRanges(t,o),this.dirty==0&&t.length==0?!1:(this.updateInner(t,e.startState.doc.length),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,t){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,t);let{observer:i}=this.view;i.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let o=Ze.chrome||Ze.ios?{node:i.selectionRange.focusNode,written:!1}:void 0;this.sync(o),this.dirty=0,o&&(o.written||i.selectionRange.focusNode!=o.node)&&(this.forceSelection=!0),this.dom.style.height=""});let r=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let o of this.children)o instanceof oo&&o.widget instanceof Kp&&r.push(o.dom);i.updateGaps(r)}updateChildren(e,t){let i=this.childCursor(t);for(let r=e.length-1;;r--){let o=r>=0?e[r]:null;if(!o)break;let{fromA:s,toA:l,fromB:a,toB:c}=o,{content:u,breakAtStart:f,openStart:h,openEnd:d}=fd.build(this.view.state.doc,a,c,this.decorations,this.dynamicDecorationMap),{i:m,off:g}=i.findPos(l,1),{i:y,off:p}=i.findPos(s,-1);yb(this,y,p,m,g,u,f,h,d)}}updateSelection(e=!1,t=!1){if((e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange(),!(t||this.mayControlSelection())||Ze.ios&&this.view.inputState.rapidCompositionStart)return;let i=this.forceSelection;this.forceSelection=!1;let r=this.view.state.selection.main,o=this.domAtPos(r.anchor),s=r.empty?o:this.domAtPos(r.head);if(Ze.gecko&&r.empty&&lE(o)){let a=document.createTextNode("");this.view.observer.ignore(()=>o.node.insertBefore(a,o.node.childNodes[o.offset]||null)),o=s=new Wn(a,0),i=!0}let l=this.view.observer.selectionRange;(i||!l.focusNode||!za(o.node,o.offset,l.anchorNode,l.anchorOffset)||!za(s.node,s.offset,l.focusNode,l.focusOffset))&&(this.view.observer.ignore(()=>{Ze.android&&Ze.chrome&&this.dom.contains(l.focusNode)&&dE(l.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let a=Ha(this.view.root);if(a)if(r.empty){if(Ze.gecko){let c=uE(o.node,o.offset);if(c&&c!=3){let u=zb(o.node,o.offset,c==1?1:-1);u&&(o=new Wn(u,c==1?0:u.nodeValue.length))}}a.collapse(o.node,o.offset),r.bidiLevel!=null&&l.cursorBidiLevel!=null&&(l.cursorBidiLevel=r.bidiLevel)}else if(a.extend)a.collapse(o.node,o.offset),a.extend(s.node,s.offset);else{let c=document.createRange();r.anchor>r.head&&([o,s]=[s,o]),c.setEnd(s.node,s.offset),c.setStart(o.node,o.offset),a.removeAllRanges(),a.addRange(c)}}),this.view.observer.setSelectionRange(o,s)),this.impreciseAnchor=o.precise?null:new Wn(l.anchorNode,l.anchorOffset),this.impreciseHead=s.precise?null:new Wn(l.focusNode,l.focusOffset)}enforceCursorAssoc(){if(this.compositionDeco.size)return;let e=this.view.state.selection.main,t=Ha(this.view.root);if(!t||!e.empty||!e.assoc||!t.modify)return;let i=Xn.find(this,e.head);if(!i)return;let r=i.posAtStart;if(e.head==r||e.head==r+i.length)return;let o=this.coordsAt(e.head,-1),s=this.coordsAt(e.head,1);if(!o||!s||o.bottom>s.top)return;let l=this.domAtPos(e.head+e.assoc);t.collapse(l.node,l.offset),t.modify("move",e.assoc<0?"forward":"backward","lineboundary")}mayControlSelection(){let e=this.view.root.activeElement;return e==this.dom||ga(this.dom,this.view.observer.selectionRange)&&!(e&&this.dom.contains(e))}nearest(e){for(let t=e;t;){let i=en.get(t);if(i&&i.rootView==this)return i;t=t.parentNode}return null}posFromDOM(e,t){let i=this.nearest(e);if(!i)throw new RangeError("Trying to find position for a DOM position outside of the document");return i.localPosFromDOM(e,t)+i.posAtStart}domAtPos(e){let{i:t,off:i}=this.childCursor().findPos(e,-1);for(;t<this.children.length-1;){let r=this.children[t];if(i<r.length||r instanceof Xn)break;t++,i=0}return this.children[t].domAtPos(i)}coordsAt(e,t){for(let i=this.length,r=this.children.length-1;;r--){let o=this.children[r],s=i-o.breakAfter-o.length;if(e>s||e==s&&o.type!=Qt.WidgetBefore&&o.type!=Qt.WidgetAfter&&(!r||t==2||this.children[r-1].breakAfter||this.children[r-1].type==Qt.WidgetBefore&&t>-2))return o.coordsAt(e-s,t);i=s}}measureVisibleLineHeights(e){let t=[],{from:i,to:r}=e,o=this.view.contentDOM.clientWidth,s=o>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,l=-1,a=this.view.textDirection==cn.LTR;for(let c=0,u=0;u<this.children.length;u++){let f=this.children[u],h=c+f.length;if(h>r)break;if(c>=i){let d=f.dom.getBoundingClientRect();if(t.push(d.height),s){let m=f.dom.lastChild,g=m?il(m):[];if(g.length){let y=g[g.length-1],p=a?y.right-d.left:d.right-y.left;p>l&&(l=p,this.minWidth=o,this.minWidthFrom=c,this.minWidthTo=h)}}}c=h+f.breakAfter}return t}textDirectionAt(e){let{i:t}=this.childPos(e,1);return getComputedStyle(this.children[t].dom).direction=="rtl"?cn.RTL:cn.LTR}measureTextSize(){for(let r of this.children)if(r instanceof Xn){let o=r.measureTextSize();if(o)return o}let e=document.createElement("div"),t,i;return e.className="cm-line",e.style.width="99999px",e.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(e);let r=il(e.firstChild)[0];t=e.getBoundingClientRect().height,i=r?r.width/27:7,e.remove()}),{lineHeight:t,charWidth:i}}childCursor(e=this.length){let t=this.children.length;return t&&(e-=this.children[--t].length),new gb(this.children,e,t)}computeBlockGapDeco(){let e=[],t=this.view.viewState;for(let i=0,r=0;;r++){let o=r==t.viewports.length?null:t.viewports[r],s=o?o.from-1:this.length;if(s>i){let l=t.lineBlockAt(s).bottom-t.lineBlockAt(i).top;e.push(ct.replace({widget:new Kp(l),block:!0,inclusive:!0,isBlockGap:!0}).range(i,s))}if(!o)break;i=o.to+1}return ct.set(e)}updateDeco(){let e=this.view.state.facet(ol).map((t,i)=>(this.dynamicDecorationMap[i]=typeof t=="function")?t(this.view):t);for(let t=e.length;t<e.length+3;t++)this.dynamicDecorationMap[t]=!1;return this.decorations=[...e,this.compositionDeco,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco]}scrollIntoView(e){let{range:t}=e,i=this.coordsAt(t.head,t.empty?t.assoc:t.head>t.anchor?-1:1),r;if(!i)return;!t.empty&&(r=this.coordsAt(t.anchor,t.anchor>t.head?-1:1))&&(i={left:Math.min(i.left,r.left),top:Math.min(i.top,r.top),right:Math.max(i.right,r.right),bottom:Math.max(i.bottom,r.bottom)});let o=0,s=0,l=0,a=0;for(let u of this.view.state.facet(jb).map(f=>f(this.view)))if(u){let{left:f,right:h,top:d,bottom:m}=u;f!=null&&(o=Math.max(o,f)),h!=null&&(s=Math.max(s,h)),d!=null&&(l=Math.max(l,d)),m!=null&&(a=Math.max(a,m))}let c={left:i.left-o,top:i.top-l,right:i.right+s,bottom:i.bottom+a};KO(this.view.scrollDOM,c,t.head<t.anchor?-1:1,e.x,e.y,e.xMargin,e.yMargin,this.view.textDirection==cn.LTR)}}function lE(n){return n.node.nodeType==1&&n.node.firstChild&&(n.offset==0||n.node.childNodes[n.offset-1].contentEditable=="false")&&(n.offset==n.node.childNodes.length||n.node.childNodes[n.offset].contentEditable=="false")}class Kp extends Ur{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get estimatedHeight(){return this.height}}function Hb(n){let e=n.observer.selectionRange,t=e.focusNode&&zb(e.focusNode,e.focusOffset,0);if(!t)return null;let i=n.docView.nearest(t);if(!i)return null;if(i instanceof Xn){let r=t;for(;r.parentNode!=i.dom;)r=r.parentNode;let o=r.previousSibling;for(;o&&!en.get(o);)o=o.previousSibling;let s=o?en.get(o).posAtEnd:i.posAtStart;return{from:s,to:s,node:r,text:t}}else{for(;;){let{parent:o}=i;if(!o)return null;if(o instanceof Xn)break;i=o}let r=i.posAtStart;return{from:r,to:r+i.length,node:i.dom,text:t}}}function aE(n,e){let t=Hb(n);if(!t)return ct.none;let{from:i,to:r,node:o,text:s}=t,l=e.mapPos(i,1),a=Math.max(l,e.mapPos(r,-1)),{state:c}=n,u=o.nodeType==3?o.nodeValue:new Vb([],c).readRange(o.firstChild,null).text;if(a-l<u.length)if(c.doc.sliceString(l,Math.min(c.doc.length,l+u.length),Mr)==u)a=l+u.length;else if(c.doc.sliceString(Math.max(0,a-u.length),a,Mr)==u)l=a-u.length;else return ct.none;else if(c.doc.sliceString(l,a,Mr)!=u)return ct.none;let f=en.get(o);return f instanceof _b?f=f.widget.topView:f&&(f.parent=null),ct.set(ct.replace({widget:new cE(o,s,f),inclusive:!0}).range(l,a))}class cE extends Ur{constructor(e,t,i){super(),this.top=e,this.text=t,this.topView=i}eq(e){return this.top==e.top&&this.text==e.text}toDOM(){return this.top}ignoreEvent(){return!1}get customView(){return _b}}function zb(n,e,t){for(;;){if(n.nodeType==3)return n;if(n.nodeType==1&&e>0&&t<=0)n=n.childNodes[e-1],e=rl(n);else if(n.nodeType==1&&e<n.childNodes.length&&t>=0)n=n.childNodes[e],e=0;else return null}}function uE(n,e){return n.nodeType!=1?0:(e&&n.childNodes[e-1].contentEditable=="false"?1:0)|(e<n.childNodes.length&&n.childNodes[e].contentEditable=="false"?2:0)}class fE{constructor(){this.changes=[]}compareRange(e,t){Zf(e,t,this.changes)}comparePoint(e,t){Zf(e,t,this.changes)}}function hE(n,e,t){let i=new fE;return zt.compare(n,e,t,i),i.changes}function dE(n,e){for(let t=n;t&&t!=e;t=t.assignedSlot||t.parentNode)if(t.nodeType==1&&t.contentEditable=="false")return!0;return!1}function mE(n,e,t=1){let i=n.charCategorizer(e),r=n.doc.lineAt(e),o=e-r.from;if(r.length==0)return Se.cursor(e);o==0?t=1:o==r.length&&(t=-1);let s=o,l=o;t<0?s=Qn(r.text,o,!1):l=Qn(r.text,o);let a=i(r.text.slice(s,l));for(;s>0;){let c=Qn(r.text,s,!1);if(i(r.text.slice(c,s))!=a)break;s=c}for(;l<r.length;){let c=Qn(r.text,l);if(i(r.text.slice(l,c))!=a)break;l=c}return Se.range(s+r.from,l+r.from)}function pE(n,e){return e.left>n?e.left-n:Math.max(0,n-e.right)}function gE(n,e){return e.top>n?e.top-n:Math.max(0,n-e.bottom)}function Eu(n,e){return n.top<e.bottom-1&&n.bottom>e.top+1}function Jp(n,e){return e<n.top?{top:e,left:n.left,right:n.right,bottom:n.bottom}:n}function Gp(n,e){return e>n.bottom?{top:n.top,left:n.left,right:n.right,bottom:e}:n}function nh(n,e,t){let i,r,o,s,l=!1,a,c,u,f;for(let m=n.firstChild;m;m=m.nextSibling){let g=il(m);for(let y=0;y<g.length;y++){let p=g[y];r&&Eu(r,p)&&(p=Jp(Gp(p,r.bottom),r.top));let v=pE(e,p),k=gE(t,p);if(v==0&&k==0)return m.nodeType==3?Qp(m,e,t):nh(m,e,t);(!i||s>k||s==k&&o>v)&&(i=m,r=p,o=v,s=k,l=!v||(v>0?y<g.length-1:y>0)),v==0?t>p.bottom&&(!u||u.bottom<p.bottom)?(a=m,u=p):t<p.top&&(!f||f.top>p.top)&&(c=m,f=p):u&&Eu(u,p)?u=Gp(u,p.bottom):f&&Eu(f,p)&&(f=Jp(f,p.top))}}if(u&&u.bottom>=t?(i=a,r=u):f&&f.top<=t&&(i=c,r=f),!i)return{node:n,offset:0};let h=Math.max(r.left,Math.min(r.right,e));if(i.nodeType==3)return Qp(i,h,t);if(l&&i.contentEditable!="false")return nh(i,h,t);let d=Array.prototype.indexOf.call(n.childNodes,i)+(e>=(r.left+r.right)/2?1:0);return{node:n,offset:d}}function Qp(n,e,t){let i=n.nodeValue.length,r=-1,o=1e9,s=0;for(let l=0;l<i;l++){let a=Zo(n,l,l+1).getClientRects();for(let c=0;c<a.length;c++){let u=a[c];if(u.top==u.bottom)continue;s||(s=e-u.left);let f=(u.top>t?u.top-t:t-u.bottom)-1;if(u.left-1<=e&&u.right+1>=e&&f<o){let h=e>=(u.left+u.right)/2,d=h;if((Ze.chrome||Ze.gecko)&&Zo(n,l).getBoundingClientRect().left==u.right&&(d=!h),f<=0)return{node:n,offset:l+(d?1:0)};r=l+(d?1:0),o=f}}}return{node:n,offset:r>-1?r:s>0?n.nodeValue.length:0}}function qb(n,{x:e,y:t},i,r=-1){var o;let s=n.contentDOM.getBoundingClientRect(),l=s.top+n.viewState.paddingTop,a,{docHeight:c}=n.viewState,u=t-l;if(u<0)return 0;if(u>c)return n.state.doc.length;for(let p=n.defaultLineHeight/2,v=!1;a=n.elementAtHeight(u),a.type!=Qt.Text;)for(;u=r>0?a.bottom+p:a.top-p,!(u>=0&&u<=c);){if(v)return i?null:0;v=!0,r=-r}t=l+u;let f=a.from;if(f<n.viewport.from)return n.viewport.from==0?0:i?null:Xp(n,s,a,e,t);if(f>n.viewport.to)return n.viewport.to==n.state.doc.length?n.state.doc.length:i?null:Xp(n,s,a,e,t);let h=n.dom.ownerDocument,d=n.root.elementFromPoint?n.root:h,m=d.elementFromPoint(e,t);m&&!n.contentDOM.contains(m)&&(m=null),m||(e=Math.max(s.left+1,Math.min(s.right-1,e)),m=d.elementFromPoint(e,t),m&&!n.contentDOM.contains(m)&&(m=null));let g,y=-1;if(m&&((o=n.docView.nearest(m))===null||o===void 0?void 0:o.isEditable)!=!1){if(h.caretPositionFromPoint){let p=h.caretPositionFromPoint(e,t);p&&({offsetNode:g,offset:y}=p)}else if(h.caretRangeFromPoint){let p=h.caretRangeFromPoint(e,t);p&&({startContainer:g,startOffset:y}=p,(!n.contentDOM.contains(g)||Ze.safari&&yE(g,y,e)||Ze.chrome&&vE(g,y,e))&&(g=void 0))}}if(!g||!n.docView.dom.contains(g)){let p=Xn.find(n.docView,f);if(!p)return u>a.top+a.height/2?a.to:a.from;({node:g,offset:y}=nh(p.dom,e,t))}return n.docView.posFromDOM(g,y)}function Xp(n,e,t,i,r){let o=Math.round((i-e.left)*n.defaultCharacterWidth);n.lineWrapping&&t.height>n.defaultLineHeight*1.5&&(o+=Math.floor((r-t.top)/n.defaultLineHeight)*n.viewState.heightOracle.lineLength);let s=n.state.sliceDoc(t.from,t.to);return t.from+zf(s,o,n.state.tabSize)}function yE(n,e,t){let i;if(n.nodeType!=3||e!=(i=n.nodeValue.length))return!1;for(let r=n.nextSibling;r;r=r.nextSibling)if(r.nodeType!=1||r.nodeName!="BR")return!1;return Zo(n,i-1,i).getBoundingClientRect().left>t}function vE(n,e,t){if(e!=0)return!1;for(let r=n;;){let o=r.parentNode;if(!o||o.nodeType!=1||o.firstChild!=r)return!1;if(o.classList.contains("cm-line"))break;r=o}let i=n.nodeType==1?n.getBoundingClientRect():Zo(n,0,Math.max(n.nodeValue.length,1)).getBoundingClientRect();return t-i.left>5}function bE(n,e,t,i){let r=n.state.doc.lineAt(e.head),o=!i||!n.lineWrapping?null:n.coordsAtPos(e.assoc<0&&e.head>r.from?e.head-1:e.head);if(o){let a=n.dom.getBoundingClientRect(),c=n.textDirectionAt(r.from),u=n.posAtCoords({x:t==(c==cn.LTR)?a.right-1:a.left+1,y:(o.top+o.bottom)/2});if(u!=null)return Se.cursor(u,t?-1:1)}let s=Xn.find(n.docView,e.head),l=s?t?s.posAtEnd:s.posAtStart:t?r.to:r.from;return Se.cursor(l,t?-1:1)}function Yp(n,e,t,i){let r=n.state.doc.lineAt(e.head),o=n.bidiSpans(r),s=n.textDirectionAt(r.from);for(let l=e,a=null;;){let c=sE(r,o,s,l,t),u=Fb;if(!c){if(r.number==(t?n.state.doc.lines:1))return l;u=`
`,r=n.state.doc.line(r.number+(t?1:-1)),o=n.bidiSpans(r),c=Se.cursor(t?r.from:r.to)}if(a){if(!a(u))return l}else{if(!i)return c;a=i(u)}l=c}}function wE(n,e,t){let i=n.state.charCategorizer(e),r=i(t);return o=>{let s=i(o);return r==an.Space&&(r=s),r==s}}function _E(n,e,t,i){let r=e.head,o=t?1:-1;if(r==(t?n.state.doc.length:0))return Se.cursor(r,e.assoc);let s=e.goalColumn,l,a=n.contentDOM.getBoundingClientRect(),c=n.coordsAtPos(r),u=n.documentTop;if(c)s==null&&(s=c.left-a.left),l=o<0?c.top:c.bottom;else{let d=n.viewState.lineBlockAt(r);s==null&&(s=Math.min(a.right-a.left,n.defaultCharacterWidth*(r-d.from))),l=(o<0?d.top:d.bottom)+u}let f=a.left+s,h=i!=null?i:n.defaultLineHeight>>1;for(let d=0;;d+=10){let m=l+(h+d)*o,g=qb(n,{x:f,y:m},!1,o);if(m<a.top||m>a.bottom||(o<0?g<r:g>r))return Se.cursor(g,e.assoc,void 0,s)}}function Tu(n,e,t){let i=n.state.facet(Rb).map(r=>r(n));for(;;){let r=!1;for(let o of i)o.between(t.from-1,t.from+1,(s,l,a)=>{t.from>s&&t.from<l&&(t=e.from>t.from?Se.cursor(s,1):Se.cursor(l,-1),r=!0)});if(!r)return t}}class kE{constructor(e){this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.chromeScrollHack=-1,this.pendingIOSKey=void 0,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastEscPress=0,this.lastContextMenu=0,this.scrollHandlers=[],this.registeredEvents=[],this.customHandlers=[],this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.rapidCompositionStart=!1,this.mouseSelection=null;for(let t in In){let i=In[t];e.contentDOM.addEventListener(t,r=>{!Zp(e,r)||this.ignoreDuringComposition(r)||t=="keydown"&&this.keydown(e,r)||(this.mustFlushObserver(r)&&e.observer.forceFlush(),this.runCustomHandlers(t,e,r)?r.preventDefault():i(e,r))},ih[t]),this.registeredEvents.push(t)}Ze.chrome&&Ze.chrome_version==102&&e.scrollDOM.addEventListener("wheel",()=>{this.chromeScrollHack<0?e.contentDOM.style.pointerEvents="none":window.clearTimeout(this.chromeScrollHack),this.chromeScrollHack=setTimeout(()=>{this.chromeScrollHack=-1,e.contentDOM.style.pointerEvents=""},100)},{passive:!0}),this.notifiedFocused=e.hasFocus,Ze.safari&&e.contentDOM.addEventListener("input",()=>null)}setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}ensureHandlers(e,t){var i;let r;this.customHandlers=[];for(let o of t)if(r=(i=o.update(e).spec)===null||i===void 0?void 0:i.domEventHandlers){this.customHandlers.push({plugin:o.value,handlers:r});for(let s in r)this.registeredEvents.indexOf(s)<0&&s!="scroll"&&(this.registeredEvents.push(s),e.contentDOM.addEventListener(s,l=>{!Zp(e,l)||this.runCustomHandlers(s,e,l)&&l.preventDefault()}))}}runCustomHandlers(e,t,i){for(let r of this.customHandlers){let o=r.handlers[e];if(o)try{if(o.call(r.plugin,i,t)||i.defaultPrevented)return!0}catch(s){pi(t.state,s)}}return!1}runScrollHandlers(e,t){this.lastScrollTop=e.scrollDOM.scrollTop,this.lastScrollLeft=e.scrollDOM.scrollLeft;for(let i of this.customHandlers){let r=i.handlers.scroll;if(r)try{r.call(i.plugin,t,e)}catch(o){pi(e.state,o)}}}keydown(e,t){if(this.lastKeyCode=t.keyCode,this.lastKeyTime=Date.now(),t.keyCode==9&&Date.now()<this.lastEscPress+2e3)return!0;if(Ze.android&&Ze.chrome&&!t.synthetic&&(t.keyCode==13||t.keyCode==8))return e.observer.delayAndroidKey(t.key,t.keyCode),!0;let i;return Ze.ios&&!t.synthetic&&!t.altKey&&!t.metaKey&&((i=Wb.find(r=>r.keyCode==t.keyCode))&&!t.ctrlKey||SE.indexOf(t.key)>-1&&t.ctrlKey&&!t.shiftKey)?(this.pendingIOSKey=i||t,setTimeout(()=>this.flushIOSKey(e),250),!0):!1}flushIOSKey(e){let t=this.pendingIOSKey;return t?(this.pendingIOSKey=void 0,Fs(e.contentDOM,t.key,t.keyCode)):!1}ignoreDuringComposition(e){return/^key/.test(e.type)?this.composing>0?!0:Ze.safari&&!Ze.ios&&Date.now()-this.compositionEndedAt<100?(this.compositionEndedAt=0,!0):!1:!1}mustFlushObserver(e){return e.type=="keydown"&&e.keyCode!=229||e.type=="compositionend"&&!Ze.ios}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.mouseSelection&&this.mouseSelection.update(e),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}const Wb=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],SE="dthko",Ub=[16,17,18,20,91,92,224,225];class CE{constructor(e,t,i,r){this.view=e,this.style=i,this.mustSelect=r,this.lastEvent=t;let o=e.contentDOM.ownerDocument;o.addEventListener("mousemove",this.move=this.move.bind(this)),o.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=t.shiftKey,this.multiple=e.state.facet(Ot.allowMultipleSelections)&&xE(e,t),this.dragMove=OE(e,t),this.dragging=EE(e,t)&&hd(t)==1?null:!1,this.dragging===!1&&(t.preventDefault(),this.select(t))}move(e){if(e.buttons==0)return this.destroy();this.dragging===!1&&this.select(this.lastEvent=e)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=null}select(e){let t=this.style.get(e,this.extend,this.multiple);(this.mustSelect||!t.eq(this.view.state.selection)||t.main.assoc!=this.view.state.selection.main.assoc)&&this.view.dispatch({selection:t,userEvent:"select.pointer",scrollIntoView:!0}),this.mustSelect=!1}update(e){e.docChanged&&this.dragging&&(this.dragging=this.dragging.map(e.changes)),this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function xE(n,e){let t=n.state.facet(Eb);return t.length?t[0](e):Ze.mac?e.metaKey:e.ctrlKey}function OE(n,e){let t=n.state.facet(Tb);return t.length?t[0](e):Ze.mac?!e.altKey:!e.ctrlKey}function EE(n,e){let{main:t}=n.state.selection;if(t.empty)return!1;let i=Ha(n.root);if(!i||i.rangeCount==0)return!0;let r=i.getRangeAt(0).getClientRects();for(let o=0;o<r.length;o++){let s=r[o];if(s.left<=e.clientX&&s.right>=e.clientX&&s.top<=e.clientY&&s.bottom>=e.clientY)return!0}return!1}function Zp(n,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target,i;t!=n.contentDOM;t=t.parentNode)if(!t||t.nodeType==11||(i=en.get(t))&&i.ignoreEvent(e))return!1;return!0}const In=Object.create(null),ih=Object.create(null),Kb=Ze.ie&&Ze.ie_version<15||Ze.ios&&Ze.webkit_version<604;function TE(n){let e=n.dom.parentNode;if(!e)return;let t=e.appendChild(document.createElement("textarea"));t.style.cssText="position: fixed; left: -10000px; top: 10px",t.focus(),setTimeout(()=>{n.focus(),t.remove(),Jb(n,t.value)},50)}function Jb(n,e){let{state:t}=n,i,r=1,o=t.toText(e),s=o.lines==t.selection.ranges.length;if(rh!=null&&t.selection.ranges.every(a=>a.empty)&&rh==o.toString()){let a=-1;i=t.changeByRange(c=>{let u=t.doc.lineAt(c.from);if(u.from==a)return{range:c};a=u.from;let f=t.toText((s?o.line(r++).text:e)+t.lineBreak);return{changes:{from:u.from,insert:f},range:Se.cursor(c.from+f.length)}})}else s?i=t.changeByRange(a=>{let c=o.line(r++);return{changes:{from:a.from,to:a.to,insert:c.text},range:Se.cursor(a.from+c.length)}}):i=t.replaceSelection(o);n.dispatch(i,{userEvent:"input.paste",scrollIntoView:!0})}In.keydown=(n,e)=>{n.inputState.setSelectionOrigin("select"),e.keyCode==27?n.inputState.lastEscPress=Date.now():Ub.indexOf(e.keyCode)<0&&(n.inputState.lastEscPress=0)};In.touchstart=(n,e)=>{n.inputState.lastTouchTime=Date.now(),n.inputState.setSelectionOrigin("select.pointer")};In.touchmove=n=>{n.inputState.setSelectionOrigin("select.pointer")};ih.touchstart=ih.touchmove={passive:!0};In.mousedown=(n,e)=>{if(n.observer.flush(),n.inputState.lastTouchTime>Date.now()-2e3&&hd(e)==1)return;let t=null;for(let i of n.state.facet(Mb))if(t=i(n,e),t)break;if(!t&&e.button==0&&(t=PE(n,e)),t){let i=n.root.activeElement!=n.contentDOM;i&&n.observer.ignore(()=>mb(n.contentDOM)),n.inputState.startMouseSelection(new CE(n,e,t,i))}};function $p(n,e,t,i){if(i==1)return Se.cursor(e,t);if(i==2)return mE(n.state,e,t);{let r=Xn.find(n.docView,e),o=n.state.doc.lineAt(r?r.posAtEnd:e),s=r?r.posAtStart:o.from,l=r?r.posAtEnd:o.to;return l<n.state.doc.length&&l==o.to&&l++,Se.range(s,l)}}let Gb=(n,e)=>n>=e.top&&n<=e.bottom,eg=(n,e,t)=>Gb(e,t)&&n>=t.left&&n<=t.right;function ME(n,e,t,i){let r=Xn.find(n.docView,e);if(!r)return 1;let o=e-r.posAtStart;if(o==0)return 1;if(o==r.length)return-1;let s=r.coordsAt(o,-1);if(s&&eg(t,i,s))return-1;let l=r.coordsAt(o,1);return l&&eg(t,i,l)?1:s&&Gb(i,s)?-1:1}function tg(n,e){let t=n.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:t,bias:ME(n,t,e.clientX,e.clientY)}}const AE=Ze.ie&&Ze.ie_version<=11;let ng=null,ig=0,rg=0;function hd(n){if(!AE)return n.detail;let e=ng,t=rg;return ng=n,rg=Date.now(),ig=!e||t>Date.now()-400&&Math.abs(e.clientX-n.clientX)<2&&Math.abs(e.clientY-n.clientY)<2?(ig+1)%3:1}function PE(n,e){let t=tg(n,e),i=hd(e),r=n.state.selection,o=t,s=e;return{update(l){l.docChanged&&(t&&(t.pos=l.changes.mapPos(t.pos)),r=r.map(l.changes),s=null)},get(l,a,c){let u;if(s&&l.clientX==s.clientX&&l.clientY==s.clientY?u=o:(u=o=tg(n,l),s=l),!u||!t)return r;let f=$p(n,u.pos,u.bias,i);if(t.pos!=u.pos&&!a){let h=$p(n,t.pos,t.bias,i),d=Math.min(h.from,f.from),m=Math.max(h.to,f.to);f=d<f.from?Se.range(d,m):Se.range(m,d)}return a?r.replaceRange(r.main.extend(f.from,f.to)):c&&r.ranges.length>1&&r.ranges.some(h=>h.eq(f))?IE(r,f):c?r.addRange(f):Se.create([f])}}}function IE(n,e){for(let t=0;;t++)if(n.ranges[t].eq(e))return Se.create(n.ranges.slice(0,t).concat(n.ranges.slice(t+1)),n.mainIndex==t?0:n.mainIndex-(n.mainIndex>t?1:0))}In.dragstart=(n,e)=>{let{selection:{main:t}}=n.state,{mouseSelection:i}=n.inputState;i&&(i.dragging=t),e.dataTransfer&&(e.dataTransfer.setData("Text",n.state.sliceDoc(t.from,t.to)),e.dataTransfer.effectAllowed="copyMove")};function og(n,e,t,i){if(!t)return;let r=n.posAtCoords({x:e.clientX,y:e.clientY},!1);e.preventDefault();let{mouseSelection:o}=n.inputState,s=i&&o&&o.dragging&&o.dragMove?{from:o.dragging.from,to:o.dragging.to}:null,l={from:r,insert:t},a=n.state.changes(s?[s,l]:l);n.focus(),n.dispatch({changes:a,selection:{anchor:a.mapPos(r,-1),head:a.mapPos(r,1)},userEvent:s?"move.drop":"input.drop"})}In.drop=(n,e)=>{if(!e.dataTransfer)return;if(n.state.readOnly)return e.preventDefault();let t=e.dataTransfer.files;if(t&&t.length){e.preventDefault();let i=Array(t.length),r=0,o=()=>{++r==t.length&&og(n,e,i.filter(s=>s!=null).join(n.state.lineBreak),!1)};for(let s=0;s<t.length;s++){let l=new FileReader;l.onerror=o,l.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(l.result)||(i[s]=l.result),o()},l.readAsText(t[s])}}else og(n,e,e.dataTransfer.getData("Text"),!0)};In.paste=(n,e)=>{if(n.state.readOnly)return e.preventDefault();n.observer.flush();let t=Kb?null:e.clipboardData;t?(Jb(n,t.getData("text/plain")),e.preventDefault()):TE(n)};function NE(n,e){let t=n.dom.parentNode;if(!t)return;let i=t.appendChild(document.createElement("textarea"));i.style.cssText="position: fixed; left: -10000px; top: 10px",i.value=e,i.focus(),i.selectionEnd=e.length,i.selectionStart=0,setTimeout(()=>{i.remove(),n.focus()},50)}function DE(n){let e=[],t=[],i=!1;for(let r of n.selection.ranges)r.empty||(e.push(n.sliceDoc(r.from,r.to)),t.push(r));if(!e.length){let r=-1;for(let{from:o}of n.selection.ranges){let s=n.doc.lineAt(o);s.number>r&&(e.push(s.text),t.push({from:s.from,to:Math.min(n.doc.length,s.to+1)})),r=s.number}i=!0}return{text:e.join(n.lineBreak),ranges:t,linewise:i}}let rh=null;In.copy=In.cut=(n,e)=>{let{text:t,ranges:i,linewise:r}=DE(n.state);if(!t&&!r)return;rh=r?t:null;let o=Kb?null:e.clipboardData;o?(e.preventDefault(),o.clearData(),o.setData("text/plain",t)):NE(n,t),e.type=="cut"&&!n.state.readOnly&&n.dispatch({changes:i,scrollIntoView:!0,userEvent:"delete.cut"})};function Qb(n){setTimeout(()=>{n.hasFocus!=n.inputState.notifiedFocused&&n.update([])},10)}In.focus=n=>{n.inputState.lastFocusTime=Date.now(),!n.scrollDOM.scrollTop&&(n.inputState.lastScrollTop||n.inputState.lastScrollLeft)&&(n.scrollDOM.scrollTop=n.inputState.lastScrollTop,n.scrollDOM.scrollLeft=n.inputState.lastScrollLeft),Qb(n)};In.blur=n=>{n.observer.clearSelectionRange(),Qb(n)};function Xb(n,e){if(n.docView.compositionDeco.size){n.inputState.rapidCompositionStart=e;try{n.update([])}finally{n.inputState.rapidCompositionStart=!1}}}In.compositionstart=In.compositionupdate=n=>{n.inputState.compositionFirstChange==null&&(n.inputState.compositionFirstChange=!0),n.inputState.composing<0&&(n.inputState.composing=0,n.docView.compositionDeco.size&&(n.observer.flush(),Xb(n,!0)))};In.compositionend=n=>{n.inputState.composing=-1,n.inputState.compositionEndedAt=Date.now(),n.inputState.compositionFirstChange=null,setTimeout(()=>{n.inputState.composing<0&&Xb(n,!1)},50)};In.contextmenu=n=>{n.inputState.lastContextMenu=Date.now()};In.beforeinput=(n,e)=>{var t;let i;if(Ze.chrome&&Ze.android&&(i=Wb.find(r=>r.inputType==e.inputType))&&(n.observer.delayAndroidKey(i.key,i.keyCode),i.key=="Backspace"||i.key=="Delete")){let r=((t=window.visualViewport)===null||t===void 0?void 0:t.height)||0;setTimeout(()=>{var o;(((o=window.visualViewport)===null||o===void 0?void 0:o.height)||0)>r+10&&n.hasFocus&&(n.contentDOM.blur(),n.focus())},100)}};const sg=["pre-wrap","normal","pre-line","break-spaces"];class RE{constructor(){this.doc=Ut.empty,this.lineWrapping=!1,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.lineLength=30,this.heightChanged=!1}heightForGap(e,t){let i=this.doc.lineAt(t).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(i+=Math.ceil((t-e-i*this.lineLength*.5)/this.lineLength)),this.lineHeight*i}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return sg.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let t=!1;for(let i=0;i<e.length;i++){let r=e[i];r<0?i++:this.heightSamples[Math.floor(r*10)]||(t=!0,this.heightSamples[Math.floor(r*10)]=!0)}return t}refresh(e,t,i,r,o){let s=sg.indexOf(e)>-1,l=Math.round(t)!=Math.round(this.lineHeight)||this.lineWrapping!=s;if(this.lineWrapping=s,this.lineHeight=t,this.charWidth=i,this.lineLength=r,l){this.heightSamples={};for(let a=0;a<o.length;a++){let c=o[a];c<0?a++:this.heightSamples[Math.floor(c*10)]=!0}}return l}}class jE{constructor(e,t){this.from=e,this.heights=t,this.index=0}get more(){return this.index<this.heights.length}}class Ar{constructor(e,t,i,r,o){this.from=e,this.length=t,this.top=i,this.height=r,this.type=o}get to(){return this.from+this.length}get bottom(){return this.top+this.height}join(e){let t=(Array.isArray(this.type)?this.type:[this]).concat(Array.isArray(e.type)?e.type:[e]);return new Ar(this.from,this.length+e.length,this.top,this.height+e.height,t)}}var Yt=function(n){return n[n.ByPos=0]="ByPos",n[n.ByHeight=1]="ByHeight",n[n.ByPosNoHeight=2]="ByPosNoHeight",n}(Yt||(Yt={}));const ya=.001;class oi{constructor(e,t,i=2){this.length=e,this.height=t,this.flags=i}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e,t){this.height!=t&&(Math.abs(this.height-t)>ya&&(e.heightChanged=!0),this.height=t)}replace(e,t,i){return oi.of(i)}decomposeLeft(e,t){t.push(this)}decomposeRight(e,t){t.push(this)}applyChanges(e,t,i,r){let o=this;for(let s=r.length-1;s>=0;s--){let{fromA:l,toA:a,fromB:c,toB:u}=r[s],f=o.lineAt(l,Yt.ByPosNoHeight,t,0,0),h=f.to>=a?f:o.lineAt(a,Yt.ByPosNoHeight,t,0,0);for(u+=h.to-a,a=h.to;s>0&&f.from<=r[s-1].toA;)l=r[s-1].fromA,c=r[s-1].fromB,s--,l<f.from&&(f=o.lineAt(l,Yt.ByPosNoHeight,t,0,0));c+=f.from-l,l=f.from;let d=dd.build(i,e,c,u);o=o.replace(l,a,d)}return o.updateHeight(i,0)}static empty(){return new fi(0,0)}static of(e){if(e.length==1)return e[0];let t=0,i=e.length,r=0,o=0;for(;;)if(t==i)if(r>o*2){let l=e[t-1];l.break?e.splice(--t,1,l.left,null,l.right):e.splice(--t,1,l.left,l.right),i+=1+l.break,r-=l.size}else if(o>r*2){let l=e[i];l.break?e.splice(i,1,l.left,null,l.right):e.splice(i,1,l.left,l.right),i+=2+l.break,o-=l.size}else break;else if(r<o){let l=e[t++];l&&(r+=l.size)}else{let l=e[--i];l&&(o+=l.size)}let s=0;return e[t-1]==null?(s=1,t--):e[t]==null&&(s=1,i++),new LE(oi.of(e.slice(0,t)),s,oi.of(e.slice(i)))}}oi.prototype.size=1;class Yb extends oi{constructor(e,t,i){super(e,t),this.type=i}blockAt(e,t,i,r){return new Ar(r,this.length,i,this.height,this.type)}lineAt(e,t,i,r,o){return this.blockAt(0,i,r,o)}forEachLine(e,t,i,r,o,s){e<=o+this.length&&t>=o&&s(this.blockAt(0,i,r,o))}updateHeight(e,t=0,i=!1,r){return r&&r.from<=t&&r.more&&this.setHeight(e,r.heights[r.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class fi extends Yb{constructor(e,t){super(e,t,Qt.Text),this.collapsed=0,this.widgetHeight=0}replace(e,t,i){let r=i[0];return i.length==1&&(r instanceof fi||r instanceof Dn&&r.flags&4)&&Math.abs(this.length-r.length)<10?(r instanceof Dn?r=new fi(r.length,this.height):r.height=this.height,this.outdated||(r.outdated=!1),r):oi.of(i)}updateHeight(e,t=0,i=!1,r){return r&&r.from<=t&&r.more?this.setHeight(e,r.heights[r.index++]):(i||this.outdated)&&this.setHeight(e,Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class Dn extends oi{constructor(e){super(e,0)}lines(e,t){let i=e.lineAt(t).number,r=e.lineAt(t+this.length).number;return{firstLine:i,lastLine:r,lineHeight:this.height/(r-i+1)}}blockAt(e,t,i,r){let{firstLine:o,lastLine:s,lineHeight:l}=this.lines(t,r),a=Math.max(0,Math.min(s-o,Math.floor((e-i)/l))),{from:c,length:u}=t.line(o+a);return new Ar(c,u,i+l*a,l,Qt.Text)}lineAt(e,t,i,r,o){if(t==Yt.ByHeight)return this.blockAt(e,i,r,o);if(t==Yt.ByPosNoHeight){let{from:f,to:h}=i.lineAt(e);return new Ar(f,h-f,0,0,Qt.Text)}let{firstLine:s,lineHeight:l}=this.lines(i,o),{from:a,length:c,number:u}=i.lineAt(e);return new Ar(a,c,r+l*(u-s),l,Qt.Text)}forEachLine(e,t,i,r,o,s){let{firstLine:l,lineHeight:a}=this.lines(i,o);for(let c=Math.max(e,o),u=Math.min(o+this.length,t);c<=u;){let f=i.lineAt(c);c==e&&(r+=a*(f.number-l)),s(new Ar(f.from,f.length,r,a,Qt.Text)),r+=a,c=f.to+1}}replace(e,t,i){let r=this.length-t;if(r>0){let o=i[i.length-1];o instanceof Dn?i[i.length-1]=new Dn(o.length+r):i.push(null,new Dn(r-1))}if(e>0){let o=i[0];o instanceof Dn?i[0]=new Dn(e+o.length):i.unshift(new Dn(e-1),null)}return oi.of(i)}decomposeLeft(e,t){t.push(new Dn(e-1),null)}decomposeRight(e,t){t.push(null,new Dn(this.length-e-1))}updateHeight(e,t=0,i=!1,r){let o=t+this.length;if(r&&r.from<=t+this.length&&r.more){let s=[],l=Math.max(t,r.from),a=-1,c=e.heightChanged;for(r.from>t&&s.push(new Dn(r.from-t-1).updateHeight(e,t));l<=o&&r.more;){let f=e.doc.lineAt(l).length;s.length&&s.push(null);let h=r.heights[r.index++];a==-1?a=h:Math.abs(h-a)>=ya&&(a=-2);let d=new fi(f,h);d.outdated=!1,s.push(d),l+=f+1}l<=o&&s.push(null,new Dn(o-l).updateHeight(e,l));let u=oi.of(s);return e.heightChanged=c||a<0||Math.abs(u.height-this.height)>=ya||Math.abs(a-this.lines(e.doc,t).lineHeight)>=ya,u}else(i||this.outdated)&&(this.setHeight(e,e.heightForGap(t,t+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class LE extends oi{constructor(e,t,i){super(e.length+t+i.length,e.height+i.height,t|(e.outdated||i.outdated?2:0)),this.left=e,this.right=i,this.size=e.size+i.size}get break(){return this.flags&1}blockAt(e,t,i,r){let o=i+this.left.height;return e<o?this.left.blockAt(e,t,i,r):this.right.blockAt(e,t,o,r+this.left.length+this.break)}lineAt(e,t,i,r,o){let s=r+this.left.height,l=o+this.left.length+this.break,a=t==Yt.ByHeight?e<s:e<l,c=a?this.left.lineAt(e,t,i,r,o):this.right.lineAt(e,t,i,s,l);if(this.break||(a?c.to<l:c.from>l))return c;let u=t==Yt.ByPosNoHeight?Yt.ByPosNoHeight:Yt.ByPos;return a?c.join(this.right.lineAt(l,u,i,s,l)):this.left.lineAt(l,u,i,r,o).join(c)}forEachLine(e,t,i,r,o,s){let l=r+this.left.height,a=o+this.left.length+this.break;if(this.break)e<a&&this.left.forEachLine(e,t,i,r,o,s),t>=a&&this.right.forEachLine(e,t,i,l,a,s);else{let c=this.lineAt(a,Yt.ByPos,i,r,o);e<c.from&&this.left.forEachLine(e,c.from-1,i,r,o,s),c.to>=e&&c.from<=t&&s(c),t>c.to&&this.right.forEachLine(c.to+1,t,i,l,a,s)}}replace(e,t,i){let r=this.left.length+this.break;if(t<r)return this.balanced(this.left.replace(e,t,i),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-r,t-r,i));let o=[];e>0&&this.decomposeLeft(e,o);let s=o.length;for(let l of i)o.push(l);if(e>0&&lg(o,s-1),t<this.length){let l=o.length;this.decomposeRight(t,o),lg(o,l)}return oi.of(o)}decomposeLeft(e,t){let i=this.left.length;if(e<=i)return this.left.decomposeLeft(e,t);t.push(this.left),this.break&&(i++,e>=i&&t.push(null)),e>i&&this.right.decomposeLeft(e-i,t)}decomposeRight(e,t){let i=this.left.length,r=i+this.break;if(e>=r)return this.right.decomposeRight(e-r,t);e<i&&this.left.decomposeRight(e,t),this.break&&e<r&&t.push(null),t.push(this.right)}balanced(e,t){return e.size>2*t.size||t.size>2*e.size?oi.of(this.break?[e,null,t]:[e,t]):(this.left=e,this.right=t,this.height=e.height+t.height,this.outdated=e.outdated||t.outdated,this.size=e.size+t.size,this.length=e.length+this.break+t.length,this)}updateHeight(e,t=0,i=!1,r){let{left:o,right:s}=this,l=t+o.length+this.break,a=null;return r&&r.from<=t+o.length&&r.more?a=o=o.updateHeight(e,t,i,r):o.updateHeight(e,t,i),r&&r.from<=l+s.length&&r.more?a=s=s.updateHeight(e,l,i,r):s.updateHeight(e,l,i),a?this.balanced(o,s):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function lg(n,e){let t,i;n[e]==null&&(t=n[e-1])instanceof Dn&&(i=n[e+1])instanceof Dn&&n.splice(e-1,3,new Dn(t.length+1+i.length))}const BE=5;class dd{constructor(e,t){this.pos=e,this.oracle=t,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,t){if(this.lineStart>-1){let i=Math.min(t,this.lineEnd),r=this.nodes[this.nodes.length-1];r instanceof fi?r.length+=i-this.pos:(i>this.pos||!this.isCovered)&&this.nodes.push(new fi(i-this.pos,-1)),this.writtenTo=i,t>i&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=t}point(e,t,i){if(e<t||i.heightRelevant){let r=i.widget?i.widget.estimatedHeight:0;r<0&&(r=this.oracle.lineHeight);let o=t-e;i.block?this.addBlock(new Yb(o,r,i.type)):(o||r>=BE)&&this.addLineDeco(r,o)}else t>e&&this.span(e,t);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:t}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=t,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new fi(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,t){let i=new Dn(t-e);return this.oracle.doc.lineAt(e).to==t&&(i.flags|=4),i}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof fi)return e;let t=new fi(0,-1);return this.nodes.push(t),t}addBlock(e){this.enterLine(),e.type==Qt.WidgetAfter&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,e.type!=Qt.WidgetBefore&&(this.covering=e)}addLineDeco(e,t){let i=this.ensureLine();i.length+=t,i.collapsed+=t,i.widgetHeight=Math.max(i.widgetHeight,e),this.writtenTo=this.pos=this.pos+t}finish(e){let t=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(t instanceof fi)&&!this.isCovered?this.nodes.push(new fi(0,-1)):(this.writtenTo<this.pos||t==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let i=e;for(let r of this.nodes)r instanceof fi&&r.updateHeight(this.oracle,i),i+=r?r.length:1;return this.nodes}static build(e,t,i,r){let o=new dd(i,e);return zt.spans(t,i,r,o,0),o.finish(i)}}function FE(n,e,t){let i=new VE;return zt.compare(n,e,t,i,0),i.changes}class VE{constructor(){this.changes=[]}compareRange(){}comparePoint(e,t,i,r){(e<t||i&&i.heightRelevant||r&&r.heightRelevant)&&Zf(e,t,this.changes,5)}}function HE(n,e){let t=n.getBoundingClientRect(),i=Math.max(0,t.left),r=Math.min(innerWidth,t.right),o=Math.max(0,t.top),s=Math.min(innerHeight,t.bottom),l=n.ownerDocument.body;for(let a=n.parentNode;a&&a!=l;)if(a.nodeType==1){let c=a,u=window.getComputedStyle(c);if((c.scrollHeight>c.clientHeight||c.scrollWidth>c.clientWidth)&&u.overflow!="visible"){let f=c.getBoundingClientRect();i=Math.max(i,f.left),r=Math.min(r,f.right),o=Math.max(o,f.top),s=a==n.parentNode?f.bottom:Math.min(s,f.bottom)}a=u.position=="absolute"||u.position=="fixed"?c.offsetParent:c.parentNode}else if(a.nodeType==11)a=a.host;else break;return{left:i-t.left,right:Math.max(i,r)-t.left,top:o-(t.top+e),bottom:Math.max(o,s)-(t.top+e)}}function zE(n,e){let t=n.getBoundingClientRect();return{left:0,right:t.right-t.left,top:e,bottom:t.bottom-(t.top+e)}}class Mu{constructor(e,t,i){this.from=e,this.to=t,this.size=i}static same(e,t){if(e.length!=t.length)return!1;for(let i=0;i<e.length;i++){let r=e[i],o=t[i];if(r.from!=o.from||r.to!=o.to||r.size!=o.size)return!1}return!0}draw(e){return ct.replace({widget:new qE(this.size,e)}).range(this.from,this.to)}}class qE extends Ur{constructor(e,t){super(),this.size=e,this.vertical=t}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class ag{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.heightOracle=new RE,this.scaler=fg,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=cn.RTL,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1,this.stateDeco=e.facet(ol).filter(t=>typeof t!="function"),this.heightMap=oi.empty().applyChanges(this.stateDeco,Ut.empty,this.heightOracle.setDoc(e.doc),[new ur(0,0,0,e.doc.length)]),this.viewport=this.getViewport(0,null),this.updateViewportLines(),this.updateForViewport(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=ct.set(this.lineGaps.map(t=>t.draw(!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:t}=this.state.selection;for(let i=0;i<=1;i++){let r=i?t.head:t.anchor;if(!e.some(({from:o,to:s})=>r>=o&&r<=s)){let{from:o,to:s}=this.lineBlockAt(r);e.push(new Ul(o,s))}}this.viewports=e.sort((i,r)=>i.from-r.from),this.scaler=this.heightMap.height<=7e6?fg:new KE(this.heightOracle.doc,this.heightMap,this.viewports)}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.state.doc,0,0,e=>{this.viewportLines.push(this.scaler.scale==1?e:Ms(e,this.scaler))})}update(e,t=null){this.state=e.state;let i=this.stateDeco;this.stateDeco=this.state.facet(ol).filter(c=>typeof c!="function");let r=e.changedRanges,o=ur.extendWithRanges(r,FE(i,this.stateDeco,e?e.changes:Cn.empty(this.state.doc.length))),s=this.heightMap.height;this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),o),this.heightMap.height!=s&&(e.flags|=2);let l=o.length?this.mapViewport(this.viewport,e.changes):this.viewport;(t&&(t.range.head<l.from||t.range.head>l.to)||!this.viewportIsAppropriate(l))&&(l=this.getViewport(0,t));let a=!e.changes.empty||e.flags&2||l.from!=this.viewport.from||l.to!=this.viewport.to;this.viewport=l,this.updateForViewport(),a&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(),t&&(this.scrollTarget=t),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&(this.mustEnforceCursorAssoc=!0)}measure(e){let t=e.contentDOM,i=window.getComputedStyle(t),r=this.heightOracle,o=i.whiteSpace;this.defaultTextDirection=i.direction=="rtl"?cn.RTL:cn.LTR;let s=this.heightOracle.mustRefreshForWrapping(o),l=s||this.mustMeasureContent||this.contentDOMHeight!=t.clientHeight;this.contentDOMHeight=t.clientHeight,this.mustMeasureContent=!1;let a=0,c=0,u=parseInt(i.paddingTop)||0,f=parseInt(i.paddingBottom)||0;(this.paddingTop!=u||this.paddingBottom!=f)&&(this.paddingTop=u,this.paddingBottom=f,a|=10),this.editorWidth!=e.scrollDOM.clientWidth&&(r.lineWrapping&&(l=!0),this.editorWidth=e.scrollDOM.clientWidth,a|=8);let h=(this.printing?zE:HE)(t,this.paddingTop),d=h.top-this.pixelViewport.top,m=h.bottom-this.pixelViewport.bottom;this.pixelViewport=h;let g=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(g!=this.inView&&(this.inView=g,g&&(l=!0)),!this.inView)return 0;let y=t.clientWidth;if((this.contentDOMWidth!=y||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=y,this.editorHeight=e.scrollDOM.clientHeight,a|=8),l){let v=e.docView.measureVisibleLineHeights(this.viewport);if(r.mustRefreshForHeights(v)&&(s=!0),s||r.lineWrapping&&Math.abs(y-this.contentDOMWidth)>r.charWidth){let{lineHeight:k,charWidth:b}=e.docView.measureTextSize();s=r.refresh(o,k,b,y/b,v),s&&(e.docView.minWidth=0,a|=8)}d>0&&m>0?c=Math.max(d,m):d<0&&m<0&&(c=Math.min(d,m)),r.heightChanged=!1;for(let k of this.viewports){let b=k.from==this.viewport.from?v:e.docView.measureVisibleLineHeights(k);this.heightMap=this.heightMap.updateHeight(r,0,s,new jE(k.from,b))}r.heightChanged&&(a|=2)}let p=!this.viewportIsAppropriate(this.viewport,c)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return p&&(this.viewport=this.getViewport(c,this.scrollTarget)),this.updateForViewport(),(a&2||p)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(s?[]:this.lineGaps)),a|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),a}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,t){let i=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),r=this.heightMap,o=this.state.doc,{visibleTop:s,visibleBottom:l}=this,a=new Ul(r.lineAt(s-i*1e3,Yt.ByHeight,o,0,0).from,r.lineAt(l+(1-i)*1e3,Yt.ByHeight,o,0,0).to);if(t){let{head:c}=t.range;if(c<a.from||c>a.to){let u=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),f=r.lineAt(c,Yt.ByPos,o,0,0),h;t.y=="center"?h=(f.top+f.bottom)/2-u/2:t.y=="start"||t.y=="nearest"&&c<a.from?h=f.top:h=f.bottom-u,a=new Ul(r.lineAt(h-1e3/2,Yt.ByHeight,o,0,0).from,r.lineAt(h+u+1e3/2,Yt.ByHeight,o,0,0).to)}}return a}mapViewport(e,t){let i=t.mapPos(e.from,-1),r=t.mapPos(e.to,1);return new Ul(this.heightMap.lineAt(i,Yt.ByPos,this.state.doc,0,0).from,this.heightMap.lineAt(r,Yt.ByPos,this.state.doc,0,0).to)}viewportIsAppropriate({from:e,to:t},i=0){if(!this.inView)return!0;let{top:r}=this.heightMap.lineAt(e,Yt.ByPos,this.state.doc,0,0),{bottom:o}=this.heightMap.lineAt(t,Yt.ByPos,this.state.doc,0,0),{visibleTop:s,visibleBottom:l}=this;return(e==0||r<=s-Math.max(10,Math.min(-i,250)))&&(t==this.state.doc.length||o>=l+Math.max(10,Math.min(i,250)))&&r>s-2*1e3&&o<l+2*1e3}mapLineGaps(e,t){if(!e.length||t.empty)return e;let i=[];for(let r of e)t.touchesRange(r.from,r.to)||i.push(new Mu(t.mapPos(r.from),t.mapPos(r.to),r.size));return i}ensureLineGaps(e){let t=[];if(this.defaultTextDirection!=cn.LTR)return t;for(let i of this.viewportLines){if(i.length<4e3)continue;let r=WE(i.from,i.to,this.stateDeco);if(r.total<4e3)continue;let o,s;if(this.heightOracle.lineWrapping){let c=2e3/this.heightOracle.lineLength*this.heightOracle.lineHeight;o=Kl(r,(this.visibleTop-i.top-c)/i.height),s=Kl(r,(this.visibleBottom-i.top+c)/i.height)}else{let c=r.total*this.heightOracle.charWidth,u=2e3*this.heightOracle.charWidth;o=Kl(r,(this.pixelViewport.left-u)/c),s=Kl(r,(this.pixelViewport.right+u)/c)}let l=[];o>i.from&&l.push({from:i.from,to:o}),s<i.to&&l.push({from:s,to:i.to});let a=this.state.selection.main;a.from>=i.from&&a.from<=i.to&&ug(l,a.from-10,a.from+10),!a.empty&&a.to>=i.from&&a.to<=i.to&&ug(l,a.to-10,a.to+10);for(let{from:c,to:u}of l)u-c>1e3&&t.push(UE(e,f=>f.from>=i.from&&f.to<=i.to&&Math.abs(f.from-c)<1e3&&Math.abs(f.to-u)<1e3)||new Mu(c,u,this.gapSize(i,c,u,r)))}return t}gapSize(e,t,i,r){let o=cg(r,i)-cg(r,t);return this.heightOracle.lineWrapping?e.height*o:r.total*this.heightOracle.charWidth*o}updateLineGaps(e){Mu.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=ct.set(e.map(t=>t.draw(this.heightOracle.lineWrapping))))}computeVisibleRanges(){let e=this.stateDeco;this.lineGaps.length&&(e=e.concat(this.lineGapDeco));let t=[];zt.spans(e,this.viewport.from,this.viewport.to,{span(r,o){t.push({from:r,to:o})},point(){}},20);let i=t.length!=this.visibleRanges.length||this.visibleRanges.some((r,o)=>r.from!=t[o].from||r.to!=t[o].to);return this.visibleRanges=t,i?4:0}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(t=>t.from<=e&&t.to>=e)||Ms(this.heightMap.lineAt(e,Yt.ByPos,this.state.doc,0,0),this.scaler)}lineBlockAtHeight(e){return Ms(this.heightMap.lineAt(this.scaler.fromDOM(e),Yt.ByHeight,this.state.doc,0,0),this.scaler)}elementAtHeight(e){return Ms(this.heightMap.blockAt(this.scaler.fromDOM(e),this.state.doc,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class Ul{constructor(e,t){this.from=e,this.to=t}}function WE(n,e,t){let i=[],r=n,o=0;return zt.spans(t,n,e,{span(){},point(s,l){s>r&&(i.push({from:r,to:s}),o+=s-r),r=l}},20),r<e&&(i.push({from:r,to:e}),o+=e-r),{total:o,ranges:i}}function Kl({total:n,ranges:e},t){if(t<=0)return e[0].from;if(t>=1)return e[e.length-1].to;let i=Math.floor(n*t);for(let r=0;;r++){let{from:o,to:s}=e[r],l=s-o;if(i<=l)return o+i;i-=l}}function cg(n,e){let t=0;for(let{from:i,to:r}of n.ranges){if(e<=r){t+=e-i;break}t+=r-i}return t/n.total}function ug(n,e,t){for(let i=0;i<n.length;i++){let r=n[i];if(r.from<t&&r.to>e){let o=[];r.from<e&&o.push({from:r.from,to:e}),r.to>t&&o.push({from:t,to:r.to}),n.splice(i,1,...o),i+=o.length-1}}}function UE(n,e){for(let t of n)if(e(t))return t}const fg={toDOM(n){return n},fromDOM(n){return n},scale:1};class KE{constructor(e,t,i){let r=0,o=0,s=0;this.viewports=i.map(({from:l,to:a})=>{let c=t.lineAt(l,Yt.ByPos,e,0,0).top,u=t.lineAt(a,Yt.ByPos,e,0,0).bottom;return r+=u-c,{from:l,to:a,top:c,bottom:u,domTop:0,domBottom:0}}),this.scale=(7e6-r)/(t.height-r);for(let l of this.viewports)l.domTop=s+(l.top-o)*this.scale,s=l.domBottom=l.domTop+(l.bottom-l.top),o=l.bottom}toDOM(e){for(let t=0,i=0,r=0;;t++){let o=t<this.viewports.length?this.viewports[t]:null;if(!o||e<o.top)return r+(e-i)*this.scale;if(e<=o.bottom)return o.domTop+(e-o.top);i=o.bottom,r=o.domBottom}}fromDOM(e){for(let t=0,i=0,r=0;;t++){let o=t<this.viewports.length?this.viewports[t]:null;if(!o||e<o.domTop)return i+(e-r)/this.scale;if(e<=o.domBottom)return o.top+(e-o.domTop);i=o.bottom,r=o.domBottom}}}function Ms(n,e){if(e.scale==1)return n;let t=e.toDOM(n.top),i=e.toDOM(n.bottom);return new Ar(n.from,n.length,t,i-t,Array.isArray(n.type)?n.type.map(r=>Ms(r,e)):n.type)}const Jl=$e.define({combine:n=>n.join(" ")}),oh=$e.define({combine:n=>n.indexOf(!0)>-1}),sh=Vr.newName(),Zb=Vr.newName(),$b=Vr.newName(),e2={"&light":"."+Zb,"&dark":"."+$b};function lh(n,e,t){return new Vr(e,{finish(i){return/&/.test(i)?i.replace(/&\w*/,r=>{if(r=="&")return n;if(!t||!t[r])throw new RangeError(`Unsupported selector: ${r}`);return t[r]}):n+" "+i}})}const JE=lh("."+sh,{"&.cm-editor":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0},".cm-content":{margin:0,flexGrow:2,flexShrink:0,minHeight:"100%",display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 4px"},".cm-selectionLayer":{zIndex:-1,contain:"size style"},".cm-selectionBackground":{position:"absolute"},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{zIndex:100,contain:"size style",pointerEvents:"none"},"&.cm-focused .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{position:"absolute",borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#444"},"&.cm-focused .cm-cursor":{display:"block"},"&light .cm-activeLine":{backgroundColor:"#f3f9ff"},"&dark .cm-activeLine":{backgroundColor:"#223039"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",left:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},e2),GE={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},Au=Ze.ie&&Ze.ie_version<=11;class QE{constructor(e,t,i){this.view=e,this.onChange=t,this.onScrollChanged=i,this.active=!1,this.selectionRange=new JO,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.scrollTargets=[],this.intersection=null,this.resize=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(r=>{for(let o of r)this.queue.push(o);(Ze.ie&&Ze.ie_version<=11||Ze.ios&&e.composing)&&r.some(o=>o.type=="childList"&&o.removedNodes.length||o.type=="characterData"&&o.oldValue.length>o.target.nodeValue.length)?this.flushSoon():this.flush()}),Au&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),typeof ResizeObserver=="function"&&(this.resize=new ResizeObserver(()=>{this.view.docView.lastUpdate<Date.now()-75&&this.onResize()}),this.resize.observe(e.scrollDOM)),this.win=e.dom.ownerDocument.defaultView,this.addWindowListeners(this.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(r=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),r.length>0&&r[r.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(r=>{r.length>0&&r[r.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScroll(e){this.intersecting&&this.flush(!1),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(){this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500)}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((t,i)=>t!=e[i]))){this.gapIntersection.disconnect();for(let t of e)this.gapIntersection.observe(t);this.gaps=e}}onSelectionChange(e){let t=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:i}=this,r=this.selectionRange;if(i.state.facet(qc)?i.root.activeElement!=this.dom:!ga(i.dom,r))return;let o=r.anchorNode&&i.docView.nearest(r.anchorNode);if(o&&o.ignoreEvent(e)){t||(this.selectionChanged=!1);return}(Ze.ie&&Ze.ie_version<=11||Ze.android&&Ze.chrome)&&!i.state.selection.main.empty&&r.focusNode&&za(r.focusNode,r.focusOffset,r.anchorNode,r.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,t=Ze.safari&&e.root.nodeType==11&&WO(this.dom.ownerDocument)==this.dom&&XE(this.view)||Ha(e.root);if(!t||this.selectionRange.eq(t))return!1;let i=ga(this.dom,t);return i&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&QO(this.dom,t)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(t),i&&(this.selectionChanged=!0),!0)}setSelectionRange(e,t){this.selectionRange.set(e.node,e.offset,t.node,t.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,t=null;for(let i=this.dom;i;)if(i.nodeType==1)!t&&e<this.scrollTargets.length&&this.scrollTargets[e]==i?e++:t||(t=this.scrollTargets.slice(0,e)),t&&t.push(i),i=i.assignedSlot||i.parentNode;else if(i.nodeType==11)i=i.host;else break;if(e<this.scrollTargets.length&&!t&&(t=this.scrollTargets.slice(0,e)),t){for(let i of this.scrollTargets)i.removeEventListener("scroll",this.onScroll);for(let i of this.scrollTargets=t)i.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,GE),Au&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){!this.active||(this.active=!1,this.observer.disconnect(),Au&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,t){this.delayedAndroidKey||requestAnimationFrame(()=>{let i=this.delayedAndroidKey;this.delayedAndroidKey=null,this.delayedFlush=-1,this.flush()||Fs(this.dom,i.key,i.keyCode)}),(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:t})}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=window.setTimeout(()=>{this.delayedFlush=-1,this.flush()},20))}forceFlush(){this.delayedFlush>=0&&(window.clearTimeout(this.delayedFlush),this.delayedFlush=-1),this.flush()}processRecords(){let e=this.queue;for(let o of this.observer.takeRecords())e.push(o);e.length&&(this.queue=[]);let t=-1,i=-1,r=!1;for(let o of e){let s=this.readMutation(o);!s||(s.typeOver&&(r=!0),t==-1?{from:t,to:i}=s:(t=Math.min(s.from,t),i=Math.max(s.to,i)))}return{from:t,to:i,typeOver:r}}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return;e&&this.readSelectionRange();let{from:t,to:i,typeOver:r}=this.processRecords(),o=this.selectionChanged&&ga(this.dom,this.selectionRange);if(t<0&&!o)return;this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let s=this.view.state,l=this.onChange(t,i,r);return this.view.state==s&&this.view.update([]),l}readMutation(e){let t=this.view.docView.nearest(e.target);if(!t||t.ignoreMutation(e))return null;if(t.markDirty(e.type=="attributes"),e.type=="attributes"&&(t.dirty|=4),e.type=="childList"){let i=hg(t,e.previousSibling||e.target.previousSibling,-1),r=hg(t,e.nextSibling||e.target.nextSibling,1);return{from:i?t.posAfter(i):t.posAtStart,to:r?t.posBefore(r):t.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:t.posAtStart,to:t.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}destroy(){var e,t,i;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(t=this.gapIntersection)===null||t===void 0||t.disconnect(),(i=this.resize)===null||i===void 0||i.disconnect();for(let r of this.scrollTargets)r.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout)}}function hg(n,e,t){for(;e;){let i=en.get(e);if(i&&i.parent==n)return i;let r=e.parentNode;e=r!=n.dom?r:t>0?e.nextSibling:e.previousSibling}return null}function XE(n){let e=null;function t(a){a.preventDefault(),a.stopImmediatePropagation(),e=a.getTargetRanges()[0]}if(n.contentDOM.addEventListener("beforeinput",t,!0),n.dom.ownerDocument.execCommand("indent"),n.contentDOM.removeEventListener("beforeinput",t,!0),!e)return null;let i=e.startContainer,r=e.startOffset,o=e.endContainer,s=e.endOffset,l=n.docView.domAtPos(n.state.selection.main.anchor);return za(l.node,l.offset,o,s)&&([i,r,o,s]=[o,s,i,r]),{anchorNode:i,anchorOffset:r,focusNode:o,focusOffset:s}}function YE(n,e,t,i){let r,o,s=n.state.selection.main;if(e>-1){let l=n.docView.domBoundsAround(e,t,0);if(!l||n.state.readOnly)return!1;let{from:a,to:c}=l,u=n.docView.impreciseHead||n.docView.impreciseAnchor?[]:$E(n),f=new Vb(u,n.state);f.readRange(l.startDOM,l.endDOM);let h=s.from,d=null;(n.inputState.lastKeyCode===8&&n.inputState.lastKeyTime>Date.now()-100||Ze.android&&f.text.length<c-a)&&(h=s.to,d="end");let m=ZE(n.state.doc.sliceString(a,c,Mr),f.text,h-a,d);m&&(Ze.chrome&&n.inputState.lastKeyCode==13&&m.toB==m.from+2&&f.text.slice(m.from,m.toB)==Mr+Mr&&m.toB--,r={from:a+m.from,to:a+m.toA,insert:Ut.of(f.text.slice(m.from,m.toB).split(Mr))}),o=eT(u,a)}else if(n.hasFocus||!n.state.facet(qc)){let l=n.observer.selectionRange,{impreciseHead:a,impreciseAnchor:c}=n.docView,u=a&&a.node==l.focusNode&&a.offset==l.focusOffset||!Yo(n.contentDOM,l.focusNode)?n.state.selection.main.head:n.docView.posFromDOM(l.focusNode,l.focusOffset),f=c&&c.node==l.anchorNode&&c.offset==l.anchorOffset||!Yo(n.contentDOM,l.anchorNode)?n.state.selection.main.anchor:n.docView.posFromDOM(l.anchorNode,l.anchorOffset);(u!=s.head||f!=s.anchor)&&(o=Se.single(f,u))}if(!r&&!o)return!1;if(!r&&i&&!s.empty&&o&&o.main.empty?r={from:s.from,to:s.to,insert:n.state.doc.slice(s.from,s.to)}:r&&r.from>=s.from&&r.to<=s.to&&(r.from!=s.from||r.to!=s.to)&&s.to-s.from-(r.to-r.from)<=4?r={from:s.from,to:s.to,insert:n.state.doc.slice(s.from,r.from).append(r.insert).append(n.state.doc.slice(r.to,s.to))}:(Ze.mac||Ze.android)&&r&&r.from==r.to&&r.from==s.head-1&&r.insert.toString()=="."&&(r={from:s.from,to:s.to,insert:Ut.of([" "])}),r){let l=n.state;if(Ze.ios&&n.inputState.flushIOSKey(n)||Ze.android&&(r.from==s.from&&r.to==s.to&&r.insert.length==1&&r.insert.lines==2&&Fs(n.contentDOM,"Enter",13)||r.from==s.from-1&&r.to==s.to&&r.insert.length==0&&Fs(n.contentDOM,"Backspace",8)||r.from==s.from&&r.to==s.to+1&&r.insert.length==0&&Fs(n.contentDOM,"Delete",46)))return!0;let a=r.insert.toString();if(n.state.facet(Pb).some(f=>f(n,r.from,r.to,a)))return!0;n.inputState.composing>=0&&n.inputState.composing++;let c;if(r.from>=s.from&&r.to<=s.to&&r.to-r.from>=(s.to-s.from)/3&&(!o||o.main.empty&&o.main.from==r.from+r.insert.length)&&n.inputState.composing<0){let f=s.from<r.from?l.sliceDoc(s.from,r.from):"",h=s.to>r.to?l.sliceDoc(r.to,s.to):"";c=l.replaceSelection(n.state.toText(f+r.insert.sliceString(0,void 0,n.state.lineBreak)+h))}else{let f=l.changes(r),h=o&&!l.selection.main.eq(o.main)&&o.main.to<=f.newLength?o.main:void 0;if(l.selection.ranges.length>1&&n.inputState.composing>=0&&r.to<=s.to&&r.to>=s.to-10){let d=n.state.sliceDoc(r.from,r.to),m=Hb(n)||n.state.doc.lineAt(s.head),g=s.to-r.to,y=s.to-s.from;c=l.changeByRange(p=>{if(p.from==s.from&&p.to==s.to)return{changes:f,range:h||p.map(f)};let v=p.to-g,k=v-d.length;if(p.to-p.from!=y||n.state.sliceDoc(k,v)!=d||m&&p.to>=m.from&&p.from<=m.to)return{range:p};let b=l.changes({from:k,to:v,insert:r.insert}),S=p.to-s.to;return{changes:b,range:h?Se.range(Math.max(0,h.anchor+S),Math.max(0,h.head+S)):p.map(b)}})}else c={changes:f,selection:h&&l.selection.replaceRange(h)}}let u="input.type";return n.composing&&(u+=".compose",n.inputState.compositionFirstChange&&(u+=".start",n.inputState.compositionFirstChange=!1)),n.dispatch(c,{scrollIntoView:!0,userEvent:u}),!0}else if(o&&!o.main.eq(s)){let l=!1,a="select";return n.inputState.lastSelectionTime>Date.now()-50&&(n.inputState.lastSelectionOrigin=="select"&&(l=!0),a=n.inputState.lastSelectionOrigin),n.dispatch({selection:o,scrollIntoView:l,userEvent:a}),!0}else return!1}function ZE(n,e,t,i){let r=Math.min(n.length,e.length),o=0;for(;o<r&&n.charCodeAt(o)==e.charCodeAt(o);)o++;if(o==r&&n.length==e.length)return null;let s=n.length,l=e.length;for(;s>0&&l>0&&n.charCodeAt(s-1)==e.charCodeAt(l-1);)s--,l--;if(i=="end"){let a=Math.max(0,o-Math.min(s,l));t-=s+a-o}return s<o&&n.length<e.length?(o-=t<=o&&t>=s?o-t:0,l=o+(l-s),s=o):l<o&&(o-=t<=o&&t>=l?o-t:0,s=o+(s-l),l=o),{from:o,toA:s,toB:l}}function $E(n){let e=[];if(n.root.activeElement!=n.contentDOM)return e;let{anchorNode:t,anchorOffset:i,focusNode:r,focusOffset:o}=n.observer.selectionRange;return t&&(e.push(new Wp(t,i)),(r!=t||o!=i)&&e.push(new Wp(r,o))),e}function eT(n,e){if(n.length==0)return null;let t=n[0].pos,i=n.length==2?n[1].pos:t;return t>-1&&i>-1?Se.single(t+e,i+e):null}class tt{constructor(e={}){this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.style.cssText="position: absolute; top: -10000px",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),this._dispatch=e.dispatch||(t=>this.update([t])),this.dispatch=this.dispatch.bind(this),this._root=e.root||GO(e.parent)||document,this.viewState=new ag(e.state||Ot.create(e)),this.plugins=this.state.facet(Es).map(t=>new Ou(t));for(let t of this.plugins)t.update(this);this.observer=new QE(this,(t,i,r)=>YE(this,t,i,r),t=>{this.inputState.runScrollHandlers(this,t),this.observer.intersecting&&this.measure()}),this.inputState=new kE(this),this.inputState.ensureHandlers(this,this.plugins),this.docView=new Up(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),e.parent&&e.parent.appendChild(this.dom)}get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}get root(){return this._root}dispatch(...e){this._dispatch(e.length==1&&e[0]instanceof On?e[0]:this.state.update(...e))}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let t=!1,i=!1,r,o=this.state;for(let l of e){if(l.startState!=o)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");o=l.state}if(this.destroyed){this.viewState.state=o;return}if(this.observer.clear(),o.facet(Ot.phrases)!=this.state.facet(Ot.phrases))return this.setState(o);r=Ua.create(this,o,e);let s=this.viewState.scrollTarget;try{this.updateState=2;for(let l of e){if(s&&(s=s.map(l.changes)),l.scrollIntoView){let{main:a}=l.state.selection;s=new Wa(a.empty?a:Se.cursor(a.head,a.head>a.anchor?-1:1))}for(let a of l.effects)a.is(zp)&&(s=a.value)}this.viewState.update(r,s),this.bidiCache=Ka.update(this.bidiCache,r.changes),r.empty||(this.updatePlugins(r),this.inputState.update(r)),t=this.docView.update(r),this.state.facet(Ts)!=this.styleModules&&this.mountStyles(),i=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(t,e.some(l=>l.isUserEvent("select.pointer")))}finally{this.updateState=0}if(r.startState.facet(Jl)!=r.state.facet(Jl)&&(this.viewState.mustMeasureContent=!0),(t||i||s||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),!r.empty)for(let l of this.state.facet($f))l(r)}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let t=this.hasFocus;try{for(let i of this.plugins)i.destroy(this);this.viewState=new ag(e),this.plugins=e.facet(Es).map(i=>new Ou(i)),this.pluginMap.clear();for(let i of this.plugins)i.update(this);this.docView=new Up(this),this.inputState.ensureHandlers(this,this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}t&&this.focus(),this.requestMeasure()}updatePlugins(e){let t=e.startState.facet(Es),i=e.state.facet(Es);if(t!=i){let r=[];for(let o of i){let s=t.indexOf(o);if(s<0)r.push(new Ou(o));else{let l=this.plugins[s];l.mustUpdate=e,r.push(l)}}for(let o of this.plugins)o.mustUpdate!=e&&o.destroy(this);this.plugins=r,this.pluginMap.clear(),this.inputState.ensureHandlers(this,this.plugins)}else for(let r of this.plugins)r.mustUpdate=e;for(let r=0;r<this.plugins.length;r++)this.plugins[r].update(this)}measure(e=!0){if(this.destroyed)return;this.measureScheduled>-1&&cancelAnimationFrame(this.measureScheduled),this.measureScheduled=0,e&&this.observer.forceFlush();let t=null,{scrollHeight:i,scrollTop:r,clientHeight:o}=this.scrollDOM,s=r>i-o-4?i:r;try{for(let l=0;;l++){this.updateState=1;let a=this.viewport,c=this.viewState.lineBlockAtHeight(s),u=this.viewState.measure(this);if(!u&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(l>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let f=[];u&4||([this.measureRequests,f]=[f,this.measureRequests]);let h=f.map(y=>{try{return y.read(this)}catch(p){return pi(this.state,p),dg}}),d=Ua.create(this,this.state,[]),m=!1,g=!1;d.flags|=u,t?t.flags|=u:t=d,this.updateState=2,d.empty||(this.updatePlugins(d),this.inputState.update(d),this.updateAttrs(),m=this.docView.update(d));for(let y=0;y<f.length;y++)if(h[y]!=dg)try{let p=f[y];p.write&&p.write(h[y],this)}catch(p){pi(this.state,p)}if(this.viewState.scrollTarget)this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,g=!0;else{let y=this.viewState.lineBlockAt(c.from).top-c.top;(y>1||y<-1)&&(this.scrollDOM.scrollTop+=y,g=!0)}if(m&&this.docView.updateSelection(!0),this.viewport.from==a.from&&this.viewport.to==a.to&&!g&&this.measureRequests.length==0)break}}finally{this.updateState=0,this.measureScheduled=-1}if(t&&!t.empty)for(let l of this.state.facet($f))l(t)}get themeClasses(){return sh+" "+(this.state.facet(oh)?$b:Zb)+" "+this.state.facet(Jl)}updateAttrs(){let e=mg(this,Nb,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),t={spellcheck:"false",autocorrect:"off",autocapitalize:"off",translate:"no",contenteditable:this.state.facet(qc)?"true":"false",class:"cm-content",style:`${Ze.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(t["aria-readonly"]="true"),mg(this,Db,t);let i=this.observer.ignore(()=>{let r=Yf(this.contentDOM,this.contentAttrs,t),o=Yf(this.dom,this.editorAttrs,e);return r||o});return this.editorAttrs=e,this.contentAttrs=t,i}showAnnouncements(e){let t=!0;for(let i of e)for(let r of i.effects)if(r.is(tt.announce)){t&&(this.announceDOM.textContent=""),t=!1;let o=this.announceDOM.appendChild(document.createElement("div"));o.textContent=r.value}}mountStyles(){this.styleModules=this.state.facet(Ts),Vr.mount(this.root,this.styleModules.concat(JE).reverse())}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=requestAnimationFrame(()=>this.measure())),e){if(e.key!=null){for(let t=0;t<this.measureRequests.length;t++)if(this.measureRequests[t].key===e.key){this.measureRequests[t]=e;return}}this.measureRequests.push(e)}}plugin(e){let t=this.pluginMap.get(e);return(t===void 0||t&&t.spec!=e)&&this.pluginMap.set(e,t=this.plugins.find(i=>i.spec==e)||null),t&&t.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,t,i){return Tu(this,e,Yp(this,e,t,i))}moveByGroup(e,t){return Tu(this,e,Yp(this,e,t,i=>wE(this,e.head,i)))}moveToLineBoundary(e,t,i=!0){return bE(this,e,t,i)}moveVertically(e,t,i){return Tu(this,e,_E(this,e,t,i))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,t=0){return this.docView.posFromDOM(e,t)}posAtCoords(e,t=!0){return this.readMeasured(),qb(this,e,t)}coordsAtPos(e,t=1){this.readMeasured();let i=this.docView.coordsAt(e,t);if(!i||i.left==i.right)return i;let r=this.state.doc.lineAt(e),o=this.bidiSpans(r),s=o[Ho.find(o,e-r.from,-1,t)];return Vc(i,s.dir==cn.LTR==t>0)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(Ib)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>tT)return Bb(e.length);let t=this.textDirectionAt(e.from);for(let r of this.bidiCache)if(r.from==e.from&&r.dir==t)return r.order;let i=oE(e.text,t);return this.bidiCache.push(new Ka(e.from,e.to,t,i)),i}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||Ze.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{mb(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView),this.mountStyles())}destroy(){for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,t={}){return zp.of(new Wa(typeof e=="number"?Se.cursor(e):e,t.y,t.x,t.yMargin,t.xMargin))}static domEventHandlers(e){return kn.define(()=>({}),{eventHandlers:e})}static theme(e,t){let i=Vr.newName(),r=[Jl.of(i),Ts.of(lh(`.${i}`,e))];return t&&t.dark&&r.push(oh.of(!0)),r}static baseTheme(e){return ms.lowest(Ts.of(lh("."+sh,e,e2)))}static findFromDOM(e){var t;let i=e.querySelector(".cm-content"),r=i&&en.get(i)||en.get(e);return((t=r==null?void 0:r.rootView)===null||t===void 0?void 0:t.view)||null}}tt.styleModule=Ts;tt.inputHandler=Pb;tt.perLineTextDirection=Ib;tt.exceptionSink=Ab;tt.updateListener=$f;tt.editable=qc;tt.mouseSelectionStyle=Mb;tt.dragMovesSelection=Tb;tt.clickAddsSelectionRange=Eb;tt.decorations=ol;tt.atomicRanges=Rb;tt.scrollMargins=jb;tt.darkTheme=oh;tt.contentAttributes=Db;tt.editorAttributes=Nb;tt.lineWrapping=tt.contentAttributes.of({class:"cm-lineWrapping"});tt.announce=kt.define();const tT=4096,dg={};class Ka{constructor(e,t,i,r){this.from=e,this.to=t,this.dir=i,this.order=r}static update(e,t){if(t.empty)return e;let i=[],r=e.length?e[e.length-1].dir:cn.LTR;for(let o=Math.max(0,e.length-10);o<e.length;o++){let s=e[o];s.dir==r&&!t.touchesRange(s.from,s.to)&&i.push(new Ka(t.mapPos(s.from,1),t.mapPos(s.to,-1),s.dir,s.order))}return i}}function mg(n,e,t){for(let i=n.state.facet(e),r=i.length-1;r>=0;r--){let o=i[r],s=typeof o=="function"?o(n):o;s&&Xf(s,t)}return t}const nT=Ze.mac?"mac":Ze.windows?"win":Ze.linux?"linux":"key";function iT(n,e){const t=n.split(/-(?!$)/);let i=t[t.length-1];i=="Space"&&(i=" ");let r,o,s,l;for(let a=0;a<t.length-1;++a){const c=t[a];if(/^(cmd|meta|m)$/i.test(c))l=!0;else if(/^a(lt)?$/i.test(c))r=!0;else if(/^(c|ctrl|control)$/i.test(c))o=!0;else if(/^s(hift)?$/i.test(c))s=!0;else if(/^mod$/i.test(c))e=="mac"?l=!0:o=!0;else throw new Error("Unrecognized modifier name: "+c)}return r&&(i="Alt-"+i),o&&(i="Ctrl-"+i),l&&(i="Meta-"+i),s&&(i="Shift-"+i),i}function Gl(n,e,t){return e.altKey&&(n="Alt-"+n),e.ctrlKey&&(n="Ctrl-"+n),e.metaKey&&(n="Meta-"+n),t!==!1&&e.shiftKey&&(n="Shift-"+n),n}const rT=ms.default(tt.domEventHandlers({keydown(n,e){return n2(t2(e.state),n,e,"editor")}})),Wc=$e.define({enables:rT}),pg=new WeakMap;function t2(n){let e=n.facet(Wc),t=pg.get(e);return t||pg.set(e,t=lT(e.reduce((i,r)=>i.concat(r),[]))),t}function oT(n,e,t){return n2(t2(n.state),e,n,t)}let Sr=null;const sT=4e3;function lT(n,e=nT){let t=Object.create(null),i=Object.create(null),r=(s,l)=>{let a=i[s];if(a==null)i[s]=l;else if(a!=l)throw new Error("Key binding "+s+" is used both as a regular binding and as a multi-stroke prefix")},o=(s,l,a,c)=>{let u=t[s]||(t[s]=Object.create(null)),f=l.split(/ (?!$)/).map(m=>iT(m,e));for(let m=1;m<f.length;m++){let g=f.slice(0,m).join(" ");r(g,!0),u[g]||(u[g]={preventDefault:!0,commands:[y=>{let p=Sr={view:y,prefix:g,scope:s};return setTimeout(()=>{Sr==p&&(Sr=null)},sT),!0}]})}let h=f.join(" ");r(h,!1);let d=u[h]||(u[h]={preventDefault:!1,commands:[]});d.commands.push(a),c&&(d.preventDefault=!0)};for(let s of n){let l=s[e]||s.key;if(!!l)for(let a of s.scope?s.scope.split(" "):["editor"])o(a,l,s.run,s.preventDefault),s.shift&&o(a,"Shift-"+l,s.shift,s.preventDefault)}return t}function n2(n,e,t,i){let r=qO(e),o=jn(r,0),s=hi(o)==r.length&&r!=" ",l="",a=!1;Sr&&Sr.view==t&&Sr.scope==i&&(l=Sr.prefix+" ",(a=Ub.indexOf(e.keyCode)<0)&&(Sr=null));let c=d=>{if(d){for(let m of d.commands)if(m(t))return!0;d.preventDefault&&(a=!0)}return!1},u=n[i],f,h;if(u){if(c(u[l+Gl(r,e,!s)]))return!0;if(s&&(e.shiftKey||e.altKey||e.metaKey||o>127)&&(f=Hr[e.keyCode])&&f!=r){if(c(u[l+Gl(f,e,!0)]))return!0;if(e.shiftKey&&(h=nl[e.keyCode])!=r&&h!=f&&c(u[l+Gl(h,e,!1)]))return!0}else if(s&&e.shiftKey&&c(u[l+Gl(r,e,!0)]))return!0}return a}const i2=!Ze.ios,As=$e.define({combine(n){return Hi(n,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,t)=>Math.min(e,t),drawRangeCursor:(e,t)=>e||t})}});function aT(n={}){return[As.of(n),cT,uT]}class r2{constructor(e,t,i,r,o){this.left=e,this.top=t,this.width=i,this.height=r,this.className=o}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",this.width>=0&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}}const cT=kn.fromClass(class{constructor(n){this.view=n,this.rangePieces=[],this.cursors=[],this.measureReq={read:this.readPos.bind(this),write:this.drawSel.bind(this)},this.selectionLayer=n.scrollDOM.appendChild(document.createElement("div")),this.selectionLayer.className="cm-selectionLayer",this.selectionLayer.setAttribute("aria-hidden","true"),this.cursorLayer=n.scrollDOM.appendChild(document.createElement("div")),this.cursorLayer.className="cm-cursorLayer",this.cursorLayer.setAttribute("aria-hidden","true"),n.requestMeasure(this.measureReq),this.setBlinkRate()}setBlinkRate(){this.cursorLayer.style.animationDuration=this.view.state.facet(As).cursorBlinkRate+"ms"}update(n){let e=n.startState.facet(As)!=n.state.facet(As);(e||n.selectionSet||n.geometryChanged||n.viewportChanged)&&this.view.requestMeasure(this.measureReq),n.transactions.some(t=>t.scrollIntoView)&&(this.cursorLayer.style.animationName=this.cursorLayer.style.animationName=="cm-blink"?"cm-blink2":"cm-blink"),e&&this.setBlinkRate()}readPos(){let{state:n}=this.view,e=n.facet(As),t=n.selection.ranges.map(r=>r.empty?[]:fT(this.view,r)).reduce((r,o)=>r.concat(o)),i=[];for(let r of n.selection.ranges){let o=r==n.selection.main;if(r.empty?!o||i2:e.drawRangeCursor){let s=hT(this.view,r,o);s&&i.push(s)}}return{rangePieces:t,cursors:i}}drawSel({rangePieces:n,cursors:e}){if(n.length!=this.rangePieces.length||n.some((t,i)=>!t.eq(this.rangePieces[i]))){this.selectionLayer.textContent="";for(let t of n)this.selectionLayer.appendChild(t.draw());this.rangePieces=n}if(e.length!=this.cursors.length||e.some((t,i)=>!t.eq(this.cursors[i]))){let t=this.cursorLayer.children;if(t.length!==e.length){this.cursorLayer.textContent="";for(const i of e)this.cursorLayer.appendChild(i.draw())}else e.forEach((i,r)=>i.adjust(t[r]));this.cursors=e}}destroy(){this.selectionLayer.remove(),this.cursorLayer.remove()}}),o2={".cm-line":{"& ::selection":{backgroundColor:"transparent !important"},"&::selection":{backgroundColor:"transparent !important"}}};i2&&(o2[".cm-line"].caretColor="transparent !important");const uT=ms.highest(tt.theme(o2));function s2(n){let e=n.scrollDOM.getBoundingClientRect();return{left:(n.textDirection==cn.LTR?e.left:e.right-n.scrollDOM.clientWidth)-n.scrollDOM.scrollLeft,top:e.top-n.scrollDOM.scrollTop}}function gg(n,e,t){let i=Se.cursor(e);return{from:Math.max(t.from,n.moveToLineBoundary(i,!1,!0).from),to:Math.min(t.to,n.moveToLineBoundary(i,!0,!0).from),type:Qt.Text}}function yg(n,e){let t=n.lineBlockAt(e);if(Array.isArray(t.type)){for(let i of t.type)if(i.to>e||i.to==e&&(i.to==t.to||i.type==Qt.Text))return i}return t}function fT(n,e){if(e.to<=n.viewport.from||e.from>=n.viewport.to)return[];let t=Math.max(e.from,n.viewport.from),i=Math.min(e.to,n.viewport.to),r=n.textDirection==cn.LTR,o=n.contentDOM,s=o.getBoundingClientRect(),l=s2(n),a=window.getComputedStyle(o.firstChild),c=s.left+parseInt(a.paddingLeft)+Math.min(0,parseInt(a.textIndent)),u=s.right-parseInt(a.paddingRight),f=yg(n,t),h=yg(n,i),d=f.type==Qt.Text?f:null,m=h.type==Qt.Text?h:null;if(n.lineWrapping&&(d&&(d=gg(n,t,d)),m&&(m=gg(n,i,m))),d&&m&&d.from==m.from)return y(p(e.from,e.to,d));{let k=d?p(e.from,null,d):v(f,!1),b=m?p(null,e.to,m):v(h,!0),S=[];return(d||f).to<(m||h).from-1?S.push(g(c,k.bottom,u,b.top)):k.bottom<b.top&&n.elementAtHeight((k.bottom+b.top)/2).type==Qt.Text&&(k.bottom=b.top=(k.bottom+b.top)/2),y(k).concat(S).concat(y(b))}function g(k,b,S,O){return new r2(k-l.left,b-l.top-.01,S-k,O-b+.01,"cm-selectionBackground")}function y({top:k,bottom:b,horizontal:S}){let O=[];for(let I=0;I<S.length;I+=2)O.push(g(S[I],k,S[I+1],b));return O}function p(k,b,S){let O=1e9,I=-1e9,L=[];function P(F,q,U,B,Q){let re=n.coordsAtPos(F,F==S.to?-2:2),le=n.coordsAtPos(U,U==S.from?2:-2);O=Math.min(re.top,le.top,O),I=Math.max(re.bottom,le.bottom,I),Q==cn.LTR?L.push(r&&q?c:re.left,r&&B?u:le.right):L.push(!r&&B?c:le.left,!r&&q?u:re.right)}let D=k!=null?k:S.from,H=b!=null?b:S.to;for(let F of n.visibleRanges)if(F.to>D&&F.from<H)for(let q=Math.max(F.from,D),U=Math.min(F.to,H);;){let B=n.state.doc.lineAt(q);for(let Q of n.bidiSpans(B)){let re=Q.from+B.from,le=Q.to+B.from;if(re>=U)break;le>q&&P(Math.max(re,q),k==null&&re<=D,Math.min(le,U),b==null&&le>=H,Q.dir)}if(q=B.to+1,q>=U)break}return L.length==0&&P(D,k==null,H,b==null,n.textDirection),{top:O,bottom:I,horizontal:L}}function v(k,b){let S=s.top+(b?k.top:k.bottom);return{top:S,bottom:S,horizontal:[]}}}function hT(n,e,t){let i=n.coordsAtPos(e.head,e.assoc||1);if(!i)return null;let r=s2(n);return new r2(i.left-r.left,i.top-r.top,-1,i.bottom-i.top,t?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary")}const l2=kt.define({map(n,e){return n==null?null:e.mapPos(n)}}),Ps=Tn.define({create(){return null},update(n,e){return n!=null&&(n=e.changes.mapPos(n)),e.effects.reduce((t,i)=>i.is(l2)?i.value:t,n)}}),dT=kn.fromClass(class{constructor(n){this.view=n,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(n){var e;let t=n.state.field(Ps);t==null?this.cursor!=null&&((e=this.cursor)===null||e===void 0||e.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(n.startState.field(Ps)!=t||n.docChanged||n.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let n=this.view.state.field(Ps),e=n!=null&&this.view.coordsAtPos(n);if(!e)return null;let t=this.view.scrollDOM.getBoundingClientRect();return{left:e.left-t.left+this.view.scrollDOM.scrollLeft,top:e.top-t.top+this.view.scrollDOM.scrollTop,height:e.bottom-e.top}}drawCursor(n){this.cursor&&(n?(this.cursor.style.left=n.left+"px",this.cursor.style.top=n.top+"px",this.cursor.style.height=n.height+"px"):this.cursor.style.left="-100000px")}destroy(){this.cursor&&this.cursor.remove()}setDropPos(n){this.view.state.field(Ps)!=n&&this.view.dispatch({effects:l2.of(n)})}},{eventHandlers:{dragover(n){this.setDropPos(this.view.posAtCoords({x:n.clientX,y:n.clientY}))},dragleave(n){(n.target==this.view.contentDOM||!this.view.contentDOM.contains(n.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function mT(){return[Ps,dT]}function vg(n,e,t,i,r){e.lastIndex=0;for(let o=n.iterRange(t,i),s=t,l;!o.next().done;s+=o.value.length)if(!o.lineBreak)for(;l=e.exec(o.value);)r(s+l.index,l)}function pT(n,e){let t=n.visibleRanges;if(t.length==1&&t[0].from==n.viewport.from&&t[0].to==n.viewport.to)return t;let i=[];for(let{from:r,to:o}of t)r=Math.max(n.state.doc.lineAt(r).from,r-e),o=Math.min(n.state.doc.lineAt(o).to,o+e),i.length&&i[i.length-1].to>=r?i[i.length-1].to=o:i.push({from:r,to:o});return i}class gT{constructor(e){const{regexp:t,decoration:i,decorate:r,boundary:o,maxLength:s=1e3}=e;if(!t.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=t,r)this.addMatch=(l,a,c,u)=>r(u,c,c+l[0].length,l,a);else if(i){let l=typeof i=="function"?i:()=>i;this.addMatch=(a,c,u,f)=>f(u,u+a[0].length,l(a,c,u))}else throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.boundary=o,this.maxLength=s}createDeco(e){let t=new Fr,i=t.add.bind(t);for(let{from:r,to:o}of pT(e,this.maxLength))vg(e.state.doc,this.regexp,r,o,(s,l)=>this.addMatch(l,e,s,i));return t.finish()}updateDeco(e,t){let i=1e9,r=-1;return e.docChanged&&e.changes.iterChanges((o,s,l,a)=>{a>e.view.viewport.from&&l<e.view.viewport.to&&(i=Math.min(l,i),r=Math.max(a,r))}),e.viewportChanged||r-i>1e3?this.createDeco(e.view):r>-1?this.updateRange(e.view,t.map(e.changes),i,r):t}updateRange(e,t,i,r){for(let o of e.visibleRanges){let s=Math.max(o.from,i),l=Math.min(o.to,r);if(l>s){let a=e.state.doc.lineAt(s),c=a.to<l?e.state.doc.lineAt(l):a,u=Math.max(o.from,a.from),f=Math.min(o.to,c.to);if(this.boundary){for(;s>a.from;s--)if(this.boundary.test(a.text[s-1-a.from])){u=s;break}for(;l<c.to;l++)if(this.boundary.test(c.text[l-c.from])){f=l;break}}let h=[],d,m=(g,y,p)=>h.push(p.range(g,y));if(a==c)for(this.regexp.lastIndex=u-a.from;(d=this.regexp.exec(a.text))&&d.index<f-a.from;)this.addMatch(d,e,d.index+a.from,m);else vg(e.state.doc,this.regexp,u,f,(g,y)=>this.addMatch(y,e,g,m));t=t.update({filterFrom:u,filterTo:f,filter:(g,y)=>g<u||y>f,add:h})}}return t}}const ah=/x/.unicode!=null?"gu":"g",yT=new RegExp(`[\0-\b
-\x7F-\x9F\xAD\u061C\u200B\u200E\u200F\u2028\u2029\u202D\u202E\u2066\u2067\u2069\uFEFF\uFFF9-\uFFFC]`,ah),vT={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let Pu=null;function bT(){var n;if(Pu==null&&typeof document<"u"&&document.body){let e=document.body.style;Pu=((n=e.tabSize)!==null&&n!==void 0?n:e.MozTabSize)!=null}return Pu||!1}const va=$e.define({combine(n){let e=Hi(n,{render:null,specialChars:yT,addSpecialChars:null});return(e.replaceTabs=!bT())&&(e.specialChars=new RegExp("	|"+e.specialChars.source,ah)),e.addSpecialChars&&(e.specialChars=new RegExp(e.specialChars.source+"|"+e.addSpecialChars.source,ah)),e}});function wT(n={}){return[va.of(n),_T()]}let bg=null;function _T(){return bg||(bg=kn.fromClass(class{constructor(n){this.view=n,this.decorations=ct.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(n.state.facet(va)),this.decorations=this.decorator.createDeco(n)}makeDecorator(n){return new gT({regexp:n.specialChars,decoration:(e,t,i)=>{let{doc:r}=t.state,o=jn(e[0],0);if(o==9){let s=r.lineAt(i),l=t.state.tabSize,a=_l(s.text,l,i-s.from);return ct.replace({widget:new xT((l-a%l)*this.view.defaultCharacterWidth)})}return this.decorationCache[o]||(this.decorationCache[o]=ct.replace({widget:new CT(n,o)}))},boundary:n.replaceTabs?void 0:/[^]/})}update(n){let e=n.state.facet(va);n.startState.facet(va)!=e?(this.decorator=this.makeDecorator(e),this.decorations=this.decorator.createDeco(n.view)):this.decorations=this.decorator.updateDeco(n,this.decorations)}},{decorations:n=>n.decorations}))}const kT="\u2022";function ST(n){return n>=32?kT:n==10?"\u2424":String.fromCharCode(9216+n)}class CT extends Ur{constructor(e,t){super(),this.options=e,this.code=t}eq(e){return e.code==this.code}toDOM(e){let t=ST(this.code),i=e.state.phrase("Control character")+" "+(vT[this.code]||"0x"+this.code.toString(16)),r=this.options.render&&this.options.render(this.code,i,t);if(r)return r;let o=document.createElement("span");return o.textContent=t,o.title=i,o.setAttribute("aria-label",i),o.className="cm-specialChar",o}ignoreEvent(){return!1}}class xT extends Ur{constructor(e){super(),this.width=e}eq(e){return e.width==this.width}toDOM(){let e=document.createElement("span");return e.textContent="	",e.className="cm-tab",e.style.width=this.width+"px",e}ignoreEvent(){return!1}}function OT(){return TT}const ET=ct.line({class:"cm-activeLine"}),TT=kn.fromClass(class{constructor(n){this.decorations=this.getDeco(n)}update(n){(n.docChanged||n.selectionSet)&&(this.decorations=this.getDeco(n.view))}getDeco(n){let e=-1,t=[];for(let i of n.state.selection.ranges){if(!i.empty)return ct.none;let r=n.lineBlockAt(i.head);r.from>e&&(t.push(ET.range(r.from)),e=r.from)}return ct.set(t)}},{decorations:n=>n.decorations}),ch=2e3;function MT(n,e,t){let i=Math.min(e.line,t.line),r=Math.max(e.line,t.line),o=[];if(e.off>ch||t.off>ch||e.col<0||t.col<0){let s=Math.min(e.off,t.off),l=Math.max(e.off,t.off);for(let a=i;a<=r;a++){let c=n.doc.line(a);c.length<=l&&o.push(Se.range(c.from+s,c.to+l))}}else{let s=Math.min(e.col,t.col),l=Math.max(e.col,t.col);for(let a=i;a<=r;a++){let c=n.doc.line(a),u=zf(c.text,s,n.tabSize,!0);if(u>-1){let f=zf(c.text,l,n.tabSize);o.push(Se.range(c.from+u,c.from+f))}}}return o}function AT(n,e){let t=n.coordsAtPos(n.viewport.from);return t?Math.round(Math.abs((t.left-e)/n.defaultCharacterWidth)):-1}function wg(n,e){let t=n.posAtCoords({x:e.clientX,y:e.clientY},!1),i=n.state.doc.lineAt(t),r=t-i.from,o=r>ch?-1:r==i.length?AT(n,e.clientX):_l(i.text,n.state.tabSize,t-i.from);return{line:i.number,col:o,off:r}}function PT(n,e){let t=wg(n,e),i=n.state.selection;return t?{update(r){if(r.docChanged){let o=r.changes.mapPos(r.startState.doc.line(t.line).from),s=r.state.doc.lineAt(o);t={line:s.number,col:t.col,off:Math.min(t.off,s.length)},i=i.map(r.changes)}},get(r,o,s){let l=wg(n,r);if(!l)return i;let a=MT(n.state,t,l);return a.length?s?Se.create(a.concat(i.ranges)):Se.create(a):i}}:null}function IT(n){let e=(n==null?void 0:n.eventFilter)||(t=>t.altKey&&t.button==0);return tt.mouseSelectionStyle.of((t,i)=>e(i)?PT(t,i):null)}const NT={Alt:[18,n=>n.altKey],Control:[17,n=>n.ctrlKey],Shift:[16,n=>n.shiftKey],Meta:[91,n=>n.metaKey]},DT={style:"cursor: crosshair"};function RT(n={}){let[e,t]=NT[n.key||"Alt"],i=kn.fromClass(class{constructor(r){this.view=r,this.isDown=!1}set(r){this.isDown!=r&&(this.isDown=r,this.view.update([]))}},{eventHandlers:{keydown(r){this.set(r.keyCode==e||t(r))},keyup(r){(r.keyCode==e||!t(r))&&this.set(!1)}}});return[i,tt.contentAttributes.of(r=>{var o;return!((o=r.plugin(i))===null||o===void 0)&&o.isDown?DT:null})]}const Iu="-10000px";class a2{constructor(e,t,i){this.facet=t,this.createTooltipView=i,this.input=e.state.facet(t),this.tooltips=this.input.filter(r=>r),this.tooltipViews=this.tooltips.map(i)}update(e){let t=e.state.facet(this.facet),i=t.filter(o=>o);if(t===this.input){for(let o of this.tooltipViews)o.update&&o.update(e);return!1}let r=[];for(let o=0;o<i.length;o++){let s=i[o],l=-1;if(!!s){for(let a=0;a<this.tooltips.length;a++){let c=this.tooltips[a];c&&c.create==s.create&&(l=a)}if(l<0)r[o]=this.createTooltipView(s);else{let a=r[o]=this.tooltipViews[l];a.update&&a.update(e)}}}for(let o of this.tooltipViews)r.indexOf(o)<0&&o.dom.remove();return this.input=t,this.tooltips=i,this.tooltipViews=r,!0}}function jT(){return{top:0,left:0,bottom:innerHeight,right:innerWidth}}const Nu=$e.define({combine:n=>{var e,t,i;return{position:Ze.ios?"absolute":((e=n.find(r=>r.position))===null||e===void 0?void 0:e.position)||"fixed",parent:((t=n.find(r=>r.parent))===null||t===void 0?void 0:t.parent)||null,tooltipSpace:((i=n.find(r=>r.tooltipSpace))===null||i===void 0?void 0:i.tooltipSpace)||jT}}}),c2=kn.fromClass(class{constructor(n){var e;this.view=n,this.inView=!0,this.lastTransaction=0,this.measureTimeout=-1;let t=n.state.facet(Nu);this.position=t.position,this.parent=t.parent,this.classes=n.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.manager=new a2(n,Uc,i=>this.createTooltip(i)),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(i=>{Date.now()>this.lastTransaction-50&&i.length>0&&i[i.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),(e=n.dom.ownerDocument.defaultView)===null||e===void 0||e.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let n of this.manager.tooltipViews)this.intersectionObserver.observe(n.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(n){n.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(n);e&&this.observeIntersection();let t=e||n.geometryChanged,i=n.state.facet(Nu);if(i.position!=this.position){this.position=i.position;for(let r of this.manager.tooltipViews)r.dom.style.position=this.position;t=!0}if(i.parent!=this.parent){this.parent&&this.container.remove(),this.parent=i.parent,this.createContainer();for(let r of this.manager.tooltipViews)this.container.appendChild(r.dom);t=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);t&&this.maybeMeasure()}createTooltip(n){let e=n.create(this.view);if(e.dom.classList.add("cm-tooltip"),n.arrow&&!e.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let t=document.createElement("div");t.className="cm-tooltip-arrow",e.dom.appendChild(t)}return e.dom.style.position=this.position,e.dom.style.top=Iu,this.container.appendChild(e.dom),e.mount&&e.mount(this.view),e}destroy(){var n,e;(n=this.view.dom.ownerDocument.defaultView)===null||n===void 0||n.removeEventListener("resize",this.measureSoon);for(let{dom:t}of this.manager.tooltipViews)t.remove();(e=this.intersectionObserver)===null||e===void 0||e.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let n=this.view.dom.getBoundingClientRect();return{editor:n,parent:this.parent?this.container.getBoundingClientRect():n,pos:this.manager.tooltips.map((e,t)=>{let i=this.manager.tooltipViews[t];return i.getCoords?i.getCoords(e.pos):this.view.coordsAtPos(e.pos)}),size:this.manager.tooltipViews.map(({dom:e})=>e.getBoundingClientRect()),space:this.view.state.facet(Nu).tooltipSpace(this.view)}}writeMeasure(n){let{editor:e,space:t}=n,i=[];for(let r=0;r<this.manager.tooltips.length;r++){let o=this.manager.tooltips[r],s=this.manager.tooltipViews[r],{dom:l}=s,a=n.pos[r],c=n.size[r];if(!a||a.bottom<=Math.max(e.top,t.top)||a.top>=Math.min(e.bottom,t.bottom)||a.right<Math.max(e.left,t.left)-.1||a.left>Math.min(e.right,t.right)+.1){l.style.top=Iu;continue}let u=o.arrow?s.dom.querySelector(".cm-tooltip-arrow"):null,f=u?7:0,h=c.right-c.left,d=c.bottom-c.top,m=s.offset||BT,g=this.view.textDirection==cn.LTR,y=c.width>t.right-t.left?g?t.left:t.right-c.width:g?Math.min(a.left-(u?14:0)+m.x,t.right-h):Math.max(t.left,a.left-h+(u?14:0)-m.x),p=!!o.above;!o.strictSide&&(p?a.top-(c.bottom-c.top)-m.y<t.top:a.bottom+(c.bottom-c.top)+m.y>t.bottom)&&p==t.bottom-a.bottom>a.top-t.top&&(p=!p);let v=p?a.top-d-f-m.y:a.bottom+f+m.y,k=y+h;if(s.overlap!==!0)for(let b of i)b.left<k&&b.right>y&&b.top<v+d&&b.bottom>v&&(v=p?b.top-d-2-f:b.bottom+f+2);this.position=="absolute"?(l.style.top=v-n.parent.top+"px",l.style.left=y-n.parent.left+"px"):(l.style.top=v+"px",l.style.left=y+"px"),u&&(u.style.left=`${a.left+(g?m.x:-m.x)-(y+14-7)}px`),s.overlap!==!0&&i.push({left:y,top:v,right:k,bottom:v+d}),l.classList.toggle("cm-tooltip-above",p),l.classList.toggle("cm-tooltip-below",!p),s.positioned&&s.positioned()}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let n of this.manager.tooltipViews)n.dom.style.top=Iu}},{eventHandlers:{scroll(){this.maybeMeasure()}}}),LT=tt.baseTheme({".cm-tooltip":{zIndex:100},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:`${7}px`,width:`${7*2}px`,position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:`${7}px solid transparent`,borderRight:`${7}px solid transparent`},".cm-tooltip-above &":{bottom:`-${7}px`,"&:before":{borderTop:`${7}px solid #bbb`},"&:after":{borderTop:`${7}px solid #f5f5f5`,bottom:"1px"}},".cm-tooltip-below &":{top:`-${7}px`,"&:before":{borderBottom:`${7}px solid #bbb`},"&:after":{borderBottom:`${7}px solid #f5f5f5`,top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),BT={x:0,y:0},Uc=$e.define({enables:[c2,LT]}),Ja=$e.define();class md{constructor(e){this.view=e,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new a2(e,Ja,t=>this.createHostedView(t))}static create(e){return new md(e)}createHostedView(e){let t=e.create(this.view);return t.dom.classList.add("cm-tooltip-section"),this.dom.appendChild(t.dom),this.mounted&&t.mount&&t.mount(this.view),t}mount(e){for(let t of this.manager.tooltipViews)t.mount&&t.mount(e);this.mounted=!0}positioned(){for(let e of this.manager.tooltipViews)e.positioned&&e.positioned()}update(e){this.manager.update(e)}}const FT=Uc.compute([Ja],n=>{let e=n.facet(Ja).filter(t=>t);return e.length===0?null:{pos:Math.min(...e.map(t=>t.pos)),end:Math.max(...e.filter(t=>t.end!=null).map(t=>t.end)),create:md.create,above:e[0].above,arrow:e.some(t=>t.arrow)}});class VT{constructor(e,t,i,r,o){this.view=e,this.source=t,this.field=i,this.setHover=r,this.hoverTime=o,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active)return;let e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{lastMove:e}=this,t=this.view.contentDOM.contains(e.target)?this.view.posAtCoords(e):null;if(t==null)return;let i=this.view.coordsAtPos(t);if(i==null||e.y<i.top||e.y>i.bottom||e.x<i.left-this.view.defaultCharacterWidth||e.x>i.right+this.view.defaultCharacterWidth)return;let r=this.view.bidiSpans(this.view.state.doc.lineAt(t)).find(l=>l.from<=t&&l.to>=t),o=r&&r.dir==cn.RTL?-1:1,s=this.source(this.view,t,e.x<i.left?-o:o);if(s!=null&&s.then){let l=this.pending={pos:t};s.then(a=>{this.pending==l&&(this.pending=null,a&&this.view.dispatch({effects:this.setHover.of(a)}))},a=>pi(this.view.state,a,"hover tooltip"))}else s&&this.view.dispatch({effects:this.setHover.of(s)})}mousemove(e){var t;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let i=this.active;if(i&&!HT(this.lastMove.target)||this.pending){let{pos:r}=i||this.pending,o=(t=i==null?void 0:i.end)!==null&&t!==void 0?t:r;(r==o?this.view.posAtCoords(this.lastMove)!=r:!zT(this.view,r,o,e.clientX,e.clientY,6))&&(this.view.dispatch({effects:this.setHover.of(null)}),this.pending=null)}}mouseleave(){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1,this.active&&this.view.dispatch({effects:this.setHover.of(null)})}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}function HT(n){for(let e=n;e;e=e.parentNode)if(e.nodeType==1&&e.classList.contains("cm-tooltip"))return!0;return!1}function zT(n,e,t,i,r,o){let s=document.createRange(),l=n.domAtPos(e),a=n.domAtPos(t);s.setEnd(a.node,a.offset),s.setStart(l.node,l.offset);let c=s.getClientRects();s.detach();for(let u=0;u<c.length;u++){let f=c[u];if(Math.max(f.top-r,r-f.bottom,f.left-i,i-f.right)<=o)return!0}return!1}function qT(n,e={}){let t=kt.define(),i=Tn.define({create(){return null},update(r,o){if(r&&(e.hideOnChange&&(o.docChanged||o.selection)||e.hideOn&&e.hideOn(o,r)))return null;if(r&&o.docChanged){let s=o.changes.mapPos(r.pos,-1,Gn.TrackDel);if(s==null)return null;let l=Object.assign(Object.create(null),r);l.pos=s,r.end!=null&&(l.end=o.changes.mapPos(r.end)),r=l}for(let s of o.effects)s.is(t)&&(r=s.value),s.is(UT)&&(r=null);return r},provide:r=>Ja.from(r)});return[i,kn.define(r=>new VT(r,n,i,t,e.hoverTime||300)),FT]}function WT(n,e){let t=n.plugin(c2);if(!t)return null;let i=t.manager.tooltips.indexOf(e);return i<0?null:t.manager.tooltipViews[i]}const UT=kt.define(),_g=$e.define({combine(n){let e,t;for(let i of n)e=e||i.topContainer,t=t||i.bottomContainer;return{topContainer:e,bottomContainer:t}}});function sl(n,e){let t=n.plugin(u2),i=t?t.specs.indexOf(e):-1;return i>-1?t.panels[i]:null}const u2=kn.fromClass(class{constructor(n){this.input=n.state.facet(ll),this.specs=this.input.filter(t=>t),this.panels=this.specs.map(t=>t(n));let e=n.state.facet(_g);this.top=new Ql(n,!0,e.topContainer),this.bottom=new Ql(n,!1,e.bottomContainer),this.top.sync(this.panels.filter(t=>t.top)),this.bottom.sync(this.panels.filter(t=>!t.top));for(let t of this.panels)t.dom.classList.add("cm-panel"),t.mount&&t.mount()}update(n){let e=n.state.facet(_g);this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new Ql(n.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new Ql(n.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let t=n.state.facet(ll);if(t!=this.input){let i=t.filter(a=>a),r=[],o=[],s=[],l=[];for(let a of i){let c=this.specs.indexOf(a),u;c<0?(u=a(n.view),l.push(u)):(u=this.panels[c],u.update&&u.update(n)),r.push(u),(u.top?o:s).push(u)}this.specs=i,this.panels=r,this.top.sync(o),this.bottom.sync(s);for(let a of l)a.dom.classList.add("cm-panel"),a.mount&&a.mount()}else for(let i of this.panels)i.update&&i.update(n)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:n=>tt.scrollMargins.of(e=>{let t=e.plugin(n);return t&&{top:t.top.scrollMargin(),bottom:t.bottom.scrollMargin()}})});class Ql{constructor(e,t,i){this.view=e,this.top=t,this.container=i,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let t of this.panels)t.destroy&&e.indexOf(t)<0&&t.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let t=this.container||this.view.dom;t.insertBefore(this.dom,this.top?t.firstChild:null)}let e=this.dom.firstChild;for(let t of this.panels)if(t.dom.parentNode==this.dom){for(;e!=t.dom;)e=kg(e);e=e.nextSibling}else this.dom.insertBefore(t.dom,e);for(;e;)e=kg(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}}function kg(n){let e=n.nextSibling;return n.remove(),e}const ll=$e.define({enables:u2});class or extends go{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}or.prototype.elementClass="";or.prototype.toDOM=void 0;or.prototype.mapMode=Gn.TrackBefore;or.prototype.startSide=or.prototype.endSide=-1;or.prototype.point=!0;const ba=$e.define(),KT={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>zt.empty,lineMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{}},Vs=$e.define();function f2(n){return[h2(),Vs.of(Object.assign(Object.assign({},KT),n))]}const uh=$e.define({combine:n=>n.some(e=>e)});function h2(n){let e=[JT];return n&&n.fixed===!1&&e.push(uh.of(!0)),e}const JT=kn.fromClass(class{constructor(n){this.view=n,this.prevViewport=n.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight+"px",this.gutters=n.state.facet(Vs).map(e=>new Cg(n,e));for(let e of this.gutters)this.dom.appendChild(e.dom);this.fixed=!n.state.facet(uh),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),n.scrollDOM.insertBefore(this.dom,n.contentDOM)}update(n){if(this.updateGutters(n)){let e=this.prevViewport,t=n.view.viewport,i=Math.min(e.to,t.to)-Math.max(e.from,t.from);this.syncGutters(i<(t.to-t.from)*.8)}n.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight+"px"),this.view.state.facet(uh)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=n.view.viewport}syncGutters(n){let e=this.dom.nextSibling;n&&this.dom.remove();let t=zt.iter(this.view.state.facet(ba),this.view.viewport.from),i=[],r=this.gutters.map(o=>new GT(o,this.view.viewport,-this.view.documentPadding.top));for(let o of this.view.viewportLineBlocks){let s;if(Array.isArray(o.type)){for(let l of o.type)if(l.type==Qt.Text){s=l;break}}else s=o.type==Qt.Text?o:void 0;if(!!s){i.length&&(i=[]),d2(t,i,o.from);for(let l of r)l.line(this.view,s,i)}}for(let o of r)o.finish();n&&this.view.scrollDOM.insertBefore(this.dom,e)}updateGutters(n){let e=n.startState.facet(Vs),t=n.state.facet(Vs),i=n.docChanged||n.heightChanged||n.viewportChanged||!zt.eq(n.startState.facet(ba),n.state.facet(ba),n.view.viewport.from,n.view.viewport.to);if(e==t)for(let r of this.gutters)r.update(n)&&(i=!0);else{i=!0;let r=[];for(let o of t){let s=e.indexOf(o);s<0?r.push(new Cg(this.view,o)):(this.gutters[s].update(n),r.push(this.gutters[s]))}for(let o of this.gutters)o.dom.remove(),r.indexOf(o)<0&&o.destroy();for(let o of r)this.dom.appendChild(o.dom);this.gutters=r}return i}destroy(){for(let n of this.gutters)n.destroy();this.dom.remove()}},{provide:n=>tt.scrollMargins.of(e=>{let t=e.plugin(n);return!t||t.gutters.length==0||!t.fixed?null:e.textDirection==cn.LTR?{left:t.dom.offsetWidth}:{right:t.dom.offsetWidth}})});function Sg(n){return Array.isArray(n)?n:[n]}function d2(n,e,t){for(;n.value&&n.from<=t;)n.from==t&&e.push(n.value),n.next()}class GT{constructor(e,t,i){this.gutter=e,this.height=i,this.localMarkers=[],this.i=0,this.cursor=zt.iter(e.markers,t.from)}line(e,t,i){this.localMarkers.length&&(this.localMarkers=[]),d2(this.cursor,this.localMarkers,t.from);let r=i.length?this.localMarkers.concat(i):this.localMarkers,o=this.gutter.config.lineMarker(e,t,r);o&&r.unshift(o);let s=this.gutter;if(r.length==0&&!s.config.renderEmptyElements)return;let l=t.top-this.height;if(this.i==s.elements.length){let a=new m2(e,t.height,l,r);s.elements.push(a),s.dom.appendChild(a.dom)}else s.elements[this.i].update(e,t.height,l,r);this.height=t.bottom,this.i++}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let t=e.elements.pop();e.dom.removeChild(t.dom),t.destroy()}}}class Cg{constructor(e,t){this.view=e,this.config=t,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let i in t.domEventHandlers)this.dom.addEventListener(i,r=>{let o=e.lineBlockAtHeight(r.clientY-e.documentTop);t.domEventHandlers[i](e,o,r)&&r.preventDefault()});this.markers=Sg(t.markers(e)),t.initialSpacer&&(this.spacer=new m2(e,0,0,[t.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let t=this.markers;if(this.markers=Sg(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let r=this.config.updateSpacer(this.spacer.markers[0],e);r!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[r])}let i=e.view.viewport;return!zt.eq(this.markers,t,i.from,i.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(e):!1)}destroy(){for(let e of this.elements)e.destroy()}}class m2{constructor(e,t,i,r){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,t,i,r)}update(e,t,i,r){this.height!=t&&(this.dom.style.height=(this.height=t)+"px"),this.above!=i&&(this.dom.style.marginTop=(this.above=i)?i+"px":""),QT(this.markers,r)||this.setMarkers(e,r)}setMarkers(e,t){let i="cm-gutterElement",r=this.dom.firstChild;for(let o=0,s=0;;){let l=s,a=o<t.length?t[o++]:null,c=!1;if(a){let u=a.elementClass;u&&(i+=" "+u);for(let f=s;f<this.markers.length;f++)if(this.markers[f].compare(a)){l=f,c=!0;break}}else l=this.markers.length;for(;s<l;){let u=this.markers[s++];if(u.toDOM){u.destroy(r);let f=r.nextSibling;r.remove(),r=f}}if(!a)break;a.toDOM&&(c?r=r.nextSibling:this.dom.insertBefore(a.toDOM(e),r)),c&&s++}this.dom.className=i,this.markers=t}destroy(){this.setMarkers(null,[])}}function QT(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(!n[t].compare(e[t]))return!1;return!0}const XT=$e.define(),jo=$e.define({combine(n){return Hi(n,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,t){let i=Object.assign({},e);for(let r in t){let o=i[r],s=t[r];i[r]=o?(l,a,c)=>o(l,a,c)||s(l,a,c):s}return i}})}});class Du extends or{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function Ru(n,e){return n.state.facet(jo).formatNumber(e,n.state)}const YT=Vs.compute([jo],n=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(e){return e.state.facet(XT)},lineMarker(e,t,i){return i.some(r=>r.toDOM)?null:new Du(Ru(e,e.state.doc.lineAt(t.from).number))},lineMarkerChange:e=>e.startState.facet(jo)!=e.state.facet(jo),initialSpacer(e){return new Du(Ru(e,xg(e.state.doc.lines)))},updateSpacer(e,t){let i=Ru(t.view,xg(t.view.state.doc.lines));return i==e.number?e:new Du(i)},domEventHandlers:n.facet(jo).domEventHandlers}));function ZT(n={}){return[jo.of(n),h2(),YT]}function xg(n){let e=9;for(;e<n;)e=e*10+9;return e}const $T=new class extends or{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},eM=ba.compute(["selection"],n=>{let e=[],t=-1;for(let i of n.selection.ranges)if(i.empty){let r=n.doc.lineAt(i.head).from;r>t&&(t=r,e.push($T.range(r)))}return zt.of(e)});function tM(){return eM}const p2=1024;let nM=0;class ju{constructor(e,t){this.from=e,this.to=t}}class Pt{constructor(e={}){this.id=nM++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=li.match(e)),t=>{let i=e(t);return i===void 0?null:[this,i]}}}Pt.closedBy=new Pt({deserialize:n=>n.split(" ")});Pt.openedBy=new Pt({deserialize:n=>n.split(" ")});Pt.group=new Pt({deserialize:n=>n.split(" ")});Pt.contextHash=new Pt({perNode:!0});Pt.lookAhead=new Pt({perNode:!0});Pt.mounted=new Pt({perNode:!0});const iM=Object.create(null);class li{constructor(e,t,i,r=0){this.name=e,this.props=t,this.id=i,this.flags=r}static define(e){let t=e.props&&e.props.length?Object.create(null):iM,i=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),r=new li(e.name||"",t,e.id,i);if(e.props){for(let o of e.props)if(Array.isArray(o)||(o=o(r)),o){if(o[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[o[0].id]=o[1]}}return r}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let t=this.prop(Pt.group);return t?t.indexOf(e)>-1:!1}return this.id==e}static match(e){let t=Object.create(null);for(let i in e)for(let r of i.split(" "))t[r]=e[i];return i=>{for(let r=i.prop(Pt.group),o=-1;o<(r?r.length:0);o++){let s=t[o<0?i.name:r[o]];if(s)return s}}}}li.none=new li("",Object.create(null),0,8);class pd{constructor(e){this.types=e;for(let t=0;t<e.length;t++)if(e[t].id!=t)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let t=[];for(let i of this.types){let r=null;for(let o of e){let s=o(i);s&&(r||(r=Object.assign({},i.props)),r[s[0].id]=s[1])}t.push(r?new li(i.name,r,i.id,i.flags):i)}return new pd(t)}}const Xl=new WeakMap,Og=new WeakMap;var Bn;(function(n){n[n.ExcludeBuffers=1]="ExcludeBuffers",n[n.IncludeAnonymous=2]="IncludeAnonymous",n[n.IgnoreMounts=4]="IgnoreMounts",n[n.IgnoreOverlays=8]="IgnoreOverlays"})(Bn||(Bn={}));class wn{constructor(e,t,i,r,o){if(this.type=e,this.children=t,this.positions=i,this.length=r,this.props=null,o&&o.length){this.props=Object.create(null);for(let[s,l]of o)this.props[typeof s=="number"?s:s.id]=l}}toString(){let e=this.prop(Pt.mounted);if(e&&!e.overlay)return e.tree.toString();let t="";for(let i of this.children){let r=i.toString();r&&(t&&(t+=","),t+=r)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(t.length?"("+t+")":""):t}cursor(e=0){return new Xa(this.topNode,e)}cursorAt(e,t=0,i=0){let r=Xl.get(this)||this.topNode,o=new Xa(r);return o.moveTo(e,t),Xl.set(this,o._tree),o}get topNode(){return new fr(this,0,0,null)}resolve(e,t=0){let i=es(Xl.get(this)||this.topNode,e,t,!1);return Xl.set(this,i),i}resolveInner(e,t=0){let i=es(Og.get(this)||this.topNode,e,t,!0);return Og.set(this,i),i}iterate(e){let{enter:t,leave:i,from:r=0,to:o=this.length}=e;for(let s=this.cursor((e.mode||0)|Bn.IncludeAnonymous);;){let l=!1;if(s.from<=o&&s.to>=r&&(s.type.isAnonymous||t(s)!==!1)){if(s.firstChild())continue;l=!0}for(;l&&i&&!s.type.isAnonymous&&i(s),!s.nextSibling();){if(!s.parent())return;l=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let t in this.props)e.push([+t,this.props[t]]);return e}balance(e={}){return this.children.length<=8?this:vd(li.none,this.children,this.positions,0,this.children.length,0,this.length,(t,i,r)=>new wn(this.type,t,i,r,this.propValues),e.makeTree||((t,i,r)=>new wn(li.none,t,i,r)))}static build(e){return oM(e)}}wn.empty=new wn(li.none,[],[],0);class gd{constructor(e,t){this.buffer=e,this.index=t}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new gd(this.buffer,this.index)}}class Oo{constructor(e,t,i){this.buffer=e,this.length=t,this.set=i}get type(){return li.none}toString(){let e=[];for(let t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}childString(e){let t=this.buffer[e],i=this.buffer[e+3],r=this.set.types[t],o=r.name;if(/\W/.test(o)&&!r.isError&&(o=JSON.stringify(o)),e+=4,i==e)return o;let s=[];for(;e<i;)s.push(this.childString(e)),e=this.buffer[e+3];return o+"("+s.join(",")+")"}findChild(e,t,i,r,o){let{buffer:s}=this,l=-1;for(let a=e;a!=t&&!(g2(o,r,s[a+1],s[a+2])&&(l=a,i>0));a=s[a+3]);return l}slice(e,t,i,r){let o=this.buffer,s=new Uint16Array(t-e);for(let l=e,a=0;l<t;)s[a++]=o[l++],s[a++]=o[l++]-i,s[a++]=o[l++]-i,s[a++]=o[l++]-e;return new Oo(s,r-i,this.set)}}function g2(n,e,t,i){switch(n){case-2:return t<e;case-1:return i>=e&&t<e;case 0:return t<e&&i>e;case 1:return t<=e&&i>e;case 2:return i>e;case 4:return!0}}function y2(n,e){let t=n.childBefore(e);for(;t;){let i=t.lastChild;if(!i||i.to!=t.to)break;i.type.isError&&i.from==i.to?(n=t,t=i.prevSibling):t=i}return n}function es(n,e,t,i){for(var r;n.from==n.to||(t<1?n.from>=e:n.from>e)||(t>-1?n.to<=e:n.to<e);){let s=!i&&n instanceof fr&&n.index<0?null:n.parent;if(!s)return n;n=s}let o=i?0:Bn.IgnoreOverlays;if(i)for(let s=n,l=s.parent;l;s=l,l=s.parent)s instanceof fr&&s.index<0&&((r=l.enter(e,t,o))===null||r===void 0?void 0:r.from)!=s.from&&(n=l);for(;;){let s=n.enter(e,t,o);if(!s)return n;n=s}}class fr{constructor(e,t,i,r){this._tree=e,this.from=t,this.index=i,this._parent=r}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,t,i,r,o=0){for(let s=this;;){for(let{children:l,positions:a}=s._tree,c=t>0?l.length:-1;e!=c;e+=t){let u=l[e],f=a[e]+s.from;if(!!g2(r,i,f,f+u.length)){if(u instanceof Oo){if(o&Bn.ExcludeBuffers)continue;let h=u.findChild(0,u.buffer.length,t,i-f,r);if(h>-1)return new Pr(new rM(s,u,e,f),null,h)}else if(o&Bn.IncludeAnonymous||!u.type.isAnonymous||yd(u)){let h;if(!(o&Bn.IgnoreMounts)&&u.props&&(h=u.prop(Pt.mounted))&&!h.overlay)return new fr(h.tree,f,e,s);let d=new fr(u,f,e,s);return o&Bn.IncludeAnonymous||!d.type.isAnonymous?d:d.nextChild(t<0?u.children.length-1:0,t,i,r)}}}if(o&Bn.IncludeAnonymous||!s.type.isAnonymous||(s.index>=0?e=s.index+t:e=t<0?-1:s._parent._tree.children.length,s=s._parent,!s))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,t,i=0){let r;if(!(i&Bn.IgnoreOverlays)&&(r=this._tree.prop(Pt.mounted))&&r.overlay){let o=e-this.from;for(let{from:s,to:l}of r.overlay)if((t>0?s<=o:s<o)&&(t<0?l>=o:l>o))return new fr(r.tree,r.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,t,i)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}cursor(e=0){return new Xa(this,e)}get tree(){return this._tree}toTree(){return this._tree}resolve(e,t=0){return es(this,e,t,!1)}resolveInner(e,t=0){return es(this,e,t,!0)}enterUnfinishedNodesBefore(e){return y2(this,e)}getChild(e,t=null,i=null){let r=Ga(this,e,t,i);return r.length?r[0]:null}getChildren(e,t=null,i=null){return Ga(this,e,t,i)}toString(){return this._tree.toString()}get node(){return this}matchContext(e){return Qa(this,e)}}function Ga(n,e,t,i){let r=n.cursor(),o=[];if(!r.firstChild())return o;if(t!=null){for(;!r.type.is(t);)if(!r.nextSibling())return o}for(;;){if(i!=null&&r.type.is(i))return o;if(r.type.is(e)&&o.push(r.node),!r.nextSibling())return i==null?o:[]}}function Qa(n,e,t=e.length-1){for(let i=n.parent;t>=0;i=i.parent){if(!i)return!1;if(!i.type.isAnonymous){if(e[t]&&e[t]!=i.name)return!1;t--}}return!0}class rM{constructor(e,t,i,r){this.parent=e,this.buffer=t,this.index=i,this.start=r}}class Pr{constructor(e,t,i){this.context=e,this._parent=t,this.index=i,this.type=e.buffer.set.types[e.buffer.buffer[i]]}get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}child(e,t,i){let{buffer:r}=this.context,o=r.findChild(this.index+4,r.buffer[this.index+3],e,t-this.context.start,i);return o<0?null:new Pr(this.context,this,o)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,t,i=0){if(i&Bn.ExcludeBuffers)return null;let{buffer:r}=this.context,o=r.findChild(this.index+4,r.buffer[this.index+3],t>0?1:-1,e-this.context.start,t);return o<0?null:new Pr(this.context,this,o)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new Pr(this.context,this._parent,t):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new Pr(this.context,this._parent,e.findChild(t,this.index,-1,0,4))}cursor(e=0){return new Xa(this,e)}get tree(){return null}toTree(){let e=[],t=[],{buffer:i}=this.context,r=this.index+4,o=i.buffer[this.index+3];if(o>r){let s=i.buffer[this.index+1],l=i.buffer[this.index+2];e.push(i.slice(r,o,s,l)),t.push(0)}return new wn(this.type,e,t,this.to-this.from)}resolve(e,t=0){return es(this,e,t,!1)}resolveInner(e,t=0){return es(this,e,t,!0)}enterUnfinishedNodesBefore(e){return y2(this,e)}toString(){return this.context.buffer.childString(this.index)}getChild(e,t=null,i=null){let r=Ga(this,e,t,i);return r.length?r[0]:null}getChildren(e,t=null,i=null){return Ga(this,e,t,i)}get node(){return this}matchContext(e){return Qa(this,e)}}class Xa{constructor(e,t=0){if(this.mode=t,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof fr)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let i=e._parent;i;i=i._parent)this.stack.unshift(i.index);this.bufferNode=e,this.yieldBuf(e.index)}}get name(){return this.type.name}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,t){this.index=e;let{start:i,buffer:r}=this.buffer;return this.type=t||r.set.types[r.buffer[e]],this.from=i+r.buffer[e+1],this.to=i+r.buffer[e+2],!0}yield(e){return e?e instanceof fr?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,t,i){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,t,i,this.mode));let{buffer:r}=this.buffer,o=r.findChild(this.index+4,r.buffer[this.index+3],e,t-this.buffer.start,i);return o<0?!1:(this.stack.push(this.index),this.yieldBuf(o))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,t,i=this.mode){return this.buffer?i&Bn.ExcludeBuffers?!1:this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,i))}parent(){if(!this.buffer)return this.yieldNode(this.mode&Bn.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&Bn.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:t}=this.buffer,i=this.stack.length-1;if(e<0){let r=i<0?0:this.stack[i]+4;if(this.index!=r)return this.yieldBuf(t.findChild(r,this.index,-1,0,4))}else{let r=t.buffer[this.index+3];if(r<(i<0?t.buffer.length:t.buffer[this.stack[i]+3]))return this.yieldBuf(r)}return i<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let t,i,{buffer:r}=this;if(r){if(e>0){if(this.index<r.buffer.buffer.length)return!1}else for(let o=0;o<this.index;o++)if(r.buffer.buffer[o+3]<this.index)return!1;({index:t,parent:i}=r)}else({index:t,_parent:i}=this._tree);for(;i;{index:t,_parent:i}=i)if(t>-1)for(let o=t+e,s=e<0?-1:i._tree.children.length;o!=s;o+=e){let l=i._tree.children[o];if(this.mode&Bn.IncludeAnonymous||l instanceof Oo||!l.type.isAnonymous||yd(l))return!1}return!0}move(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,t=0){for(;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,t=null,i=0;if(e&&e.context==this.buffer){e:for(let r=this.index,o=this.stack.length;o>=0;){for(let s=e;s;s=s._parent)if(s.index==r){if(r==this.index)return s;t=s,i=o+1;break e}r=this.stack[--o]}}for(let r=i;r<this.stack.length;r++)t=new Pr(this.buffer,t,this.stack[r]);return this.bufferNode=new Pr(this.buffer,t,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,t){for(let i=0;;){let r=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){i++;continue}this.type.isAnonymous||(r=!0)}for(;r&&t&&t(this),r=this.type.isAnonymous,!this.nextSibling();){if(!i)return;this.parent(),i--,r=!0}}}matchContext(e){if(!this.buffer)return Qa(this.node,e);let{buffer:t}=this.buffer,{types:i}=t.set;for(let r=e.length-1,o=this.stack.length-1;r>=0;o--){if(o<0)return Qa(this.node,e,r);let s=i[t.buffer[this.stack[o]]];if(!s.isAnonymous){if(e[r]&&e[r]!=s.name)return!1;r--}}return!0}}function yd(n){return n.children.some(e=>e instanceof Oo||!e.type.isAnonymous||yd(e))}function oM(n){var e;let{buffer:t,nodeSet:i,maxBufferLength:r=p2,reused:o=[],minRepeatType:s=i.types.length}=n,l=Array.isArray(t)?new gd(t,t.length):t,a=i.types,c=0,u=0;function f(b,S,O,I,L){let{id:P,start:D,end:H,size:F}=l,q=u;for(;F<0;)if(l.next(),F==-1){let le=o[P];O.push(le),I.push(D-b);return}else if(F==-3){c=P;return}else if(F==-4){u=P;return}else throw new RangeError(`Unrecognized record size: ${F}`);let U=a[P],B,Q,re=D-b;if(H-D<=r&&(Q=g(l.pos-S,L))){let le=new Uint16Array(Q.size-Q.skip),x=l.pos-Q.size,N=le.length;for(;l.pos>x;)N=y(Q.start,le,N);B=new Oo(le,H-Q.start,i),re=Q.start-b}else{let le=l.pos-F;l.next();let x=[],N=[],ie=P>=s?P:-1,ne=0,z=H;for(;l.pos>le;)ie>=0&&l.id==ie&&l.size>=0?(l.end<=z-r&&(d(x,N,D,ne,l.end,z,ie,q),ne=x.length,z=l.end),l.next()):f(D,le,x,N,ie);if(ie>=0&&ne>0&&ne<x.length&&d(x,N,D,ne,D,z,ie,q),x.reverse(),N.reverse(),ie>-1&&ne>0){let w=h(U);B=vd(U,x,N,0,x.length,0,H-D,w,w)}else B=m(U,x,N,H-D,q-H)}O.push(B),I.push(re)}function h(b){return(S,O,I)=>{let L=0,P=S.length-1,D,H;if(P>=0&&(D=S[P])instanceof wn){if(!P&&D.type==b&&D.length==I)return D;(H=D.prop(Pt.lookAhead))&&(L=O[P]+D.length+H)}return m(b,S,O,I,L)}}function d(b,S,O,I,L,P,D,H){let F=[],q=[];for(;b.length>I;)F.push(b.pop()),q.push(S.pop()+O-L);b.push(m(i.types[D],F,q,P-L,H-P)),S.push(L-O)}function m(b,S,O,I,L=0,P){if(c){let D=[Pt.contextHash,c];P=P?[D].concat(P):[D]}if(L>25){let D=[Pt.lookAhead,L];P=P?[D].concat(P):[D]}return new wn(b,S,O,I,P)}function g(b,S){let O=l.fork(),I=0,L=0,P=0,D=O.end-r,H={size:0,start:0,skip:0};e:for(let F=O.pos-b;O.pos>F;){let q=O.size;if(O.id==S&&q>=0){H.size=I,H.start=L,H.skip=P,P+=4,I+=4,O.next();continue}let U=O.pos-q;if(q<0||U<F||O.start<D)break;let B=O.id>=s?4:0,Q=O.start;for(O.next();O.pos>U;){if(O.size<0)if(O.size==-3)B+=4;else break e;else O.id>=s&&(B+=4);O.next()}L=Q,I+=q,P+=B}return(S<0||I==b)&&(H.size=I,H.start=L,H.skip=P),H.size>4?H:void 0}function y(b,S,O){let{id:I,start:L,end:P,size:D}=l;if(l.next(),D>=0&&I<s){let H=O;if(D>4){let F=l.pos-(D-4);for(;l.pos>F;)O=y(b,S,O)}S[--O]=H,S[--O]=P-b,S[--O]=L-b,S[--O]=I}else D==-3?c=I:D==-4&&(u=I);return O}let p=[],v=[];for(;l.pos>0;)f(n.start||0,n.bufferStart||0,p,v,-1);let k=(e=n.length)!==null&&e!==void 0?e:p.length?v[0]+p[0].length:0;return new wn(a[n.topID],p.reverse(),v.reverse(),k)}const Eg=new WeakMap;function wa(n,e){if(!n.isAnonymous||e instanceof Oo||e.type!=n)return 1;let t=Eg.get(e);if(t==null){t=1;for(let i of e.children){if(i.type!=n||!(i instanceof wn)){t=1;break}t+=wa(n,i)}Eg.set(e,t)}return t}function vd(n,e,t,i,r,o,s,l,a){let c=0;for(let m=i;m<r;m++)c+=wa(n,e[m]);let u=Math.ceil(c*1.5/8),f=[],h=[];function d(m,g,y,p,v){for(let k=y;k<p;){let b=k,S=g[k],O=wa(n,m[k]);for(k++;k<p;k++){let I=wa(n,m[k]);if(O+I>=u)break;O+=I}if(k==b+1){if(O>u){let I=m[b];d(I.children,I.positions,0,I.children.length,g[b]+v);continue}f.push(m[b])}else{let I=g[k-1]+m[k-1].length-S;f.push(vd(n,m,g,b,k,S,I,null,a))}h.push(S+v-o)}}return d(e,t,i,r,0),(l||a)(f,h,s)}class so{constructor(e,t,i,r,o=!1,s=!1){this.from=e,this.to=t,this.tree=i,this.offset=r,this.open=(o?1:0)|(s?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,t=[],i=!1){let r=[new so(0,e.length,e,0,!1,i)];for(let o of t)o.to>e.length&&r.push(o);return r}static applyChanges(e,t,i=128){if(!t.length)return e;let r=[],o=1,s=e.length?e[0]:null;for(let l=0,a=0,c=0;;l++){let u=l<t.length?t[l]:null,f=u?u.fromA:1e9;if(f-a>=i)for(;s&&s.from<f;){let h=s;if(a>=h.from||f<=h.to||c){let d=Math.max(h.from,a)-c,m=Math.min(h.to,f)-c;h=d>=m?null:new so(d,m,h.tree,h.offset+c,l>0,!!u)}if(h&&r.push(h),s.to>f)break;s=o<e.length?e[o++]:null}if(!u)break;a=u.toA,c=u.toA-u.toB}return r}}class v2{startParse(e,t,i){return typeof e=="string"&&(e=new sM(e)),i=i?i.length?i.map(r=>new ju(r.from,r.to)):[new ju(0,0)]:[new ju(0,e.length)],this.createParse(e,t||[],i)}parse(e,t,i){let r=this.startParse(e,t,i);for(;;){let o=r.advance();if(o)return o}}}class sM{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,t){return this.string.slice(e,t)}}new Pt({perNode:!0});let lM=0;class Qi{constructor(e,t,i){this.set=e,this.base=t,this.modified=i,this.id=lM++}static define(e){if(e!=null&&e.base)throw new Error("Can not derive from a modified tag");let t=new Qi([],null,[]);if(t.set.push(t),e)for(let i of e.set)t.set.push(i);return t}static defineModifier(){let e=new Ya;return t=>t.modified.indexOf(e)>-1?t:Ya.get(t.base||t,t.modified.concat(e).sort((i,r)=>i.id-r.id))}}let aM=0;class Ya{constructor(){this.instances=[],this.id=aM++}static get(e,t){if(!t.length)return e;let i=t[0].instances.find(l=>l.base==e&&cM(t,l.modified));if(i)return i;let r=[],o=new Qi(r,e,t);for(let l of t)l.instances.push(o);let s=b2(t);for(let l of e.set)for(let a of s)r.push(Ya.get(l,a));return o}}function cM(n,e){return n.length==e.length&&n.every((t,i)=>t==e[i])}function b2(n){let e=[n];for(let t=0;t<n.length;t++)for(let i of b2(n.slice(0,t).concat(n.slice(t+1))))e.push(i);return e}function w2(n){let e=Object.create(null);for(let t in n){let i=n[t];Array.isArray(i)||(i=[i]);for(let r of t.split(" "))if(r){let o=[],s=2,l=r;for(let f=0;;){if(l=="..."&&f>0&&f+3==r.length){s=1;break}let h=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(l);if(!h)throw new RangeError("Invalid path: "+r);if(o.push(h[0]=="*"?"":h[0][0]=='"'?JSON.parse(h[0]):h[0]),f+=h[0].length,f==r.length)break;let d=r[f++];if(f==r.length&&d=="!"){s=0;break}if(d!="/")throw new RangeError("Invalid path: "+r);l=r.slice(f)}let a=o.length-1,c=o[a];if(!c)throw new RangeError("Invalid path: "+r);let u=new uM(i,s,a>0?o.slice(0,a):null);e[c]=u.sort(e[c])}}return _2.add(e)}const _2=new Pt;class uM{constructor(e,t,i,r){this.tags=e,this.mode=t,this.context=i,this.next=r}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}function k2(n,e){let t=Object.create(null);for(let o of n)if(!Array.isArray(o.tag))t[o.tag.id]=o.class;else for(let s of o.tag)t[s.id]=o.class;let{scope:i,all:r=null}=e||{};return{style:o=>{let s=r;for(let l of o)for(let a of l.set){let c=t[a.id];if(c){s=s?s+" "+c:c;break}}return s},scope:i}}function fM(n,e){let t=null;for(let i of n){let r=i.style(e);r&&(t=t?t+" "+r:r)}return t}function hM(n,e,t,i=0,r=n.length){let o=new dM(i,Array.isArray(e)?e:[e],t);o.highlightRange(n.cursor(),i,r,"",o.highlighters),o.flush(r)}class dM{constructor(e,t,i){this.at=e,this.highlighters=t,this.span=i,this.class=""}startSpan(e,t){t!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=t)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,t,i,r,o){let{type:s,from:l,to:a}=e;if(l>=i||a<=t)return;s.isTop&&(o=this.highlighters.filter(d=>!d.scope||d.scope(s)));let c=r,u=s.prop(_2),f=!1;for(;u;){if(!u.context||e.matchContext(u.context)){let d=fM(o,u.tags);d&&(c&&(c+=" "),c+=d,u.mode==1?r+=(r?" ":"")+d:u.mode==0&&(f=!0));break}u=u.next}if(this.startSpan(e.from,c),f)return;let h=e.tree&&e.tree.prop(Pt.mounted);if(h&&h.overlay){let d=e.node.enter(h.overlay[0].from+l,1),m=this.highlighters.filter(y=>!y.scope||y.scope(h.tree.type)),g=e.firstChild();for(let y=0,p=l;;y++){let v=y<h.overlay.length?h.overlay[y]:null,k=v?v.from+l:a,b=Math.max(t,p),S=Math.min(i,k);if(b<S&&g)for(;e.from<S&&(this.highlightRange(e,b,S,r,o),this.startSpan(Math.min(i,e.to),c),!(e.to>=k||!e.nextSibling())););if(!v||k>i)break;p=v.to+l,p>t&&(this.highlightRange(d.cursor(),Math.max(t,v.from+l),Math.min(i,p),r,m),this.startSpan(p,c))}g&&e.parent()}else if(e.firstChild()){do if(!(e.to<=t)){if(e.from>=i)break;this.highlightRange(e,t,i,r,o),this.startSpan(Math.min(i,e.to),c)}while(e.nextSibling());e.parent()}}}const Ve=Qi.define,Yl=Ve(),_r=Ve(),Tg=Ve(_r),Mg=Ve(_r),kr=Ve(),Zl=Ve(kr),Lu=Ve(kr),Gi=Ve(),Gr=Ve(Gi),Ui=Ve(),Ki=Ve(),fh=Ve(),_s=Ve(fh),$l=Ve(),De={comment:Yl,lineComment:Ve(Yl),blockComment:Ve(Yl),docComment:Ve(Yl),name:_r,variableName:Ve(_r),typeName:Tg,tagName:Ve(Tg),propertyName:Mg,attributeName:Ve(Mg),className:Ve(_r),labelName:Ve(_r),namespace:Ve(_r),macroName:Ve(_r),literal:kr,string:Zl,docString:Ve(Zl),character:Ve(Zl),attributeValue:Ve(Zl),number:Lu,integer:Ve(Lu),float:Ve(Lu),bool:Ve(kr),regexp:Ve(kr),escape:Ve(kr),color:Ve(kr),url:Ve(kr),keyword:Ui,self:Ve(Ui),null:Ve(Ui),atom:Ve(Ui),unit:Ve(Ui),modifier:Ve(Ui),operatorKeyword:Ve(Ui),controlKeyword:Ve(Ui),definitionKeyword:Ve(Ui),moduleKeyword:Ve(Ui),operator:Ki,derefOperator:Ve(Ki),arithmeticOperator:Ve(Ki),logicOperator:Ve(Ki),bitwiseOperator:Ve(Ki),compareOperator:Ve(Ki),updateOperator:Ve(Ki),definitionOperator:Ve(Ki),typeOperator:Ve(Ki),controlOperator:Ve(Ki),punctuation:fh,separator:Ve(fh),bracket:_s,angleBracket:Ve(_s),squareBracket:Ve(_s),paren:Ve(_s),brace:Ve(_s),content:Gi,heading:Gr,heading1:Ve(Gr),heading2:Ve(Gr),heading3:Ve(Gr),heading4:Ve(Gr),heading5:Ve(Gr),heading6:Ve(Gr),contentSeparator:Ve(Gi),list:Ve(Gi),quote:Ve(Gi),emphasis:Ve(Gi),strong:Ve(Gi),link:Ve(Gi),monospace:Ve(Gi),strikethrough:Ve(Gi),inserted:Ve(),deleted:Ve(),changed:Ve(),invalid:Ve(),meta:$l,documentMeta:Ve($l),annotation:Ve($l),processingInstruction:Ve($l),definition:Qi.defineModifier(),constant:Qi.defineModifier(),function:Qi.defineModifier(),standard:Qi.defineModifier(),local:Qi.defineModifier(),special:Qi.defineModifier()};k2([{tag:De.link,class:"tok-link"},{tag:De.heading,class:"tok-heading"},{tag:De.emphasis,class:"tok-emphasis"},{tag:De.strong,class:"tok-strong"},{tag:De.keyword,class:"tok-keyword"},{tag:De.atom,class:"tok-atom"},{tag:De.bool,class:"tok-bool"},{tag:De.url,class:"tok-url"},{tag:De.labelName,class:"tok-labelName"},{tag:De.inserted,class:"tok-inserted"},{tag:De.deleted,class:"tok-deleted"},{tag:De.literal,class:"tok-literal"},{tag:De.string,class:"tok-string"},{tag:De.number,class:"tok-number"},{tag:[De.regexp,De.escape,De.special(De.string)],class:"tok-string2"},{tag:De.variableName,class:"tok-variableName"},{tag:De.local(De.variableName),class:"tok-variableName tok-local"},{tag:De.definition(De.variableName),class:"tok-variableName tok-definition"},{tag:De.special(De.variableName),class:"tok-variableName2"},{tag:De.definition(De.propertyName),class:"tok-propertyName tok-definition"},{tag:De.typeName,class:"tok-typeName"},{tag:De.namespace,class:"tok-namespace"},{tag:De.className,class:"tok-className"},{tag:De.macroName,class:"tok-macroName"},{tag:De.propertyName,class:"tok-propertyName"},{tag:De.operator,class:"tok-operator"},{tag:De.comment,class:"tok-comment"},{tag:De.meta,class:"tok-meta"},{tag:De.invalid,class:"tok-invalid"},{tag:De.punctuation,class:"tok-punctuation"}]);var Bu;const al=new Pt;function mM(n){return $e.define({combine:n?e=>e.concat(n):void 0})}class Ii{constructor(e,t,i=[]){this.data=e,Ot.prototype.hasOwnProperty("tree")||Object.defineProperty(Ot.prototype,"tree",{get(){return Kn(this)}}),this.parser=t,this.extension=[qr.of(this),Ot.languageData.of((r,o,s)=>r.facet(Ag(r,o,s)))].concat(i)}isActiveAt(e,t,i=-1){return Ag(e,t,i)==this.data}findRegions(e){let t=e.facet(qr);if((t==null?void 0:t.data)==this.data)return[{from:0,to:e.doc.length}];if(!t||!t.allowsNesting)return[];let i=[],r=(o,s)=>{if(o.prop(al)==this.data){i.push({from:s,to:s+o.length});return}let l=o.prop(Pt.mounted);if(l){if(l.tree.prop(al)==this.data){if(l.overlay)for(let a of l.overlay)i.push({from:a.from+s,to:a.to+s});else i.push({from:s,to:s+o.length});return}else if(l.overlay){let a=i.length;if(r(l.tree,l.overlay[0].from+s),i.length>a)return}}for(let a=0;a<o.children.length;a++){let c=o.children[a];c instanceof wn&&r(c,o.positions[a]+s)}};return r(Kn(e),0),i}get allowsNesting(){return!0}}Ii.setState=kt.define();function Ag(n,e,t){let i=n.facet(qr);if(!i)return null;let r=i.data;if(i.allowsNesting)for(let o=Kn(n).topNode;o;o=o.enter(e,t,Bn.ExcludeBuffers))r=o.type.prop(al)||r;return r}class Za extends Ii{constructor(e,t){super(e,t),this.parser=t}static define(e){let t=mM(e.languageData);return new Za(t,e.parser.configure({props:[al.add(i=>i.isTop?t:void 0)]}))}configure(e){return new Za(this.data,this.parser.configure(e))}get allowsNesting(){return this.parser.hasWrappers()}}function Kn(n){let e=n.field(Ii.state,!1);return e?e.tree:wn.empty}class pM{constructor(e,t=e.length){this.doc=e,this.length=t,this.cursorPos=0,this.string="",this.cursor=e.iter()}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,t){let i=this.cursorPos-this.string.length;return e<i||t>=this.cursorPos?this.doc.sliceString(e,t):this.string.slice(e-i,t-i)}}let ks=null;class $a{constructor(e,t,i=[],r,o,s,l,a){this.parser=e,this.state=t,this.fragments=i,this.tree=r,this.treeLen=o,this.viewport=s,this.skipped=l,this.scheduleOn=a,this.parse=null,this.tempSkipped=[]}static create(e,t,i){return new $a(e,t,[],wn.empty,0,i,[],null)}startParse(){return this.parser.startParse(new pM(this.state.doc),this.fragments)}work(e,t){return t!=null&&t>=this.state.doc.length&&(t=void 0),this.tree!=wn.empty&&this.isDone(t!=null?t:this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var i;if(typeof e=="number"){let r=Date.now()+e;e=()=>Date.now()>r}for(this.parse||(this.parse=this.startParse()),t!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>t)&&t<this.state.doc.length&&this.parse.stopAt(t);;){let r=this.parse.advance();if(r)if(this.fragments=this.withoutTempSkipped(so.addTree(r,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(i=this.parse.stoppedAt)!==null&&i!==void 0?i:this.state.doc.length,this.tree=r,this.parse=null,this.treeLen<(t!=null?t:this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,t;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(t=this.parse.advance()););}),this.treeLen=e,this.tree=t,this.fragments=this.withoutTempSkipped(so.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let t=ks;ks=this;try{return e()}finally{ks=t}}withoutTempSkipped(e){for(let t;t=this.tempSkipped.pop();)e=Pg(e,t.from,t.to);return e}changes(e,t){let{fragments:i,tree:r,treeLen:o,viewport:s,skipped:l}=this;if(this.takeTree(),!e.empty){let a=[];if(e.iterChangedRanges((c,u,f,h)=>a.push({fromA:c,toA:u,fromB:f,toB:h})),i=so.applyChanges(i,a),r=wn.empty,o=0,s={from:e.mapPos(s.from,-1),to:e.mapPos(s.to,1)},this.skipped.length){l=[];for(let c of this.skipped){let u=e.mapPos(c.from,1),f=e.mapPos(c.to,-1);u<f&&l.push({from:u,to:f})}}}return new $a(this.parser,t,i,r,o,s,l,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let t=this.skipped.length;for(let i=0;i<this.skipped.length;i++){let{from:r,to:o}=this.skipped[i];r<e.to&&o>e.from&&(this.fragments=Pg(this.fragments,r,o),this.skipped.splice(i--,1))}return this.skipped.length>=t?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,t){this.skipped.push({from:e,to:t})}static getSkippingParser(e){return new class extends v2{createParse(t,i,r){let o=r[0].from,s=r[r.length-1].to;return{parsedPos:o,advance(){let a=ks;if(a){for(let c of r)a.tempSkipped.push(c);e&&(a.scheduleOn=a.scheduleOn?Promise.all([a.scheduleOn,e]):e)}return this.parsedPos=s,new wn(li.none,[],[],s-o)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let t=this.fragments;return this.treeLen>=e&&t.length&&t[0].from==0&&t[0].to>=e}static get(){return ks}}function Pg(n,e,t){return so.applyChanges(n,[{fromA:e,toA:t,fromB:e,toB:t}])}class ts{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let t=this.context.changes(e.changes,e.state),i=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),t.viewport.to);return t.work(20,i)||t.takeTree(),new ts(t)}static init(e){let t=Math.min(3e3,e.doc.length),i=$a.create(e.facet(qr).parser,e,{from:0,to:t});return i.work(20,t)||i.takeTree(),new ts(i)}}Ii.state=Tn.define({create:ts.init,update(n,e){for(let t of e.effects)if(t.is(Ii.setState))return t.value;return e.startState.facet(qr)!=e.state.facet(qr)?ts.init(e.state):n.apply(e)}});let S2=n=>{let e=setTimeout(()=>n(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(S2=n=>{let e=-1,t=setTimeout(()=>{e=requestIdleCallback(n,{timeout:500-100})},100);return()=>e<0?clearTimeout(t):cancelIdleCallback(e)});const Fu=typeof navigator<"u"&&((Bu=navigator.scheduling)===null||Bu===void 0?void 0:Bu.isInputPending)?()=>navigator.scheduling.isInputPending():null,gM=kn.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let t=this.view.state.field(Ii.state).context;(t.updateViewport(e.view.viewport)||this.view.viewport.to>t.treeLen)&&this.scheduleWork(),e.docChanged&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(t)}scheduleWork(){if(this.working)return;let{state:e}=this.view,t=e.field(Ii.state);(t.tree!=t.context.tree||!t.context.isDone(e.doc.length))&&(this.working=S2(this.work))}work(e){this.working=null;let t=Date.now();if(this.chunkEnd<t&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=t+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:i,viewport:{to:r}}=this.view,o=i.field(Ii.state);if(o.tree==o.context.tree&&o.context.isDone(r+1e5))return;let s=Date.now()+Math.min(this.chunkBudget,100,e&&!Fu?Math.max(25,e.timeRemaining()-5):1e9),l=o.context.treeLen<r&&i.doc.length>r+1e3,a=o.context.work(()=>Fu&&Fu()||Date.now()>s,r+(l?0:1e5));this.chunkBudget-=Date.now()-t,(a||this.chunkBudget<=0)&&(o.context.takeTree(),this.view.dispatch({effects:Ii.setState.of(new ts(o.context))})),this.chunkBudget>0&&!(a&&!l)&&this.scheduleWork(),this.checkAsyncSchedule(o.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(t=>pi(this.view.state,t)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),qr=$e.define({combine(n){return n.length?n[0]:null},enables:[Ii.state,gM]});class yM{constructor(e,t=[]){this.language=e,this.support=t,this.extension=[e,t]}}const vM=$e.define(),Kc=$e.define({combine:n=>{if(!n.length)return"  ";if(!/^(?: +|\t+)$/.test(n[0]))throw new Error("Invalid indent unit: "+JSON.stringify(n[0]));return n[0]}});function ec(n){let e=n.facet(Kc);return e.charCodeAt(0)==9?n.tabSize*e.length:e.length}function cl(n,e){let t="",i=n.tabSize;if(n.facet(Kc).charCodeAt(0)==9)for(;e>=i;)t+="	",e-=i;for(let r=0;r<e;r++)t+=" ";return t}function bd(n,e){n instanceof Ot&&(n=new Jc(n));for(let i of n.state.facet(vM)){let r=i(n,e);if(r!=null)return r}let t=Kn(n.state);return t?bM(n,t,e):null}class Jc{constructor(e,t={}){this.state=e,this.options=t,this.unit=ec(e)}lineAt(e,t=1){let i=this.state.doc.lineAt(e),{simulateBreak:r,simulateDoubleBreak:o}=this.options;return r!=null&&r>=i.from&&r<=i.to?o&&r==e?{text:"",from:e}:(t<0?r<e:r<=e)?{text:i.text.slice(r-i.from),from:r}:{text:i.text.slice(0,r-i.from),from:i.from}:i}textAfterPos(e,t=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:i,from:r}=this.lineAt(e,t);return i.slice(e-r,Math.min(i.length,e+100-r))}column(e,t=1){let{text:i,from:r}=this.lineAt(e,t),o=this.countColumn(i,e-r),s=this.options.overrideIndentation?this.options.overrideIndentation(r):-1;return s>-1&&(o+=s-this.countColumn(i,i.search(/\S|$/))),o}countColumn(e,t=e.length){return _l(e,this.state.tabSize,t)}lineIndent(e,t=1){let{text:i,from:r}=this.lineAt(e,t),o=this.options.overrideIndentation;if(o){let s=o(r);if(s>-1)return s}return this.countColumn(i,i.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const C2=new Pt;function bM(n,e,t){return x2(e.resolveInner(t).enterUnfinishedNodesBefore(t),t,n)}function wM(n){return n.pos==n.options.simulateBreak&&n.options.simulateDoubleBreak}function _M(n){let e=n.type.prop(C2);if(e)return e;let t=n.firstChild,i;if(t&&(i=t.type.prop(Pt.closedBy))){let r=n.lastChild,o=r&&i.indexOf(r.name)>-1;return s=>xM(s,!0,1,void 0,o&&!wM(s)?r.from:void 0)}return n.parent==null?kM:null}function x2(n,e,t){for(;n;n=n.parent){let i=_M(n);if(i)return i(wd.create(t,e,n))}return null}function kM(){return 0}class wd extends Jc{constructor(e,t,i){super(e.state,e.options),this.base=e,this.pos=t,this.node=i}static create(e,t,i){return new wd(e,t,i)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){let e=this.state.doc.lineAt(this.node.from);for(;;){let t=this.node.resolve(e.from);for(;t.parent&&t.parent.from==t.from;)t=t.parent;if(SM(t,this.node))break;e=this.state.doc.lineAt(t.from)}return this.lineIndent(e.from)}continue(){let e=this.node.parent;return e?x2(e,this.pos,this.base):0}}function SM(n,e){for(let t=e;t;t=t.parent)if(n==t)return!0;return!1}function CM(n){let e=n.node,t=e.childAfter(e.from),i=e.lastChild;if(!t)return null;let r=n.options.simulateBreak,o=n.state.doc.lineAt(t.from),s=r==null||r<=o.from?o.to:Math.min(o.to,r);for(let l=t.to;;){let a=e.childAfter(l);if(!a||a==i)return null;if(!a.type.isSkipped)return a.from<s?t:null;l=a.to}}function xM(n,e,t,i,r){let o=n.textAfter,s=o.match(/^\s*/)[0].length,l=i&&o.slice(s,s+i.length)==i||r==n.pos+s,a=e?CM(n):null;return a?l?n.column(a.from):n.column(a.to):n.baseIndent+(l?0:n.unit*t)}function Ig({except:n,units:e=1}={}){return t=>{let i=n&&n.test(t.textAfter);return t.baseIndent+(i?0:e*t.unit)}}const OM=200;function EM(){return Ot.transactionFilter.of(n=>{if(!n.docChanged||!n.isUserEvent("input.type")&&!n.isUserEvent("input.complete"))return n;let e=n.startState.languageDataAt("indentOnInput",n.startState.selection.main.head);if(!e.length)return n;let t=n.newDoc,{head:i}=n.newSelection.main,r=t.lineAt(i);if(i>r.from+OM)return n;let o=t.sliceString(r.from,i);if(!e.some(c=>c.test(o)))return n;let{state:s}=n,l=-1,a=[];for(let{head:c}of s.selection.ranges){let u=s.doc.lineAt(c);if(u.from==l)continue;l=u.from;let f=bd(s,u.from);if(f==null)continue;let h=/^\s*/.exec(u.text)[0],d=cl(s,f);h!=d&&a.push({from:u.from,to:u.from+h.length,insert:d})}return a.length?[n,{changes:a,sequential:!0}]:n})}const TM=$e.define(),O2=new Pt;function MM(n){let e=n.firstChild,t=n.lastChild;return e&&e.to<t.from?{from:e.to,to:t.type.isError?n.to:t.from}:null}function AM(n,e,t){let i=Kn(n);if(i.length<t)return null;let r=i.resolveInner(t),o=null;for(let s=r;s;s=s.parent){if(s.to<=t||s.from>t)continue;if(o&&s.from<e)break;let l=s.type.prop(O2);if(l&&(s.to<i.length-50||i.length==n.doc.length||!PM(s))){let a=l(s,n);a&&a.from<=t&&a.from>=e&&a.to>t&&(o=a)}}return o}function PM(n){let e=n.lastChild;return e&&e.to==n.to&&e.type.isError}function tc(n,e,t){for(let i of n.facet(TM)){let r=i(n,e,t);if(r)return r}return AM(n,e,t)}function E2(n,e){let t=e.mapPos(n.from,1),i=e.mapPos(n.to,-1);return t>=i?void 0:{from:t,to:i}}const Gc=kt.define({map:E2}),Sl=kt.define({map:E2});function T2(n){let e=[];for(let{head:t}of n.state.selection.ranges)e.some(i=>i.from<=t&&i.to>=t)||e.push(n.lineBlockAt(t));return e}const vo=Tn.define({create(){return ct.none},update(n,e){n=n.map(e.changes);for(let t of e.effects)t.is(Gc)&&!IM(n,t.value.from,t.value.to)?n=n.update({add:[Ng.range(t.value.from,t.value.to)]}):t.is(Sl)&&(n=n.update({filter:(i,r)=>t.value.from!=i||t.value.to!=r,filterFrom:t.value.from,filterTo:t.value.to}));if(e.selection){let t=!1,{head:i}=e.selection.main;n.between(i,i,(r,o)=>{r<i&&o>i&&(t=!0)}),t&&(n=n.update({filterFrom:i,filterTo:i,filter:(r,o)=>o<=i||r>=i}))}return n},provide:n=>tt.decorations.from(n),toJSON(n,e){let t=[];return n.between(0,e.doc.length,(i,r)=>{t.push(i,r)}),t},fromJSON(n){if(!Array.isArray(n)||n.length%2)throw new RangeError("Invalid JSON for fold state");let e=[];for(let t=0;t<n.length;){let i=n[t++],r=n[t++];if(typeof i!="number"||typeof r!="number")throw new RangeError("Invalid JSON for fold state");e.push(Ng.range(i,r))}return ct.set(e,!0)}});function nc(n,e,t){var i;let r=null;return(i=n.field(vo,!1))===null||i===void 0||i.between(e,t,(o,s)=>{(!r||r.from>o)&&(r={from:o,to:s})}),r}function IM(n,e,t){let i=!1;return n.between(e,e,(r,o)=>{r==e&&o==t&&(i=!0)}),i}function M2(n,e){return n.field(vo,!1)?e:e.concat(kt.appendConfig.of(I2()))}const NM=n=>{for(let e of T2(n)){let t=tc(n.state,e.from,e.to);if(t)return n.dispatch({effects:M2(n.state,[Gc.of(t),A2(n,t)])}),!0}return!1},DM=n=>{if(!n.state.field(vo,!1))return!1;let e=[];for(let t of T2(n)){let i=nc(n.state,t.from,t.to);i&&e.push(Sl.of(i),A2(n,i,!1))}return e.length&&n.dispatch({effects:e}),e.length>0};function A2(n,e,t=!0){let i=n.state.doc.lineAt(e.from).number,r=n.state.doc.lineAt(e.to).number;return tt.announce.of(`${n.state.phrase(t?"Folded lines":"Unfolded lines")} ${i} ${n.state.phrase("to")} ${r}.`)}const RM=n=>{let{state:e}=n,t=[];for(let i=0;i<e.doc.length;){let r=n.lineBlockAt(i),o=tc(e,r.from,r.to);o&&t.push(Gc.of(o)),i=(o?n.lineBlockAt(o.to):r).to+1}return t.length&&n.dispatch({effects:M2(n.state,t)}),!!t.length},jM=n=>{let e=n.state.field(vo,!1);if(!e||!e.size)return!1;let t=[];return e.between(0,n.state.doc.length,(i,r)=>{t.push(Sl.of({from:i,to:r}))}),n.dispatch({effects:t}),!0},LM=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:NM},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:DM},{key:"Ctrl-Alt-[",run:RM},{key:"Ctrl-Alt-]",run:jM}],BM={placeholderDOM:null,placeholderText:"\u2026"},P2=$e.define({combine(n){return Hi(n,BM)}});function I2(n){let e=[vo,HM];return n&&e.push(P2.of(n)),e}const Ng=ct.replace({widget:new class extends Ur{toDOM(n){let{state:e}=n,t=e.facet(P2),i=o=>{let s=n.lineBlockAt(n.posAtDOM(o.target)),l=nc(n.state,s.from,s.to);l&&n.dispatch({effects:Sl.of(l)}),o.preventDefault()};if(t.placeholderDOM)return t.placeholderDOM(n,i);let r=document.createElement("span");return r.textContent=t.placeholderText,r.setAttribute("aria-label",e.phrase("folded code")),r.title=e.phrase("unfold"),r.className="cm-foldPlaceholder",r.onclick=i,r}}}),FM={openText:"\u2304",closedText:"\u203A",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class Vu extends or{constructor(e,t){super(),this.config=e,this.open=t}eq(e){return this.config==e.config&&this.open==e.open}toDOM(e){if(this.config.markerDOM)return this.config.markerDOM(this.open);let t=document.createElement("span");return t.textContent=this.open?this.config.openText:this.config.closedText,t.title=e.state.phrase(this.open?"Fold line":"Unfold line"),t}}function VM(n={}){let e=Object.assign(Object.assign({},FM),n),t=new Vu(e,!0),i=new Vu(e,!1),r=kn.fromClass(class{constructor(s){this.from=s.viewport.from,this.markers=this.buildMarkers(s)}update(s){(s.docChanged||s.viewportChanged||s.startState.facet(qr)!=s.state.facet(qr)||s.startState.field(vo,!1)!=s.state.field(vo,!1)||Kn(s.startState)!=Kn(s.state)||e.foldingChanged(s))&&(this.markers=this.buildMarkers(s.view))}buildMarkers(s){let l=new Fr;for(let a of s.viewportLineBlocks){let c=nc(s.state,a.from,a.to)?i:tc(s.state,a.from,a.to)?t:null;c&&l.add(a.from,a.from,c)}return l.finish()}}),{domEventHandlers:o}=e;return[r,f2({class:"cm-foldGutter",markers(s){var l;return((l=s.plugin(r))===null||l===void 0?void 0:l.markers)||zt.empty},initialSpacer(){return new Vu(e,!1)},domEventHandlers:Object.assign(Object.assign({},o),{click:(s,l,a)=>{if(o.click&&o.click(s,l,a))return!0;let c=nc(s.state,l.from,l.to);if(c)return s.dispatch({effects:Sl.of(c)}),!0;let u=tc(s.state,l.from,l.to);return u?(s.dispatch({effects:Gc.of(u)}),!0):!1}})}),I2()]}const HM=tt.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class Cl{constructor(e,t){let i;function r(l){let a=Vr.newName();return(i||(i=Object.create(null)))["."+a]=l,a}const o=typeof t.all=="string"?t.all:t.all?r(t.all):void 0,s=t.scope;this.scope=s instanceof Ii?l=>l.prop(al)==s.data:s?l=>l==s:void 0,this.style=k2(e.map(l=>({tag:l.tag,class:l.class||r(Object.assign({},l,{tag:null}))})),{all:o}).style,this.module=i?new Vr(i):null,this.themeType=t.themeType}static define(e,t){return new Cl(e,t||{})}}const hh=$e.define(),N2=$e.define({combine(n){return n.length?[n[0]]:null}});function Hu(n){let e=n.facet(hh);return e.length?e:n.facet(N2)}function D2(n,e){let t=[qM],i;return n instanceof Cl&&(n.module&&t.push(tt.styleModule.of(n.module)),i=n.themeType),e!=null&&e.fallback?t.push(N2.of(n)):i?t.push(hh.computeN([tt.darkTheme],r=>r.facet(tt.darkTheme)==(i=="dark")?[n]:[])):t.push(hh.of(n)),t}class zM{constructor(e){this.markCache=Object.create(null),this.tree=Kn(e.state),this.decorations=this.buildDeco(e,Hu(e.state))}update(e){let t=Kn(e.state),i=Hu(e.state),r=i!=Hu(e.startState);t.length<e.view.viewport.to&&!r&&t.type==this.tree.type?this.decorations=this.decorations.map(e.changes):(t!=this.tree||e.viewportChanged||r)&&(this.tree=t,this.decorations=this.buildDeco(e.view,i))}buildDeco(e,t){if(!t||!this.tree.length)return ct.none;let i=new Fr;for(let{from:r,to:o}of e.visibleRanges)hM(this.tree,t,(s,l,a)=>{i.add(s,l,this.markCache[a]||(this.markCache[a]=ct.mark({class:a})))},r,o);return i.finish()}}const qM=ms.high(kn.fromClass(zM,{decorations:n=>n.decorations})),WM=Cl.define([{tag:De.meta,color:"#7a757a"},{tag:De.link,textDecoration:"underline"},{tag:De.heading,textDecoration:"underline",fontWeight:"bold"},{tag:De.emphasis,fontStyle:"italic"},{tag:De.strong,fontWeight:"bold"},{tag:De.strikethrough,textDecoration:"line-through"},{tag:De.keyword,color:"#708"},{tag:[De.atom,De.bool,De.url,De.contentSeparator,De.labelName],color:"#219"},{tag:[De.literal,De.inserted],color:"#164"},{tag:[De.string,De.deleted],color:"#a11"},{tag:[De.regexp,De.escape,De.special(De.string)],color:"#e40"},{tag:De.definition(De.variableName),color:"#00f"},{tag:De.local(De.variableName),color:"#30a"},{tag:[De.typeName,De.namespace],color:"#085"},{tag:De.className,color:"#167"},{tag:[De.special(De.variableName),De.macroName],color:"#256"},{tag:De.definition(De.propertyName),color:"#00c"},{tag:De.comment,color:"#940"},{tag:De.invalid,color:"#f00"}]),UM=tt.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),R2=1e4,j2="()[]{}",L2=$e.define({combine(n){return Hi(n,{afterCursor:!0,brackets:j2,maxScanDistance:R2,renderMatch:GM})}}),KM=ct.mark({class:"cm-matchingBracket"}),JM=ct.mark({class:"cm-nonmatchingBracket"});function GM(n){let e=[],t=n.matched?KM:JM;return e.push(t.range(n.start.from,n.start.to)),n.end&&e.push(t.range(n.end.from,n.end.to)),e}const QM=Tn.define({create(){return ct.none},update(n,e){if(!e.docChanged&&!e.selection)return n;let t=[],i=e.state.facet(L2);for(let r of e.state.selection.ranges){if(!r.empty)continue;let o=Zi(e.state,r.head,-1,i)||r.head>0&&Zi(e.state,r.head-1,1,i)||i.afterCursor&&(Zi(e.state,r.head,1,i)||r.head<e.state.doc.length&&Zi(e.state,r.head+1,-1,i));o&&(t=t.concat(i.renderMatch(o,e.state)))}return ct.set(t,!0)},provide:n=>tt.decorations.from(n)}),XM=[QM,UM];function YM(n={}){return[L2.of(n),XM]}function dh(n,e,t){let i=n.prop(e<0?Pt.openedBy:Pt.closedBy);if(i)return i;if(n.name.length==1){let r=t.indexOf(n.name);if(r>-1&&r%2==(e<0?1:0))return[t[r+e]]}return null}function Zi(n,e,t,i={}){let r=i.maxScanDistance||R2,o=i.brackets||j2,s=Kn(n),l=s.resolveInner(e,t);for(let a=l;a;a=a.parent){let c=dh(a.type,t,o);if(c&&a.from<a.to)return ZM(n,e,t,a,c,o)}return $M(n,e,t,s,l.type,r,o)}function ZM(n,e,t,i,r,o){let s=i.parent,l={from:i.from,to:i.to},a=0,c=s==null?void 0:s.cursor();if(c&&(t<0?c.childBefore(i.from):c.childAfter(i.to)))do if(t<0?c.to<=i.from:c.from>=i.to){if(a==0&&r.indexOf(c.type.name)>-1&&c.from<c.to)return{start:l,end:{from:c.from,to:c.to},matched:!0};if(dh(c.type,t,o))a++;else if(dh(c.type,-t,o)){if(a==0)return{start:l,end:c.from==c.to?void 0:{from:c.from,to:c.to},matched:!1};a--}}while(t<0?c.prevSibling():c.nextSibling());return{start:l,matched:!1}}function $M(n,e,t,i,r,o,s){let l=t<0?n.sliceDoc(e-1,e):n.sliceDoc(e,e+1),a=s.indexOf(l);if(a<0||a%2==0!=t>0)return null;let c={from:t<0?e-1:e,to:t>0?e+1:e},u=n.doc.iterRange(e,t>0?n.doc.length:0),f=0;for(let h=0;!u.next().done&&h<=o;){let d=u.value;t<0&&(h+=d.length);let m=e+h*t;for(let g=t>0?0:d.length-1,y=t>0?d.length:-1;g!=y;g+=t){let p=s.indexOf(d[g]);if(!(p<0||i.resolveInner(m+g,1).type!=r))if(p%2==0==t>0)f++;else{if(f==1)return{start:c,end:{from:m+g,to:m+g+1},matched:p>>1==a>>1};f--}}t>0&&(h+=d.length)}return u.done?{start:c,matched:!1}:null}const eA=Object.create(null),Dg=[li.none],Rg=[],tA=Object.create(null);for(let[n,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])tA[n]=nA(eA,e);function zu(n,e){Rg.indexOf(n)>-1||(Rg.push(n),console.warn(e))}function nA(n,e){let t=null;for(let o of e.split(".")){let s=n[o]||De[o];s?typeof s=="function"?t?t=s(t):zu(o,`Modifier ${o} used at start of tag`):t?zu(o,`Tag ${o} used as modifier`):t=s:zu(o,`Unknown highlighting tag ${o}`)}if(!t)return 0;let i=e.replace(/ /g,"_"),r=li.define({id:Dg.length,name:i,props:[w2({[i]:t})]});return Dg.push(r),r.id}const iA=n=>{let e=kd(n.state);return e.line?rA(n):e.block?sA(n):!1};function _d(n,e){return({state:t,dispatch:i})=>{if(t.readOnly)return!1;let r=n(e,t);return r?(i(t.update(r)),!0):!1}}const rA=_d(cA,0),oA=_d(B2,0),sA=_d((n,e)=>B2(n,e,aA(e)),0);function kd(n,e=n.selection.main.head){let t=n.languageDataAt("commentTokens",e);return t.length?t[0]:{}}const Ss=50;function lA(n,{open:e,close:t},i,r){let o=n.sliceDoc(i-Ss,i),s=n.sliceDoc(r,r+Ss),l=/\s*$/.exec(o)[0].length,a=/^\s*/.exec(s)[0].length,c=o.length-l;if(o.slice(c-e.length,c)==e&&s.slice(a,a+t.length)==t)return{open:{pos:i-l,margin:l&&1},close:{pos:r+a,margin:a&&1}};let u,f;r-i<=2*Ss?u=f=n.sliceDoc(i,r):(u=n.sliceDoc(i,i+Ss),f=n.sliceDoc(r-Ss,r));let h=/^\s*/.exec(u)[0].length,d=/\s*$/.exec(f)[0].length,m=f.length-d-t.length;return u.slice(h,h+e.length)==e&&f.slice(m,m+t.length)==t?{open:{pos:i+h+e.length,margin:/\s/.test(u.charAt(h+e.length))?1:0},close:{pos:r-d-t.length,margin:/\s/.test(f.charAt(m-1))?1:0}}:null}function aA(n){let e=[];for(let t of n.selection.ranges){let i=n.doc.lineAt(t.from),r=t.to<=i.to?i:n.doc.lineAt(t.to),o=e.length-1;o>=0&&e[o].to>i.from?e[o].to=r.to:e.push({from:i.from,to:r.to})}return e}function B2(n,e,t=e.selection.ranges){let i=t.map(o=>kd(e,o.from).block);if(!i.every(o=>o))return null;let r=t.map((o,s)=>lA(e,i[s],o.from,o.to));if(n!=2&&!r.every(o=>o))return{changes:e.changes(t.map((o,s)=>r[s]?[]:[{from:o.from,insert:i[s].open+" "},{from:o.to,insert:" "+i[s].close}]))};if(n!=1&&r.some(o=>o)){let o=[];for(let s=0,l;s<r.length;s++)if(l=r[s]){let a=i[s],{open:c,close:u}=l;o.push({from:c.pos-a.open.length,to:c.pos+c.margin},{from:u.pos-u.margin,to:u.pos+a.close.length})}return{changes:o}}return null}function cA(n,e,t=e.selection.ranges){let i=[],r=-1;for(let{from:o,to:s}of t){let l=i.length,a=1e9;for(let c=o;c<=s;){let u=e.doc.lineAt(c);if(u.from>r&&(o==s||s>u.from)){r=u.from;let f=kd(e,c).line;if(!f)continue;let h=/^\s*/.exec(u.text)[0].length,d=h==u.length,m=u.text.slice(h,h+f.length)==f?h:-1;h<u.text.length&&h<a&&(a=h),i.push({line:u,comment:m,token:f,indent:h,empty:d,single:!1})}c=u.to+1}if(a<1e9)for(let c=l;c<i.length;c++)i[c].indent<i[c].line.text.length&&(i[c].indent=a);i.length==l+1&&(i[l].single=!0)}if(n!=2&&i.some(o=>o.comment<0&&(!o.empty||o.single))){let o=[];for(let{line:l,token:a,indent:c,empty:u,single:f}of i)(f||!u)&&o.push({from:l.from+c,insert:a+" "});let s=e.changes(o);return{changes:s,selection:e.selection.map(s,1)}}else if(n!=1&&i.some(o=>o.comment>=0)){let o=[];for(let{line:s,comment:l,token:a}of i)if(l>=0){let c=s.from+l,u=c+a.length;s.text[u-s.from]==" "&&u++,o.push({from:c,to:u})}return{changes:o}}return null}const mh=xo.define(),uA=xo.define(),fA=$e.define(),F2=$e.define({combine(n){return Hi(n,{minDepth:100,newGroupDelay:500},{minDepth:Math.max,newGroupDelay:Math.min})}});function hA(n){let e=0;return n.iterChangedRanges((t,i)=>e=i),e}const Sd=Tn.define({create(){return $i.empty},update(n,e){let t=e.state.facet(F2),i=e.annotation(mh);if(i){let a=e.docChanged?Se.single(hA(e.changes)):void 0,c=ri.fromTransaction(e,a),u=i.side,f=u==0?n.undone:n.done;return c?f=rc(f,f.length,t.minDepth,c):f=z2(f,e.startState.selection),new $i(u==0?i.rest:f,u==0?f:i.rest)}let r=e.annotation(uA);if((r=="full"||r=="before")&&(n=n.isolate()),e.annotation(On.addToHistory)===!1)return e.changes.empty?n:n.addMapping(e.changes.desc);let o=ri.fromTransaction(e),s=e.annotation(On.time),l=e.annotation(On.userEvent);return o?n=n.addChanges(o,s,l,t.newGroupDelay,t.minDepth):e.selection&&(n=n.addSelection(e.startState.selection,s,l,t.newGroupDelay)),(r=="full"||r=="after")&&(n=n.isolate()),n},toJSON(n){return{done:n.done.map(e=>e.toJSON()),undone:n.undone.map(e=>e.toJSON())}},fromJSON(n){return new $i(n.done.map(ri.fromJSON),n.undone.map(ri.fromJSON))}});function dA(n={}){return[Sd,F2.of(n),tt.domEventHandlers({beforeinput(e,t){let i=e.inputType=="historyUndo"?Cd:e.inputType=="historyRedo"?ic:null;return i?(e.preventDefault(),i(t)):!1}})]}function Qc(n,e){return function({state:t,dispatch:i}){if(!e&&t.readOnly)return!1;let r=t.field(Sd,!1);if(!r)return!1;let o=r.pop(n,t,e);return o?(i(o),!0):!1}}const Cd=Qc(0,!1),ic=Qc(1,!1),mA=Qc(0,!0),pA=Qc(1,!0);function V2(n){return function(e){let t=e.field(Sd,!1);if(!t)return 0;let i=n==0?t.done:t.undone;return i.length-(i.length&&!i[0].changes?1:0)}}const gA=V2(0),yA=V2(1);class ri{constructor(e,t,i,r,o){this.changes=e,this.effects=t,this.mapped=i,this.startSelection=r,this.selectionsAfter=o}setSelAfter(e){return new ri(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,t,i;return{changes:(e=this.changes)===null||e===void 0?void 0:e.toJSON(),mapped:(t=this.mapped)===null||t===void 0?void 0:t.toJSON(),startSelection:(i=this.startSelection)===null||i===void 0?void 0:i.toJSON(),selectionsAfter:this.selectionsAfter.map(r=>r.toJSON())}}static fromJSON(e){return new ri(e.changes&&Cn.fromJSON(e.changes),[],e.mapped&&ir.fromJSON(e.mapped),e.startSelection&&Se.fromJSON(e.startSelection),e.selectionsAfter.map(Se.fromJSON))}static fromTransaction(e,t){let i=wi;for(let r of e.startState.facet(fA)){let o=r(e);o.length&&(i=i.concat(o))}return!i.length&&e.changes.empty?null:new ri(e.changes.invert(e.startState.doc),i,void 0,t||e.startState.selection,wi)}static selection(e){return new ri(void 0,wi,void 0,void 0,e)}}function rc(n,e,t,i){let r=e+1>t+20?e-t-1:0,o=n.slice(r,e);return o.push(i),o}function vA(n,e){let t=[],i=!1;return n.iterChangedRanges((r,o)=>t.push(r,o)),e.iterChangedRanges((r,o,s,l)=>{for(let a=0;a<t.length;){let c=t[a++],u=t[a++];l>=c&&s<=u&&(i=!0)}}),i}function bA(n,e){return n.ranges.length==e.ranges.length&&n.ranges.filter((t,i)=>t.empty!=e.ranges[i].empty).length===0}function H2(n,e){return n.length?e.length?n.concat(e):n:e}const wi=[],wA=200;function z2(n,e){if(n.length){let t=n[n.length-1],i=t.selectionsAfter.slice(Math.max(0,t.selectionsAfter.length-wA));return i.length&&i[i.length-1].eq(e)?n:(i.push(e),rc(n,n.length-1,1e9,t.setSelAfter(i)))}else return[ri.selection([e])]}function _A(n){let e=n[n.length-1],t=n.slice();return t[n.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),t}function qu(n,e){if(!n.length)return n;let t=n.length,i=wi;for(;t;){let r=kA(n[t-1],e,i);if(r.changes&&!r.changes.empty||r.effects.length){let o=n.slice(0,t);return o[t-1]=r,o}else e=r.mapped,t--,i=r.selectionsAfter}return i.length?[ri.selection(i)]:wi}function kA(n,e,t){let i=H2(n.selectionsAfter.length?n.selectionsAfter.map(l=>l.map(e)):wi,t);if(!n.changes)return ri.selection(i);let r=n.changes.map(e),o=e.mapDesc(n.changes,!0),s=n.mapped?n.mapped.composeDesc(o):o;return new ri(r,kt.mapEffects(n.effects,e),s,n.startSelection.map(o),i)}const SA=/^(input\.type|delete)($|\.)/;class $i{constructor(e,t,i=0,r=void 0){this.done=e,this.undone=t,this.prevTime=i,this.prevUserEvent=r}isolate(){return this.prevTime?new $i(this.done,this.undone):this}addChanges(e,t,i,r,o){let s=this.done,l=s[s.length-1];return l&&l.changes&&!l.changes.empty&&e.changes&&(!i||SA.test(i))&&(!l.selectionsAfter.length&&t-this.prevTime<r&&vA(l.changes,e.changes)||i=="input.type.compose")?s=rc(s,s.length-1,o,new ri(e.changes.compose(l.changes),H2(e.effects,l.effects),l.mapped,l.startSelection,wi)):s=rc(s,s.length,o,e),new $i(s,wi,t,i)}addSelection(e,t,i,r){let o=this.done.length?this.done[this.done.length-1].selectionsAfter:wi;return o.length>0&&t-this.prevTime<r&&i==this.prevUserEvent&&i&&/^select($|\.)/.test(i)&&bA(o[o.length-1],e)?this:new $i(z2(this.done,e),this.undone,t,i)}addMapping(e){return new $i(qu(this.done,e),qu(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,t,i){let r=e==0?this.done:this.undone;if(r.length==0)return null;let o=r[r.length-1];if(i&&o.selectionsAfter.length)return t.update({selection:o.selectionsAfter[o.selectionsAfter.length-1],annotations:mh.of({side:e,rest:_A(r)}),userEvent:e==0?"select.undo":"select.redo",scrollIntoView:!0});if(o.changes){let s=r.length==1?wi:r.slice(0,r.length-1);return o.mapped&&(s=qu(s,o.mapped)),t.update({changes:o.changes,selection:o.startSelection,effects:o.effects,annotations:mh.of({side:e,rest:s}),filter:!1,userEvent:e==0?"undo":"redo",scrollIntoView:!0})}else return null}}$i.empty=new $i(wi,wi);const CA=[{key:"Mod-z",run:Cd,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:ic,preventDefault:!0},{linux:"Ctrl-Shift-z",run:ic,preventDefault:!0},{key:"Mod-u",run:mA,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:pA,preventDefault:!0}];function ps(n,e){return Se.create(n.ranges.map(e),n.mainIndex)}function lr(n,e){return n.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function zi({state:n,dispatch:e},t){let i=ps(n.selection,t);return i.eq(n.selection)?!1:(e(lr(n,i)),!0)}function Xc(n,e){return Se.cursor(e?n.to:n.from)}function q2(n,e){return zi(n,t=>t.empty?n.moveByChar(t,e):Xc(t,e))}function Jn(n){return n.textDirectionAt(n.state.selection.main.head)==cn.LTR}const W2=n=>q2(n,!Jn(n)),U2=n=>q2(n,Jn(n));function K2(n,e){return zi(n,t=>t.empty?n.moveByGroup(t,e):Xc(t,e))}const xA=n=>K2(n,!Jn(n)),OA=n=>K2(n,Jn(n));function EA(n,e,t){if(e.type.prop(t))return!0;let i=e.to-e.from;return i&&(i>2||/[^\s,.;:]/.test(n.sliceDoc(e.from,e.to)))||e.firstChild}function Yc(n,e,t){let i=Kn(n).resolveInner(e.head),r=t?Pt.closedBy:Pt.openedBy;for(let a=e.head;;){let c=t?i.childAfter(a):i.childBefore(a);if(!c)break;EA(n,c,r)?i=c:a=t?c.to:c.from}let o=i.type.prop(r),s,l;return o&&(s=t?Zi(n,i.from,1):Zi(n,i.to,-1))&&s.matched?l=t?s.end.to:s.end.from:l=t?i.to:i.from,Se.cursor(l,t?-1:1)}const TA=n=>zi(n,e=>Yc(n.state,e,!Jn(n))),MA=n=>zi(n,e=>Yc(n.state,e,Jn(n)));function J2(n,e){return zi(n,t=>{if(!t.empty)return Xc(t,e);let i=n.moveVertically(t,e);return i.head!=t.head?i:n.moveToLineBoundary(t,e)})}const G2=n=>J2(n,!1),Q2=n=>J2(n,!0);function X2(n){return Math.max(n.defaultLineHeight,Math.min(n.dom.clientHeight,innerHeight)-5)}function Y2(n,e){let{state:t}=n,i=ps(t.selection,l=>l.empty?n.moveVertically(l,e,X2(n)):Xc(l,e));if(i.eq(t.selection))return!1;let r=n.coordsAtPos(t.selection.main.head),o=n.scrollDOM.getBoundingClientRect(),s;return r&&r.top>o.top&&r.bottom<o.bottom&&r.top-o.top<=n.scrollDOM.scrollHeight-n.scrollDOM.scrollTop-n.scrollDOM.clientHeight&&(s=tt.scrollIntoView(i.main.head,{y:"start",yMargin:r.top-o.top})),n.dispatch(lr(t,i),{effects:s}),!0}const jg=n=>Y2(n,!1),ph=n=>Y2(n,!0);function Kr(n,e,t){let i=n.lineBlockAt(e.head),r=n.moveToLineBoundary(e,t);if(r.head==e.head&&r.head!=(t?i.to:i.from)&&(r=n.moveToLineBoundary(e,t,!1)),!t&&r.head==i.from&&i.length){let o=/^\s*/.exec(n.state.sliceDoc(i.from,Math.min(i.from+100,i.to)))[0].length;o&&e.head!=i.from+o&&(r=Se.cursor(i.from+o))}return r}const AA=n=>zi(n,e=>Kr(n,e,!0)),PA=n=>zi(n,e=>Kr(n,e,!1)),IA=n=>zi(n,e=>Kr(n,e,!Jn(n))),NA=n=>zi(n,e=>Kr(n,e,Jn(n))),DA=n=>zi(n,e=>Se.cursor(n.lineBlockAt(e.head).from,1)),RA=n=>zi(n,e=>Se.cursor(n.lineBlockAt(e.head).to,-1));function jA(n,e,t){let i=!1,r=ps(n.selection,o=>{let s=Zi(n,o.head,-1)||Zi(n,o.head,1)||o.head>0&&Zi(n,o.head-1,1)||o.head<n.doc.length&&Zi(n,o.head+1,-1);if(!s||!s.end)return o;i=!0;let l=s.start.from==o.head?s.end.to:s.end.from;return t?Se.range(o.anchor,l):Se.cursor(l)});return i?(e(lr(n,r)),!0):!1}const LA=({state:n,dispatch:e})=>jA(n,e,!1);function Ci(n,e){let t=ps(n.state.selection,i=>{let r=e(i);return Se.range(i.anchor,r.head,r.goalColumn)});return t.eq(n.state.selection)?!1:(n.dispatch(lr(n.state,t)),!0)}function Z2(n,e){return Ci(n,t=>n.moveByChar(t,e))}const $2=n=>Z2(n,!Jn(n)),ew=n=>Z2(n,Jn(n));function tw(n,e){return Ci(n,t=>n.moveByGroup(t,e))}const BA=n=>tw(n,!Jn(n)),FA=n=>tw(n,Jn(n)),VA=n=>Ci(n,e=>Yc(n.state,e,!Jn(n))),HA=n=>Ci(n,e=>Yc(n.state,e,Jn(n)));function nw(n,e){return Ci(n,t=>n.moveVertically(t,e))}const iw=n=>nw(n,!1),rw=n=>nw(n,!0);function ow(n,e){return Ci(n,t=>n.moveVertically(t,e,X2(n)))}const Lg=n=>ow(n,!1),Bg=n=>ow(n,!0),zA=n=>Ci(n,e=>Kr(n,e,!0)),qA=n=>Ci(n,e=>Kr(n,e,!1)),WA=n=>Ci(n,e=>Kr(n,e,!Jn(n))),UA=n=>Ci(n,e=>Kr(n,e,Jn(n))),KA=n=>Ci(n,e=>Se.cursor(n.lineBlockAt(e.head).from)),JA=n=>Ci(n,e=>Se.cursor(n.lineBlockAt(e.head).to)),Fg=({state:n,dispatch:e})=>(e(lr(n,{anchor:0})),!0),Vg=({state:n,dispatch:e})=>(e(lr(n,{anchor:n.doc.length})),!0),Hg=({state:n,dispatch:e})=>(e(lr(n,{anchor:n.selection.main.anchor,head:0})),!0),zg=({state:n,dispatch:e})=>(e(lr(n,{anchor:n.selection.main.anchor,head:n.doc.length})),!0),GA=({state:n,dispatch:e})=>(e(n.update({selection:{anchor:0,head:n.doc.length},userEvent:"select"})),!0),QA=({state:n,dispatch:e})=>{let t=eu(n).map(({from:i,to:r})=>Se.range(i,Math.min(r+1,n.doc.length)));return e(n.update({selection:Se.create(t),userEvent:"select"})),!0},XA=({state:n,dispatch:e})=>{let t=ps(n.selection,i=>{var r;let o=Kn(n).resolveInner(i.head,1);for(;!(o.from<i.from&&o.to>=i.to||o.to>i.to&&o.from<=i.from||!(!((r=o.parent)===null||r===void 0)&&r.parent));)o=o.parent;return Se.range(o.to,o.from)});return e(lr(n,t)),!0},YA=({state:n,dispatch:e})=>{let t=n.selection,i=null;return t.ranges.length>1?i=Se.create([t.main]):t.main.empty||(i=Se.create([Se.cursor(t.main.head)])),i?(e(lr(n,i)),!0):!1};function Zc({state:n,dispatch:e},t){if(n.readOnly)return!1;let i="delete.selection",r=n.changeByRange(o=>{let{from:s,to:l}=o;if(s==l){let a=t(s);a<s?i="delete.backward":a>s&&(i="delete.forward"),s=Math.min(s,a),l=Math.max(l,a)}return s==l?{range:o}:{changes:{from:s,to:l},range:Se.cursor(s)}});return r.changes.empty?!1:(e(n.update(r,{scrollIntoView:!0,userEvent:i,effects:i=="delete.selection"?tt.announce.of(n.phrase("Selection deleted")):void 0})),!0)}function $c(n,e,t){if(n instanceof tt)for(let i of n.state.facet(tt.atomicRanges).map(r=>r(n)))i.between(e,e,(r,o)=>{r<e&&o>e&&(e=t?o:r)});return e}const sw=(n,e)=>Zc(n,t=>{let{state:i}=n,r=i.doc.lineAt(t),o,s;if(!e&&t>r.from&&t<r.from+200&&!/[^ \t]/.test(o=r.text.slice(0,t-r.from))){if(o[o.length-1]=="	")return t-1;let l=_l(o,i.tabSize),a=l%ec(i)||ec(i);for(let c=0;c<a&&o[o.length-1-c]==" ";c++)t--;s=t}else s=Qn(r.text,t-r.from,e,e)+r.from,s==t&&r.number!=(e?i.doc.lines:1)&&(s+=e?1:-1);return $c(n,s,e)}),gh=n=>sw(n,!1),lw=n=>sw(n,!0),aw=(n,e)=>Zc(n,t=>{let i=t,{state:r}=n,o=r.doc.lineAt(i),s=r.charCategorizer(i);for(let l=null;;){if(i==(e?o.to:o.from)){i==t&&o.number!=(e?r.doc.lines:1)&&(i+=e?1:-1);break}let a=Qn(o.text,i-o.from,e)+o.from,c=o.text.slice(Math.min(i,a)-o.from,Math.max(i,a)-o.from),u=s(c);if(l!=null&&u!=l)break;(c!=" "||i!=t)&&(l=u),i=a}return $c(n,i,e)}),cw=n=>aw(n,!1),ZA=n=>aw(n,!0),uw=n=>Zc(n,e=>{let t=n.lineBlockAt(e).to;return $c(n,e<t?t:Math.min(n.state.doc.length,e+1),!0)}),$A=n=>Zc(n,e=>{let t=n.lineBlockAt(e).from;return $c(n,e>t?t:Math.max(0,e-1),!1)}),eP=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=n.changeByRange(i=>({changes:{from:i.from,to:i.to,insert:Ut.of(["",""])},range:Se.cursor(i.from)}));return e(n.update(t,{scrollIntoView:!0,userEvent:"input"})),!0},tP=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=n.changeByRange(i=>{if(!i.empty||i.from==0||i.from==n.doc.length)return{range:i};let r=i.from,o=n.doc.lineAt(r),s=r==o.from?r-1:Qn(o.text,r-o.from,!1)+o.from,l=r==o.to?r+1:Qn(o.text,r-o.from,!0)+o.from;return{changes:{from:s,to:l,insert:n.doc.slice(r,l).append(n.doc.slice(s,r))},range:Se.cursor(l)}});return t.changes.empty?!1:(e(n.update(t,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function eu(n){let e=[],t=-1;for(let i of n.selection.ranges){let r=n.doc.lineAt(i.from),o=n.doc.lineAt(i.to);if(!i.empty&&i.to==o.from&&(o=n.doc.lineAt(i.to-1)),t>=r.number){let s=e[e.length-1];s.to=o.to,s.ranges.push(i)}else e.push({from:r.from,to:o.to,ranges:[i]});t=o.number+1}return e}function fw(n,e,t){if(n.readOnly)return!1;let i=[],r=[];for(let o of eu(n)){if(t?o.to==n.doc.length:o.from==0)continue;let s=n.doc.lineAt(t?o.to+1:o.from-1),l=s.length+1;if(t){i.push({from:o.to,to:s.to},{from:o.from,insert:s.text+n.lineBreak});for(let a of o.ranges)r.push(Se.range(Math.min(n.doc.length,a.anchor+l),Math.min(n.doc.length,a.head+l)))}else{i.push({from:s.from,to:o.from},{from:o.to,insert:n.lineBreak+s.text});for(let a of o.ranges)r.push(Se.range(a.anchor-l,a.head-l))}}return i.length?(e(n.update({changes:i,scrollIntoView:!0,selection:Se.create(r,n.selection.mainIndex),userEvent:"move.line"})),!0):!1}const nP=({state:n,dispatch:e})=>fw(n,e,!1),iP=({state:n,dispatch:e})=>fw(n,e,!0);function hw(n,e,t){if(n.readOnly)return!1;let i=[];for(let r of eu(n))t?i.push({from:r.from,insert:n.doc.slice(r.from,r.to)+n.lineBreak}):i.push({from:r.to,insert:n.lineBreak+n.doc.slice(r.from,r.to)});return e(n.update({changes:i,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const rP=({state:n,dispatch:e})=>hw(n,e,!1),oP=({state:n,dispatch:e})=>hw(n,e,!0),sP=n=>{if(n.state.readOnly)return!1;let{state:e}=n,t=e.changes(eu(e).map(({from:r,to:o})=>(r>0?r--:o<e.doc.length&&o++,{from:r,to:o}))),i=ps(e.selection,r=>n.moveVertically(r,!0)).map(t);return n.dispatch({changes:t,selection:i,scrollIntoView:!0,userEvent:"delete.line"}),!0};function lP(n,e){if(/\(\)|\[\]|\{\}/.test(n.sliceDoc(e-1,e+1)))return{from:e,to:e};let t=Kn(n).resolveInner(e),i=t.childBefore(e),r=t.childAfter(e),o;return i&&r&&i.to<=e&&r.from>=e&&(o=i.type.prop(Pt.closedBy))&&o.indexOf(r.name)>-1&&n.doc.lineAt(i.to).from==n.doc.lineAt(r.from).from?{from:i.to,to:r.from}:null}const aP=dw(!1),cP=dw(!0);function dw(n){return({state:e,dispatch:t})=>{if(e.readOnly)return!1;let i=e.changeByRange(r=>{let{from:o,to:s}=r,l=e.doc.lineAt(o),a=!n&&o==s&&lP(e,o);n&&(o=s=(s<=l.to?l:e.doc.lineAt(s)).to);let c=new Jc(e,{simulateBreak:o,simulateDoubleBreak:!!a}),u=bd(c,o);for(u==null&&(u=/^\s*/.exec(e.doc.lineAt(o).text)[0].length);s<l.to&&/\s/.test(l.text[s-l.from]);)s++;a?{from:o,to:s}=a:o>l.from&&o<l.from+100&&!/\S/.test(l.text.slice(0,o))&&(o=l.from);let f=["",cl(e,u)];return a&&f.push(cl(e,c.lineIndent(l.from,-1))),{changes:{from:o,to:s,insert:Ut.of(f)},range:Se.cursor(o+1+f[1].length)}});return t(e.update(i,{scrollIntoView:!0,userEvent:"input"})),!0}}function xd(n,e){let t=-1;return n.changeByRange(i=>{let r=[];for(let s=i.from;s<=i.to;){let l=n.doc.lineAt(s);l.number>t&&(i.empty||i.to>l.from)&&(e(l,r,i),t=l.number),s=l.to+1}let o=n.changes(r);return{changes:r,range:Se.range(o.mapPos(i.anchor,1),o.mapPos(i.head,1))}})}const uP=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=Object.create(null),i=new Jc(n,{overrideIndentation:o=>{let s=t[o];return s==null?-1:s}}),r=xd(n,(o,s,l)=>{let a=bd(i,o.from);if(a==null)return;/\S/.test(o.text)||(a=0);let c=/^\s*/.exec(o.text)[0],u=cl(n,a);(c!=u||l.from<o.from+c.length)&&(t[o.from]=a,s.push({from:o.from,to:o.from+c.length,insert:u}))});return r.changes.empty||e(n.update(r,{userEvent:"indent"})),!0},mw=({state:n,dispatch:e})=>n.readOnly?!1:(e(n.update(xd(n,(t,i)=>{i.push({from:t.from,insert:n.facet(Kc)})}),{userEvent:"input.indent"})),!0),pw=({state:n,dispatch:e})=>n.readOnly?!1:(e(n.update(xd(n,(t,i)=>{let r=/^\s*/.exec(t.text)[0];if(!r)return;let o=_l(r,n.tabSize),s=0,l=cl(n,Math.max(0,o-ec(n)));for(;s<r.length&&s<l.length&&r.charCodeAt(s)==l.charCodeAt(s);)s++;i.push({from:t.from+s,to:t.from+r.length,insert:l.slice(s)})}),{userEvent:"delete.dedent"})),!0),fP=[{key:"Ctrl-b",run:W2,shift:$2,preventDefault:!0},{key:"Ctrl-f",run:U2,shift:ew},{key:"Ctrl-p",run:G2,shift:iw},{key:"Ctrl-n",run:Q2,shift:rw},{key:"Ctrl-a",run:DA,shift:KA},{key:"Ctrl-e",run:RA,shift:JA},{key:"Ctrl-d",run:lw},{key:"Ctrl-h",run:gh},{key:"Ctrl-k",run:uw},{key:"Ctrl-Alt-h",run:cw},{key:"Ctrl-o",run:eP},{key:"Ctrl-t",run:tP},{key:"Ctrl-v",run:ph}],hP=[{key:"ArrowLeft",run:W2,shift:$2,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:xA,shift:BA,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:IA,shift:WA,preventDefault:!0},{key:"ArrowRight",run:U2,shift:ew,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:OA,shift:FA,preventDefault:!0},{mac:"Cmd-ArrowRight",run:NA,shift:UA,preventDefault:!0},{key:"ArrowUp",run:G2,shift:iw,preventDefault:!0},{mac:"Cmd-ArrowUp",run:Fg,shift:Hg},{mac:"Ctrl-ArrowUp",run:jg,shift:Lg},{key:"ArrowDown",run:Q2,shift:rw,preventDefault:!0},{mac:"Cmd-ArrowDown",run:Vg,shift:zg},{mac:"Ctrl-ArrowDown",run:ph,shift:Bg},{key:"PageUp",run:jg,shift:Lg},{key:"PageDown",run:ph,shift:Bg},{key:"Home",run:PA,shift:qA,preventDefault:!0},{key:"Mod-Home",run:Fg,shift:Hg},{key:"End",run:AA,shift:zA,preventDefault:!0},{key:"Mod-End",run:Vg,shift:zg},{key:"Enter",run:aP},{key:"Mod-a",run:GA},{key:"Backspace",run:gh,shift:gh},{key:"Delete",run:lw},{key:"Mod-Backspace",mac:"Alt-Backspace",run:cw},{key:"Mod-Delete",mac:"Alt-Delete",run:ZA},{mac:"Mod-Backspace",run:$A},{mac:"Mod-Delete",run:uw}].concat(fP.map(n=>({mac:n.key,run:n.run,shift:n.shift}))),dP=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:TA,shift:VA},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:MA,shift:HA},{key:"Alt-ArrowUp",run:nP},{key:"Shift-Alt-ArrowUp",run:rP},{key:"Alt-ArrowDown",run:iP},{key:"Shift-Alt-ArrowDown",run:oP},{key:"Escape",run:YA},{key:"Mod-Enter",run:cP},{key:"Alt-l",mac:"Ctrl-l",run:QA},{key:"Mod-i",run:XA,preventDefault:!0},{key:"Mod-[",run:pw},{key:"Mod-]",run:mw},{key:"Mod-Alt-\\",run:uP},{key:"Shift-Mod-k",run:sP},{key:"Shift-Mod-\\",run:LA},{key:"Mod-/",run:iA},{key:"Alt-A",run:oA}].concat(hP),mP={key:"Tab",run:mw,shift:pw};function Gt(){var n=arguments[0];typeof n=="string"&&(n=document.createElement(n));var e=1,t=arguments[1];if(t&&typeof t=="object"&&t.nodeType==null&&!Array.isArray(t)){for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var r=t[i];typeof r=="string"?n.setAttribute(i,r):r!=null&&(n[i]=r)}e++}for(;e<arguments.length;e++)gw(n,arguments[e]);return n}function gw(n,e){if(typeof e=="string")n.appendChild(document.createTextNode(e));else if(e!=null)if(e.nodeType!=null)n.appendChild(e);else if(Array.isArray(e))for(var t=0;t<e.length;t++)gw(n,e[t]);else throw new RangeError("Unsupported child node: "+e)}const qg=typeof String.prototype.normalize=="function"?n=>n.normalize("NFKD"):n=>n;class ns{constructor(e,t,i=0,r=e.length,o,s){this.test=s,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(i,r),this.bufferStart=i,this.normalize=o?l=>o(qg(l)):qg,this.query=this.normalize(t)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return jn(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let e=this.peek();if(e<0)return this.done=!0,this;let t=od(e),i=this.bufferStart+this.bufferPos;this.bufferPos+=hi(e);let r=this.normalize(t);for(let o=0,s=i;;o++){let l=r.charCodeAt(o),a=this.match(l,s);if(a)return this.value=a,this;if(o==r.length-1)break;s==i&&o<t.length&&t.charCodeAt(o)==l&&s++}}}match(e,t){let i=null;for(let r=0;r<this.matches.length;r+=2){let o=this.matches[r],s=!1;this.query.charCodeAt(o)==e&&(o==this.query.length-1?i={from:this.matches[r+1],to:t+1}:(this.matches[r]++,s=!0)),s||(this.matches.splice(r,2),r-=2)}return this.query.charCodeAt(0)==e&&(this.query.length==1?i={from:t,to:t+1}:this.matches.push(1,t)),i&&this.test&&!this.test(i.from,i.to,this.buffer,this.bufferPos)&&(i=null),i}}typeof Symbol<"u"&&(ns.prototype[Symbol.iterator]=function(){return this});const yw={from:-1,to:-1,match:/.*/.exec("")},Od="gm"+(/x/.unicode==null?"":"u");class vw{constructor(e,t,i,r=0,o=e.length){if(this.text=e,this.to=o,this.curLine="",this.done=!1,this.value=yw,/\\[sWDnr]|\n|\r|\[\^/.test(t))return new bw(e,t,i,r,o);this.re=new RegExp(t,Od+(i!=null&&i.ignoreCase?"i":"")),this.test=i==null?void 0:i.test,this.iter=e.iter();let s=e.lineAt(r);this.curLineStart=s.from,this.matchPos=oc(e,r),this.getLine(this.curLineStart)}getLine(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let t=this.matchPos<=this.to&&this.re.exec(this.curLine);if(t){let i=this.curLineStart+t.index,r=i+t[0].length;if(this.matchPos=oc(this.text,r+(i==r?1:0)),i==this.curLine.length&&this.nextLine(),(i<r||i>this.value.to)&&(!this.test||this.test(i,r,t)))return this.value={from:i,to:r,match:t},this;e=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),e=0;else return this.done=!0,this}}}const Wu=new WeakMap;class zo{constructor(e,t){this.from=e,this.text=t}get to(){return this.from+this.text.length}static get(e,t,i){let r=Wu.get(e);if(!r||r.from>=i||r.to<=t){let l=new zo(t,e.sliceString(t,i));return Wu.set(e,l),l}if(r.from==t&&r.to==i)return r;let{text:o,from:s}=r;return s>t&&(o=e.sliceString(t,s)+o,s=t),r.to<i&&(o+=e.sliceString(r.to,i)),Wu.set(e,new zo(s,o)),new zo(t,o.slice(t-s,i-s))}}class bw{constructor(e,t,i,r,o){this.text=e,this.to=o,this.done=!1,this.value=yw,this.matchPos=oc(e,r),this.re=new RegExp(t,Od+(i!=null&&i.ignoreCase?"i":"")),this.test=i==null?void 0:i.test,this.flat=zo.get(e,r,this.chunkEnd(r+5e3))}chunkEnd(e){return e>=this.to?this.to:this.text.lineAt(e).to}next(){for(;;){let e=this.re.lastIndex=this.matchPos-this.flat.from,t=this.re.exec(this.flat.text);if(t&&!t[0]&&t.index==e&&(this.re.lastIndex=e+1,t=this.re.exec(this.flat.text)),t){let i=this.flat.from+t.index,r=i+t[0].length;if((this.flat.to>=this.to||t.index+t[0].length<=this.flat.text.length-10)&&(!this.test||this.test(i,r,t)))return this.value={from:i,to:r,match:t},this.matchPos=oc(this.text,r+(i==r?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=zo.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}typeof Symbol<"u"&&(vw.prototype[Symbol.iterator]=bw.prototype[Symbol.iterator]=function(){return this});function pP(n){try{return new RegExp(n,Od),!0}catch{return!1}}function oc(n,e){if(e>=n.length)return e;let t=n.lineAt(e),i;for(;e<t.to&&(i=t.text.charCodeAt(e-t.from))>=56320&&i<57344;)e++;return e}function yh(n){let e=Gt("input",{class:"cm-textfield",name:"line"}),t=Gt("form",{class:"cm-gotoLine",onkeydown:r=>{r.keyCode==27?(r.preventDefault(),n.dispatch({effects:sc.of(!1)}),n.focus()):r.keyCode==13&&(r.preventDefault(),i())},onsubmit:r=>{r.preventDefault(),i()}},Gt("label",n.state.phrase("Go to line"),": ",e)," ",Gt("button",{class:"cm-button",type:"submit"},n.state.phrase("go")));function i(){let r=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(e.value);if(!r)return;let{state:o}=n,s=o.doc.lineAt(o.selection.main.head),[,l,a,c,u]=r,f=c?+c.slice(1):0,h=a?+a:s.number;if(a&&u){let m=h/100;l&&(m=m*(l=="-"?-1:1)+s.number/o.doc.lines),h=Math.round(o.doc.lines*m)}else a&&l&&(h=h*(l=="-"?-1:1)+s.number);let d=o.doc.line(Math.max(1,Math.min(o.doc.lines,h)));n.dispatch({effects:sc.of(!1),selection:Se.cursor(d.from+Math.max(0,Math.min(f,d.length))),scrollIntoView:!0}),n.focus()}return{dom:t}}const sc=kt.define(),Wg=Tn.define({create(){return!0},update(n,e){for(let t of e.effects)t.is(sc)&&(n=t.value);return n},provide:n=>ll.from(n,e=>e?yh:null)}),gP=n=>{let e=sl(n,yh);if(!e){let t=[sc.of(!0)];n.state.field(Wg,!1)==null&&t.push(kt.appendConfig.of([Wg,yP])),n.dispatch({effects:t}),e=sl(n,yh)}return e&&e.dom.querySelector("input").focus(),!0},yP=tt.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px","& label":{fontSize:"80%"}}}),vP={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},ww=$e.define({combine(n){return Hi(n,vP,{highlightWordAroundCursor:(e,t)=>e||t,minSelectionLength:Math.min,maxMatches:Math.min})}});function bP(n){let e=[CP,SP];return n&&e.push(ww.of(n)),e}const wP=ct.mark({class:"cm-selectionMatch"}),_P=ct.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function Ug(n,e,t,i){return(t==0||n(e.sliceDoc(t-1,t))!=an.Word)&&(i==e.doc.length||n(e.sliceDoc(i,i+1))!=an.Word)}function kP(n,e,t,i){return n(e.sliceDoc(t,t+1))==an.Word&&n(e.sliceDoc(i-1,i))==an.Word}const SP=kn.fromClass(class{constructor(n){this.decorations=this.getDeco(n)}update(n){(n.selectionSet||n.docChanged||n.viewportChanged)&&(this.decorations=this.getDeco(n.view))}getDeco(n){let e=n.state.facet(ww),{state:t}=n,i=t.selection;if(i.ranges.length>1)return ct.none;let r=i.main,o,s=null;if(r.empty){if(!e.highlightWordAroundCursor)return ct.none;let a=t.wordAt(r.head);if(!a)return ct.none;s=t.charCategorizer(r.head),o=t.sliceDoc(a.from,a.to)}else{let a=r.to-r.from;if(a<e.minSelectionLength||a>200)return ct.none;if(e.wholeWords){if(o=t.sliceDoc(r.from,r.to),s=t.charCategorizer(r.head),!(Ug(s,t,r.from,r.to)&&kP(s,t,r.from,r.to)))return ct.none}else if(o=t.sliceDoc(r.from,r.to).trim(),!o)return ct.none}let l=[];for(let a of n.visibleRanges){let c=new ns(t.doc,o,a.from,a.to);for(;!c.next().done;){let{from:u,to:f}=c.value;if((!s||Ug(s,t,u,f))&&(r.empty&&u<=r.from&&f>=r.to?l.push(_P.range(u,f)):(u>=r.to||f<=r.from)&&l.push(wP.range(u,f)),l.length>e.maxMatches))return ct.none}}return ct.set(l)}},{decorations:n=>n.decorations}),CP=tt.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),xP=({state:n,dispatch:e})=>{let{selection:t}=n,i=Se.create(t.ranges.map(r=>n.wordAt(r.head)||Se.cursor(r.head)),t.mainIndex);return i.eq(t)?!1:(e(n.update({selection:i})),!0)};function OP(n,e){let{main:t,ranges:i}=n.selection,r=n.wordAt(t.head),o=r&&r.from==t.from&&r.to==t.to;for(let s=!1,l=new ns(n.doc,e,i[i.length-1].to);;)if(l.next(),l.done){if(s)return null;l=new ns(n.doc,e,0,Math.max(0,i[i.length-1].from-1)),s=!0}else{if(s&&i.some(a=>a.from==l.value.from))continue;if(o){let a=n.wordAt(l.value.from);if(!a||a.from!=l.value.from||a.to!=l.value.to)continue}return l.value}}const EP=({state:n,dispatch:e})=>{let{ranges:t}=n.selection;if(t.some(o=>o.from===o.to))return xP({state:n,dispatch:e});let i=n.sliceDoc(t[0].from,t[0].to);if(n.selection.ranges.some(o=>n.sliceDoc(o.from,o.to)!=i))return!1;let r=OP(n,i);return r?(e(n.update({selection:n.selection.addRange(Se.range(r.from,r.to),!1),effects:tt.scrollIntoView(r.to)})),!0):!1},tu=$e.define({combine(n){return Hi(n,{top:!1,caseSensitive:!1,literal:!1,wholeWord:!1,createPanel:e=>new VP(e)})}});function TP(n){return n?[tu.of(n),bh]:bh}class _w{constructor(e){this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.literal=!!e.literal,this.regexp=!!e.regexp,this.replace=e.replace||"",this.valid=!!this.search&&(!this.regexp||pP(this.search)),this.unquoted=this.literal?this.search:this.search.replace(/\\([nrt\\])/g,(t,i)=>i=="n"?`
`:i=="r"?"\r":i=="t"?"	":"\\"),this.wholeWord=!!e.wholeWord}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp&&this.wholeWord==e.wholeWord}create(){return this.regexp?new IP(this):new AP(this)}getCursor(e,t=0,i){let r=e.doc?e:Ot.create({doc:e});return i==null&&(i=r.doc.length),this.regexp?Ro(this,r,t,i):Do(this,r,t,i)}}class kw{constructor(e){this.spec=e}}function Do(n,e,t,i){return new ns(e.doc,n.unquoted,t,i,n.caseSensitive?void 0:r=>r.toLowerCase(),n.wholeWord?MP(e.doc,e.charCategorizer(e.selection.main.head)):void 0)}function MP(n,e){return(t,i,r,o)=>((o>t||o+r.length<i)&&(o=Math.max(0,t-2),r=n.sliceString(o,Math.min(n.length,i+2))),e(ac(r,t-o))!=an.Word||e(lc(r,i-o))!=an.Word||e(lc(r,t-o))!=an.Word&&e(ac(r,i-o))!=an.Word)}class AP extends kw{constructor(e){super(e)}nextMatch(e,t,i){let r=Do(this.spec,e,i,e.doc.length).nextOverlapping();return r.done&&(r=Do(this.spec,e,0,t).nextOverlapping()),r.done?null:r.value}prevMatchInRange(e,t,i){for(let r=i;;){let o=Math.max(t,r-1e4-this.spec.unquoted.length),s=Do(this.spec,e,o,r),l=null;for(;!s.nextOverlapping().done;)l=s.value;if(l)return l;if(o==t)return null;r-=1e4}}prevMatch(e,t,i){return this.prevMatchInRange(e,0,t)||this.prevMatchInRange(e,i,e.doc.length)}getReplacement(e){return this.spec.replace}matchAll(e,t){let i=Do(this.spec,e,0,e.doc.length),r=[];for(;!i.next().done;){if(r.length>=t)return null;r.push(i.value)}return r}highlight(e,t,i,r){let o=Do(this.spec,e,Math.max(0,t-this.spec.unquoted.length),Math.min(i+this.spec.unquoted.length,e.doc.length));for(;!o.next().done;)r(o.value.from,o.value.to)}}function Ro(n,e,t,i){return new vw(e.doc,n.search,{ignoreCase:!n.caseSensitive,test:n.wholeWord?PP(e.charCategorizer(e.selection.main.head)):void 0},t,i)}function lc(n,e){return n.slice(Qn(n,e,!1),e)}function ac(n,e){return n.slice(e,Qn(n,e))}function PP(n){return(e,t,i)=>!i[0].length||n(ac(i.input,i.index))!=an.Word||n(lc(i.input,i.index+i[0].length))!=an.Word||n(lc(i.input,i.index))!=an.Word&&n(ac(i.input,i.index+i[0].length))!=an.Word}class IP extends kw{nextMatch(e,t,i){let r=Ro(this.spec,e,i,e.doc.length).next();return r.done&&(r=Ro(this.spec,e,0,t).next()),r.done?null:r.value}prevMatchInRange(e,t,i){for(let r=1;;r++){let o=Math.max(t,i-r*1e4),s=Ro(this.spec,e,o,i),l=null;for(;!s.next().done;)l=s.value;if(l&&(o==t||l.from>o+10))return l;if(o==t)return null}}prevMatch(e,t,i){return this.prevMatchInRange(e,0,t)||this.prevMatchInRange(e,i,e.doc.length)}getReplacement(e){return this.spec.replace.replace(/\$([$&\d+])/g,(t,i)=>i=="$"?"$":i=="&"?e.match[0]:i!="0"&&+i<e.match.length?e.match[i]:t)}matchAll(e,t){let i=Ro(this.spec,e,0,e.doc.length),r=[];for(;!i.next().done;){if(r.length>=t)return null;r.push(i.value)}return r}highlight(e,t,i,r){let o=Ro(this.spec,e,Math.max(0,t-250),Math.min(i+250,e.doc.length));for(;!o.next().done;)r(o.value.from,o.value.to)}}const ul=kt.define(),Ed=kt.define(),Nr=Tn.define({create(n){return new Uu(vh(n).create(),null)},update(n,e){for(let t of e.effects)t.is(ul)?n=new Uu(t.value.create(),n.panel):t.is(Ed)&&(n=new Uu(n.query,t.value?Td:null));return n},provide:n=>ll.from(n,e=>e.panel)});class Uu{constructor(e,t){this.query=e,this.panel=t}}const NP=ct.mark({class:"cm-searchMatch"}),DP=ct.mark({class:"cm-searchMatch cm-searchMatch-selected"}),RP=kn.fromClass(class{constructor(n){this.view=n,this.decorations=this.highlight(n.state.field(Nr))}update(n){let e=n.state.field(Nr);(e!=n.startState.field(Nr)||n.docChanged||n.selectionSet||n.viewportChanged)&&(this.decorations=this.highlight(e))}highlight({query:n,panel:e}){if(!e||!n.spec.valid)return ct.none;let{view:t}=this,i=new Fr;for(let r=0,o=t.visibleRanges,s=o.length;r<s;r++){let{from:l,to:a}=o[r];for(;r<s-1&&a>o[r+1].from-2*250;)a=o[++r].to;n.highlight(t.state,l,a,(c,u)=>{let f=t.state.selection.ranges.some(h=>h.from==c&&h.to==u);i.add(c,u,f?DP:NP)})}return i.finish()}},{decorations:n=>n.decorations});function xl(n){return e=>{let t=e.state.field(Nr,!1);return t&&t.query.spec.valid?n(e,t):Md(e)}}const cc=xl((n,{query:e})=>{let{to:t}=n.state.selection.main,i=e.nextMatch(n.state,t,t);return i?(n.dispatch({selection:{anchor:i.from,head:i.to},scrollIntoView:!0,effects:Pd(n,i),userEvent:"select.search"}),!0):!1}),uc=xl((n,{query:e})=>{let{state:t}=n,{from:i}=t.selection.main,r=e.prevMatch(t,i,i);return r?(n.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0,effects:Pd(n,r),userEvent:"select.search"}),!0):!1}),jP=xl((n,{query:e})=>{let t=e.matchAll(n.state,1e3);return!t||!t.length?!1:(n.dispatch({selection:Se.create(t.map(i=>Se.range(i.from,i.to))),userEvent:"select.search.matches"}),!0)}),LP=({state:n,dispatch:e})=>{let t=n.selection;if(t.ranges.length>1||t.main.empty)return!1;let{from:i,to:r}=t.main,o=[],s=0;for(let l=new ns(n.doc,n.sliceDoc(i,r));!l.next().done;){if(o.length>1e3)return!1;l.value.from==i&&(s=o.length),o.push(Se.range(l.value.from,l.value.to))}return e(n.update({selection:Se.create(o,s),userEvent:"select.search.matches"})),!0},Kg=xl((n,{query:e})=>{let{state:t}=n,{from:i,to:r}=t.selection.main;if(t.readOnly)return!1;let o=e.nextMatch(t,i,i);if(!o)return!1;let s=[],l,a,c=[];if(o.from==i&&o.to==r&&(a=t.toText(e.getReplacement(o)),s.push({from:o.from,to:o.to,insert:a}),o=e.nextMatch(t,o.from,o.to),c.push(tt.announce.of(t.phrase("replaced match on line $",t.doc.lineAt(i).number)+"."))),o){let u=s.length==0||s[0].from>=o.to?0:o.to-o.from-a.length;l={anchor:o.from-u,head:o.to-u},c.push(Pd(n,o))}return n.dispatch({changes:s,selection:l,scrollIntoView:!!l,effects:c,userEvent:"input.replace"}),!0}),BP=xl((n,{query:e})=>{if(n.state.readOnly)return!1;let t=e.matchAll(n.state,1e9).map(r=>{let{from:o,to:s}=r;return{from:o,to:s,insert:e.getReplacement(r)}});if(!t.length)return!1;let i=n.state.phrase("replaced $ matches",t.length)+".";return n.dispatch({changes:t,effects:tt.announce.of(i),userEvent:"input.replace.all"}),!0});function Td(n){return n.state.facet(tu).createPanel(n)}function vh(n,e){var t,i,r,o;let s=n.selection.main,l=s.empty||s.to>s.from+100?"":n.sliceDoc(s.from,s.to);if(e&&!l)return e;let a=n.facet(tu);return new _w({search:((t=e==null?void 0:e.literal)!==null&&t!==void 0?t:a.literal)?l:l.replace(/\n/g,"\\n"),caseSensitive:(i=e==null?void 0:e.caseSensitive)!==null&&i!==void 0?i:a.caseSensitive,literal:(r=e==null?void 0:e.literal)!==null&&r!==void 0?r:a.literal,wholeWord:(o=e==null?void 0:e.wholeWord)!==null&&o!==void 0?o:a.wholeWord})}const Md=n=>{let e=n.state.field(Nr,!1);if(e&&e.panel){let t=sl(n,Td);if(!t)return!1;let i=t.dom.querySelector("[main-field]");if(i&&i!=n.root.activeElement){let r=vh(n.state,e.query.spec);r.valid&&n.dispatch({effects:ul.of(r)}),i.focus(),i.select()}}else n.dispatch({effects:[Ed.of(!0),e?ul.of(vh(n.state,e.query.spec)):kt.appendConfig.of(bh)]});return!0},Ad=n=>{let e=n.state.field(Nr,!1);if(!e||!e.panel)return!1;let t=sl(n,Td);return t&&t.dom.contains(n.root.activeElement)&&n.focus(),n.dispatch({effects:Ed.of(!1)}),!0},FP=[{key:"Mod-f",run:Md,scope:"editor search-panel"},{key:"F3",run:cc,shift:uc,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:cc,shift:uc,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:Ad,scope:"editor search-panel"},{key:"Mod-Shift-l",run:LP},{key:"Alt-g",run:gP},{key:"Mod-d",run:EP,preventDefault:!0}];class VP{constructor(e){this.view=e;let t=this.query=e.state.field(Nr).query.spec;this.commit=this.commit.bind(this),this.searchField=Gt("input",{value:t.search,placeholder:ui(e,"Find"),"aria-label":ui(e,"Find"),class:"cm-textfield",name:"search","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=Gt("input",{value:t.replace,placeholder:ui(e,"Replace"),"aria-label":ui(e,"Replace"),class:"cm-textfield",name:"replace",onchange:this.commit,onkeyup:this.commit}),this.caseField=Gt("input",{type:"checkbox",name:"case",checked:t.caseSensitive,onchange:this.commit}),this.reField=Gt("input",{type:"checkbox",name:"re",checked:t.regexp,onchange:this.commit}),this.wordField=Gt("input",{type:"checkbox",name:"word",checked:t.wholeWord,onchange:this.commit});function i(r,o,s){return Gt("button",{class:"cm-button",name:r,onclick:o,type:"button"},s)}this.dom=Gt("div",{onkeydown:r=>this.keydown(r),class:"cm-search"},[this.searchField,i("next",()=>cc(e),[ui(e,"next")]),i("prev",()=>uc(e),[ui(e,"previous")]),i("select",()=>jP(e),[ui(e,"all")]),Gt("label",null,[this.caseField,ui(e,"match case")]),Gt("label",null,[this.reField,ui(e,"regexp")]),Gt("label",null,[this.wordField,ui(e,"by word")]),...e.state.readOnly?[]:[Gt("br"),this.replaceField,i("replace",()=>Kg(e),[ui(e,"replace")]),i("replaceAll",()=>BP(e),[ui(e,"replace all")]),Gt("button",{name:"close",onclick:()=>Ad(e),"aria-label":ui(e,"close"),type:"button"},["\xD7"])]])}commit(){let e=new _w({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:ul.of(e)}))}keydown(e){oT(this.view,e,"search-panel")?e.preventDefault():e.keyCode==13&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?uc:cc)(this.view)):e.keyCode==13&&e.target==this.replaceField&&(e.preventDefault(),Kg(this.view))}update(e){for(let t of e.transactions)for(let i of t.effects)i.is(ul)&&!i.value.eq(this.query)&&this.setQuery(i.value)}setQuery(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp,this.wordField.checked=e.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(tu).top}}function ui(n,e){return n.state.phrase(e)}const ea=30,ta=/[\s\.,:;?!]/;function Pd(n,{from:e,to:t}){let i=n.state.doc.lineAt(e),r=n.state.doc.lineAt(t).to,o=Math.max(i.from,e-ea),s=Math.min(r,t+ea),l=n.state.sliceDoc(o,s);if(o!=i.from){for(let a=0;a<ea;a++)if(!ta.test(l[a+1])&&ta.test(l[a])){l=l.slice(a);break}}if(s!=r){for(let a=l.length-1;a>l.length-ea;a--)if(!ta.test(l[a-1])&&ta.test(l[a])){l=l.slice(0,a);break}}return tt.announce.of(`${n.state.phrase("current match")}. ${l} ${n.state.phrase("on line")} ${i.number}.`)}const HP=tt.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),bh=[Nr,ms.lowest(RP),HP];class Sw{constructor(e,t,i){this.state=e,this.pos=t,this.explicit=i,this.abortListeners=[]}tokenBefore(e){let t=Kn(this.state).resolveInner(this.pos,-1);for(;t&&e.indexOf(t.name)<0;)t=t.parent;return t?{from:t.from,to:this.pos,text:this.state.sliceDoc(t.from,this.pos),type:t.type}:null}matchBefore(e){let t=this.state.doc.lineAt(this.pos),i=Math.max(t.from,this.pos-250),r=t.text.slice(i-t.from,this.pos-t.from),o=r.search(Cw(e,!1));return o<0?null:{from:i+o,to:this.pos,text:r.slice(o)}}get aborted(){return this.abortListeners==null}addEventListener(e,t){e=="abort"&&this.abortListeners&&this.abortListeners.push(t)}}function Jg(n){let e=Object.keys(n).join(""),t=/\w/.test(e);return t&&(e=e.replace(/\w/g,"")),`[${t?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function zP(n){let e=Object.create(null),t=Object.create(null);for(let{label:r}of n){e[r[0]]=!0;for(let o=1;o<r.length;o++)t[r[o]]=!0}let i=Jg(e)+Jg(t)+"*$";return[new RegExp("^"+i),new RegExp(i)]}function qP(n){let e=n.map(r=>typeof r=="string"?{label:r}:r),[t,i]=e.every(r=>/^\w+$/.test(r.label))?[/\w*$/,/\w+$/]:zP(e);return r=>{let o=r.matchBefore(i);return o||r.explicit?{from:o?o.from:r.pos,options:e,validFor:t}:null}}class Gg{constructor(e,t,i){this.completion=e,this.source=t,this.match=i}}function Dr(n){return n.selection.main.head}function Cw(n,e){var t;let{source:i}=n,r=e&&i[0]!="^",o=i[i.length-1]!="$";return!r&&!o?n:new RegExp(`${r?"^":""}(?:${i})${o?"$":""}`,(t=n.flags)!==null&&t!==void 0?t:n.ignoreCase?"i":"")}function WP(n,e,t,i){return Object.assign(Object.assign({},n.changeByRange(r=>{if(r==n.selection.main)return{changes:{from:t,to:i,insert:e},range:Se.cursor(t+e.length)};let o=i-t;return!r.empty||o&&n.sliceDoc(r.from-o,r.from)!=n.sliceDoc(t,i)?{range:r}:{changes:{from:r.from-o,to:r.from,insert:e},range:Se.cursor(r.from-o+e.length)}})),{userEvent:"input.complete"})}function xw(n,e){const t=e.completion.apply||e.completion.label;let i=e.source;typeof t=="string"?n.dispatch(WP(n.state,t,i.from,i.to)):t(n,e.completion,i.from,i.to)}const Qg=new WeakMap;function UP(n){if(!Array.isArray(n))return n;let e=Qg.get(n);return e||Qg.set(n,e=qP(n)),e}class KP{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[];for(let t=0;t<e.length;){let i=jn(e,t),r=hi(i);this.chars.push(i);let o=e.slice(t,t+r),s=o.toUpperCase();this.folded.push(jn(s==o?o.toLowerCase():s,0)),t+=r}this.astral=e.length!=this.chars.length}match(e){if(this.pattern.length==0)return[0];if(e.length<this.pattern.length)return null;let{chars:t,folded:i,any:r,precise:o,byWord:s}=this;if(t.length==1){let v=jn(e,0);return v==t[0]?[0,0,hi(v)]:v==i[0]?[-200,0,hi(v)]:null}let l=e.indexOf(this.pattern);if(l==0)return[0,0,this.pattern.length];let a=t.length,c=0;if(l<0){for(let v=0,k=Math.min(e.length,200);v<k&&c<a;){let b=jn(e,v);(b==t[c]||b==i[c])&&(r[c++]=v),v+=hi(b)}if(c<a)return null}let u=0,f=0,h=!1,d=0,m=-1,g=-1,y=/[a-z]/.test(e),p=!0;for(let v=0,k=Math.min(e.length,200),b=0;v<k&&f<a;){let S=jn(e,v);l<0&&(u<a&&S==t[u]&&(o[u++]=v),d<a&&(S==t[d]||S==i[d]?(d==0&&(m=v),g=v+1,d++):d=0));let O,I=S<255?S>=48&&S<=57||S>=97&&S<=122?2:S>=65&&S<=90?1:0:(O=od(S))!=O.toLowerCase()?1:O!=O.toUpperCase()?2:0;(!v||I==1&&y||b==0&&I!=0)&&(t[f]==S||i[f]==S&&(h=!0)?s[f++]=v:s.length&&(p=!1)),b=I,v+=hi(S)}return f==a&&s[0]==0&&p?this.result(-100+(h?-200:0),s,e):d==a&&m==0?[-200-e.length,0,g]:l>-1?[-700-e.length,l,l+this.pattern.length]:d==a?[-200+-700-e.length,m,g]:f==a?this.result(-100+(h?-200:0)+-700+(p?0:-1100),s,e):t.length==2?null:this.result((r[0]?-700:0)+-200+-1100,r,e)}result(e,t,i){let r=[e-i.length],o=1;for(let s of t){let l=s+(this.astral?hi(jn(i,s)):1);o>1&&r[o-1]==s?r[o-1]=l:(r[o++]=s,r[o++]=l)}return r}}const sr=$e.define({combine(n){return Hi(n,{activateOnTyping:!0,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],compareCompletions:(e,t)=>e.label.localeCompare(t.label)},{defaultKeymap:(e,t)=>e&&t,closeOnBlur:(e,t)=>e&&t,icons:(e,t)=>e&&t,optionClass:(e,t)=>i=>JP(e(i),t(i)),addToOptions:(e,t)=>e.concat(t)})}});function JP(n,e){return n?e?n+" "+e:n:e}function GP(n){let e=n.addToOptions.slice();return n.icons&&e.push({render(t){let i=document.createElement("div");return i.classList.add("cm-completionIcon"),t.type&&i.classList.add(...t.type.split(/\s+/g).map(r=>"cm-completionIcon-"+r)),i.setAttribute("aria-hidden","true"),i},position:20}),e.push({render(t,i,r){let o=document.createElement("span");o.className="cm-completionLabel";let{label:s}=t,l=0;for(let a=1;a<r.length;){let c=r[a++],u=r[a++];c>l&&o.appendChild(document.createTextNode(s.slice(l,c)));let f=o.appendChild(document.createElement("span"));f.appendChild(document.createTextNode(s.slice(c,u))),f.className="cm-completionMatchedText",l=u}return l<s.length&&o.appendChild(document.createTextNode(s.slice(l))),o},position:50},{render(t){if(!t.detail)return null;let i=document.createElement("span");return i.className="cm-completionDetail",i.textContent=t.detail,i},position:80}),e.sort((t,i)=>t.position-i.position).map(t=>t.render)}function Xg(n,e,t){if(n<=t)return{from:0,to:n};if(e<0&&(e=0),e<=n>>1){let r=Math.floor(e/t);return{from:r*t,to:(r+1)*t}}let i=Math.floor((n-e)/t);return{from:n-(i+1)*t,to:n-i*t}}class QP{constructor(e,t){this.view=e,this.stateField=t,this.info=null,this.placeInfo={read:()=>this.measureInfo(),write:l=>this.positionInfo(l),key:this};let i=e.state.field(t),{options:r,selected:o}=i.open,s=e.state.facet(sr);this.optionContent=GP(s),this.optionClass=s.optionClass,this.range=Xg(r.length,o,s.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.dom.addEventListener("mousedown",l=>{for(let a=l.target,c;a&&a!=this.dom;a=a.parentNode)if(a.nodeName=="LI"&&(c=/-(\d+)$/.exec(a.id))&&+c[1]<r.length){xw(e,r[+c[1]]),l.preventDefault();return}}),this.list=this.dom.appendChild(this.createListBox(r,i.id,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfo)})}mount(){this.updateSel()}update(e){e.state.field(this.stateField)!=e.startState.field(this.stateField)&&this.updateSel()}positioned(){this.info&&this.view.requestMeasure(this.placeInfo)}updateSel(){let e=this.view.state.field(this.stateField),t=e.open;if((t.selected<this.range.from||t.selected>=this.range.to)&&(this.range=Xg(t.options.length,t.selected,this.view.state.facet(sr).maxRenderedOptions),this.list.remove(),this.list=this.dom.appendChild(this.createListBox(t.options,e.id,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfo)})),this.updateSelectedOption(t.selected)){this.info&&(this.info.remove(),this.info=null);let{completion:i}=t.options[t.selected],{info:r}=i;if(!r)return;let o=typeof r=="string"?document.createTextNode(r):r(i);if(!o)return;"then"in o?o.then(s=>{s&&this.view.state.field(this.stateField,!1)==e&&this.addInfoPane(s)}).catch(s=>pi(this.view.state,s,"completion info")):this.addInfoPane(o)}}addInfoPane(e){let t=this.info=document.createElement("div");t.className="cm-tooltip cm-completionInfo",t.appendChild(e),this.dom.appendChild(t),this.view.requestMeasure(this.placeInfo)}updateSelectedOption(e){let t=null;for(let i=this.list.firstChild,r=this.range.from;i;i=i.nextSibling,r++)r==e?i.hasAttribute("aria-selected")||(i.setAttribute("aria-selected","true"),t=i):i.hasAttribute("aria-selected")&&i.removeAttribute("aria-selected");return t&&YP(this.list,t),t}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;let t=this.dom.getBoundingClientRect(),i=this.info.getBoundingClientRect(),r=e.getBoundingClientRect();if(r.top>Math.min(innerHeight,t.bottom)-10||r.bottom<Math.max(0,t.top)+10)return null;let o=Math.max(0,Math.min(r.top,innerHeight-i.height))-t.top,s=this.view.textDirection==cn.RTL,l=t.left,a=innerWidth-t.right;return s&&l<Math.min(i.width,a)?s=!1:!s&&a<Math.min(i.width,l)&&(s=!0),{top:o,left:s}}positionInfo(e){this.info&&(this.info.style.top=(e?e.top:-1e6)+"px",e&&(this.info.classList.toggle("cm-completionInfo-left",e.left),this.info.classList.toggle("cm-completionInfo-right",!e.left)))}createListBox(e,t,i){const r=document.createElement("ul");r.id=t,r.setAttribute("role","listbox"),r.setAttribute("aria-expanded","true"),r.setAttribute("aria-label",this.view.state.phrase("Completions"));for(let o=i.from;o<i.to;o++){let{completion:s,match:l}=e[o];const a=r.appendChild(document.createElement("li"));a.id=t+"-"+o,a.setAttribute("role","option");let c=this.optionClass(s);c&&(a.className=c);for(let u of this.optionContent){let f=u(s,this.view.state,l);f&&a.appendChild(f)}}return i.from&&r.classList.add("cm-completionListIncompleteTop"),i.to<e.length&&r.classList.add("cm-completionListIncompleteBottom"),r}}function XP(n){return e=>new QP(e,n)}function YP(n,e){let t=n.getBoundingClientRect(),i=e.getBoundingClientRect();i.top<t.top?n.scrollTop-=t.top-i.top:i.bottom>t.bottom&&(n.scrollTop+=i.bottom-t.bottom)}function Yg(n){return(n.boost||0)*100+(n.apply?10:0)+(n.info?5:0)+(n.type?1:0)}function ZP(n,e){let t=[],i=0;for(let l of n)if(l.hasResult())if(l.result.filter===!1){let a=l.result.getMatch;for(let c of l.result.options){let u=[1e9-i++];if(a)for(let f of a(c))u.push(f);t.push(new Gg(c,l,u))}}else{let a=new KP(e.sliceDoc(l.from,l.to)),c;for(let u of l.result.options)(c=a.match(u.label))&&(u.boost!=null&&(c[0]+=u.boost),t.push(new Gg(u,l,c)))}let r=[],o=null,s=e.facet(sr).compareCompletions;for(let l of t.sort((a,c)=>c.match[0]-a.match[0]||s(a.completion,c.completion)))!o||o.label!=l.completion.label||o.detail!=l.completion.detail||o.type!=null&&l.completion.type!=null&&o.type!=l.completion.type||o.apply!=l.completion.apply?r.push(l):Yg(l.completion)>Yg(o)&&(r[r.length-1]=l),o=l.completion;return r}class Hs{constructor(e,t,i,r,o){this.options=e,this.attrs=t,this.tooltip=i,this.timestamp=r,this.selected=o}setSelected(e,t){return e==this.selected||e>=this.options.length?this:new Hs(this.options,Zg(t,e),this.tooltip,this.timestamp,e)}static build(e,t,i,r,o){let s=ZP(e,t);if(!s.length)return null;let l=t.facet(sr).selectOnOpen?0:-1;if(r&&r.selected!=l&&r.selected!=-1){let a=r.options[r.selected].completion;for(let c=0;c<s.length;c++)if(s[c].completion==a){l=c;break}}return new Hs(s,Zg(i,l),{pos:e.reduce((a,c)=>c.hasResult()?Math.min(a,c.from):a,1e8),create:XP(bi),above:o.aboveCursor},r?r.timestamp:Date.now(),l)}map(e){return new Hs(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:e.mapPos(this.tooltip.pos)}),this.timestamp,this.selected)}}class fc{constructor(e,t,i){this.active=e,this.id=t,this.open=i}static start(){return new fc(t7,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(e){let{state:t}=e,i=t.facet(sr),o=(i.override||t.languageDataAt("autocomplete",Dr(t)).map(UP)).map(l=>(this.active.find(c=>c.source==l)||new ii(l,this.active.some(c=>c.state!=0)?1:0)).update(e,i));o.length==this.active.length&&o.every((l,a)=>l==this.active[a])&&(o=this.active);let s=e.selection||o.some(l=>l.hasResult()&&e.changes.touchesRange(l.from,l.to))||!$P(o,this.active)?Hs.build(o,t,this.id,this.open,i):this.open&&e.docChanged?this.open.map(e.changes):this.open;!s&&o.every(l=>l.state!=1)&&o.some(l=>l.hasResult())&&(o=o.map(l=>l.hasResult()?new ii(l.source,0):l));for(let l of e.effects)l.is(Ew)&&(s=s&&s.setSelected(l.value,this.id));return o==this.active&&s==this.open?this:new fc(o,this.id,s)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:e7}}function $P(n,e){if(n==e)return!0;for(let t=0,i=0;;){for(;t<n.length&&!n[t].hasResult;)t++;for(;i<e.length&&!e[i].hasResult;)i++;let r=t==n.length,o=i==e.length;if(r||o)return r==o;if(n[t++].result!=e[i++].result)return!1}}const e7={"aria-autocomplete":"list"};function Zg(n,e){let t={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":n};return e>-1&&(t["aria-activedescendant"]=n+"-"+e),t}const t7=[];function wh(n){return n.isUserEvent("input.type")?"input":n.isUserEvent("delete.backward")?"delete":null}class ii{constructor(e,t,i=-1){this.source=e,this.state=t,this.explicitPos=i}hasResult(){return!1}update(e,t){let i=wh(e),r=this;i?r=r.handleUserEvent(e,i,t):e.docChanged?r=r.handleChange(e):e.selection&&r.state!=0&&(r=new ii(r.source,0));for(let o of e.effects)if(o.is(Id))r=new ii(r.source,1,o.value?Dr(e.state):-1);else if(o.is(hc))r=new ii(r.source,0);else if(o.is(Ow))for(let s of o.value)s.source==r.source&&(r=s);return r}handleUserEvent(e,t,i){return t=="delete"||!i.activateOnTyping?this.map(e.changes):new ii(this.source,1)}handleChange(e){return e.changes.touchesRange(Dr(e.startState))?new ii(this.source,0):this.map(e.changes)}map(e){return e.empty||this.explicitPos<0?this:new ii(this.source,this.state,e.mapPos(this.explicitPos))}}class zs extends ii{constructor(e,t,i,r,o){super(e,2,t),this.result=i,this.from=r,this.to=o}hasResult(){return!0}handleUserEvent(e,t,i){var r;let o=e.changes.mapPos(this.from),s=e.changes.mapPos(this.to,1),l=Dr(e.state);if((this.explicitPos<0?l<=o:l<this.from)||l>s||t=="delete"&&Dr(e.startState)==this.from)return new ii(this.source,t=="input"&&i.activateOnTyping?1:0);let a=this.explicitPos<0?-1:e.changes.mapPos(this.explicitPos),c;return n7(this.result.validFor,e.state,o,s)?new zs(this.source,a,this.result,o,s):this.result.update&&(c=this.result.update(this.result,o,s,new Sw(e.state,l,a>=0)))?new zs(this.source,a,c,c.from,(r=c.to)!==null&&r!==void 0?r:Dr(e.state)):new ii(this.source,1,a)}handleChange(e){return e.changes.touchesRange(this.from,this.to)?new ii(this.source,0):this.map(e.changes)}map(e){return e.empty?this:new zs(this.source,this.explicitPos<0?-1:e.mapPos(this.explicitPos),this.result,e.mapPos(this.from),e.mapPos(this.to,1))}}function n7(n,e,t,i){if(!n)return!1;let r=e.sliceDoc(t,i);return typeof n=="function"?n(r,t,i,e):Cw(n,!0).test(r)}const Id=kt.define(),hc=kt.define(),Ow=kt.define({map(n,e){return n.map(t=>t.map(e))}}),Ew=kt.define(),bi=Tn.define({create(){return fc.start()},update(n,e){return n.update(e)},provide:n=>[Uc.from(n,e=>e.tooltip),tt.contentAttributes.from(n,e=>e.attrs)]}),Tw=75;function na(n,e="option"){return t=>{let i=t.state.field(bi,!1);if(!i||!i.open||Date.now()-i.open.timestamp<Tw)return!1;let r=1,o;e=="page"&&(o=WT(t,i.open.tooltip))&&(r=Math.max(2,Math.floor(o.dom.offsetHeight/o.dom.querySelector("li").offsetHeight)-1));let{length:s}=i.open.options,l=i.open.selected>-1?i.open.selected+r*(n?1:-1):n?0:s-1;return l<0?l=e=="page"?0:s-1:l>=s&&(l=e=="page"?s-1:0),t.dispatch({effects:Ew.of(l)}),!0}}const i7=n=>{let e=n.state.field(bi,!1);return n.state.readOnly||!e||!e.open||Date.now()-e.open.timestamp<Tw||e.open.selected<0?!1:(xw(n,e.open.options[e.open.selected]),!0)},r7=n=>n.state.field(bi,!1)?(n.dispatch({effects:Id.of(!0)}),!0):!1,o7=n=>{let e=n.state.field(bi,!1);return!e||!e.active.some(t=>t.state!=0)?!1:(n.dispatch({effects:hc.of(null)}),!0)};class s7{constructor(e,t){this.active=e,this.context=t,this.time=Date.now(),this.updates=[],this.done=void 0}}const $g=50,l7=50,a7=1e3,c7=kn.fromClass(class{constructor(n){this.view=n,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.composing=0;for(let e of n.state.field(bi).active)e.state==1&&this.startQuery(e)}update(n){let e=n.state.field(bi);if(!n.selectionSet&&!n.docChanged&&n.startState.field(bi)==e)return;let t=n.transactions.some(i=>(i.selection||i.docChanged)&&!wh(i));for(let i=0;i<this.running.length;i++){let r=this.running[i];if(t||r.updates.length+n.transactions.length>l7&&Date.now()-r.time>a7){for(let o of r.context.abortListeners)try{o()}catch(s){pi(this.view.state,s)}r.context.abortListeners=null,this.running.splice(i--,1)}else r.updates.push(...n.transactions)}if(this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),this.debounceUpdate=e.active.some(i=>i.state==1&&!this.running.some(r=>r.active.source==i.source))?setTimeout(()=>this.startUpdate(),$g):-1,this.composing!=0)for(let i of n.transactions)wh(i)=="input"?this.composing=2:this.composing==2&&i.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1;let{state:n}=this.view,e=n.field(bi);for(let t of e.active)t.state==1&&!this.running.some(i=>i.active.source==t.source)&&this.startQuery(t)}startQuery(n){let{state:e}=this.view,t=Dr(e),i=new Sw(e,t,n.explicitPos==t),r=new s7(n,i);this.running.push(r),Promise.resolve(n.source(i)).then(o=>{r.context.aborted||(r.done=o||null,this.scheduleAccept())},o=>{this.view.dispatch({effects:hc.of(null)}),pi(this.view.state,o)})}scheduleAccept(){this.running.every(n=>n.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),$g))}accept(){var n;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],t=this.view.state.facet(sr);for(let i=0;i<this.running.length;i++){let r=this.running[i];if(r.done===void 0)continue;if(this.running.splice(i--,1),r.done){let s=new zs(r.active.source,r.active.explicitPos,r.done,r.done.from,(n=r.done.to)!==null&&n!==void 0?n:Dr(r.updates.length?r.updates[0].startState:this.view.state));for(let l of r.updates)s=s.update(l,t);if(s.hasResult()){e.push(s);continue}}let o=this.view.state.field(bi).active.find(s=>s.source==r.active.source);if(o&&o.state==1)if(r.done==null){let s=new ii(r.active.source,0);for(let l of r.updates)s=s.update(l,t);s.state!=1&&e.push(s)}else this.startQuery(o)}e.length&&this.view.dispatch({effects:Ow.of(e)})}},{eventHandlers:{blur(){let n=this.view.state.field(bi,!1);n&&n.tooltip&&this.view.state.facet(sr).closeOnBlur&&this.view.dispatch({effects:hc.of(null)})},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:Id.of(!1)}),20),this.composing=0}}}),u7=tt.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",listStyle:"none",margin:0,padding:0,"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer",padding:"1px 3px",lineHeight:1.2}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'"\xB7\xB7\xB7"',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"300px"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"'\u0192'"}},".cm-completionIcon-class":{"&:after":{content:"'\u25CB'"}},".cm-completionIcon-interface":{"&:after":{content:"'\u25CC'"}},".cm-completionIcon-variable":{"&:after":{content:"'\u{1D465}'"}},".cm-completionIcon-constant":{"&:after":{content:"'\u{1D436}'"}},".cm-completionIcon-type":{"&:after":{content:"'\u{1D461}'"}},".cm-completionIcon-enum":{"&:after":{content:"'\u222A'"}},".cm-completionIcon-property":{"&:after":{content:"'\u25A1'"}},".cm-completionIcon-keyword":{"&:after":{content:"'\u{1F511}\uFE0E'"}},".cm-completionIcon-namespace":{"&:after":{content:"'\u25A2'"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}}),dc={brackets:["(","[","{","'",'"'],before:")]}:;>"},to=kt.define({map(n,e){let t=e.mapPos(n,-1,Gn.TrackAfter);return t==null?void 0:t}}),Nd=kt.define({map(n,e){return e.mapPos(n)}}),Dd=new class extends go{};Dd.startSide=1;Dd.endSide=-1;const Mw=Tn.define({create(){return zt.empty},update(n,e){if(e.selection){let t=e.state.doc.lineAt(e.selection.main.head).from,i=e.startState.doc.lineAt(e.startState.selection.main.head).from;t!=e.changes.mapPos(i,-1)&&(n=zt.empty)}n=n.map(e.changes);for(let t of e.effects)t.is(to)?n=n.update({add:[Dd.range(t.value,t.value+1)]}):t.is(Nd)&&(n=n.update({filter:i=>i!=t.value}));return n}});function f7(){return[d7,Mw]}const Ku="()[]{}<>";function Aw(n){for(let e=0;e<Ku.length;e+=2)if(Ku.charCodeAt(e)==n)return Ku.charAt(e+1);return od(n<128?n:n+1)}function Pw(n,e){return n.languageDataAt("closeBrackets",e)[0]||dc}const h7=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),d7=tt.inputHandler.of((n,e,t,i)=>{if((h7?n.composing:n.compositionStarted)||n.state.readOnly)return!1;let r=n.state.selection.main;if(i.length>2||i.length==2&&hi(jn(i,0))==1||e!=r.from||t!=r.to)return!1;let o=g7(n.state,i);return o?(n.dispatch(o),!0):!1}),m7=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let i=Pw(n,n.selection.main.head).brackets||dc.brackets,r=null,o=n.changeByRange(s=>{if(s.empty){let l=y7(n.doc,s.head);for(let a of i)if(a==l&&nu(n.doc,s.head)==Aw(jn(a,0)))return{changes:{from:s.head-a.length,to:s.head+a.length},range:Se.cursor(s.head-a.length),userEvent:"delete.backward"}}return{range:r=s}});return r||e(n.update(o,{scrollIntoView:!0})),!r},p7=[{key:"Backspace",run:m7}];function g7(n,e){let t=Pw(n,n.selection.main.head),i=t.brackets||dc.brackets;for(let r of i){let o=Aw(jn(r,0));if(e==r)return o==r?w7(n,r,i.indexOf(r+r+r)>-1):v7(n,r,o,t.before||dc.before);if(e==o&&Iw(n,n.selection.main.from))return b7(n,r,o)}return null}function Iw(n,e){let t=!1;return n.field(Mw).between(0,n.doc.length,i=>{i==e&&(t=!0)}),t}function nu(n,e){let t=n.sliceString(e,e+2);return t.slice(0,hi(jn(t,0)))}function y7(n,e){let t=n.sliceString(e-2,e);return hi(jn(t,0))==t.length?t:t.slice(1)}function v7(n,e,t,i){let r=null,o=n.changeByRange(s=>{if(!s.empty)return{changes:[{insert:e,from:s.from},{insert:t,from:s.to}],effects:to.of(s.to+e.length),range:Se.range(s.anchor+e.length,s.head+e.length)};let l=nu(n.doc,s.head);return!l||/\s/.test(l)||i.indexOf(l)>-1?{changes:{insert:e+t,from:s.head},effects:to.of(s.head+e.length),range:Se.cursor(s.head+e.length)}:{range:r=s}});return r?null:n.update(o,{scrollIntoView:!0,userEvent:"input.type"})}function b7(n,e,t){let i=null,r=n.selection.ranges.map(o=>o.empty&&nu(n.doc,o.head)==t?Se.cursor(o.head+t.length):i=o);return i?null:n.update({selection:Se.create(r,n.selection.mainIndex),scrollIntoView:!0,effects:n.selection.ranges.map(({from:o})=>Nd.of(o))})}function w7(n,e,t){let i=null,r=n.changeByRange(o=>{if(!o.empty)return{changes:[{insert:e,from:o.from},{insert:e,from:o.to}],effects:to.of(o.to+e.length),range:Se.range(o.anchor+e.length,o.head+e.length)};let s=o.head,l=nu(n.doc,s);if(l==e){if(e1(n,s))return{changes:{insert:e+e,from:s},effects:to.of(s+e.length),range:Se.cursor(s+e.length)};if(Iw(n,s)){let a=t&&n.sliceDoc(s,s+e.length*3)==e+e+e;return{range:Se.cursor(s+e.length*(a?3:1)),effects:Nd.of(s)}}}else{if(t&&n.sliceDoc(s-2*e.length,s)==e+e&&e1(n,s-2*e.length))return{changes:{insert:e+e+e+e,from:s},effects:to.of(s+e.length),range:Se.cursor(s+e.length)};if(n.charCategorizer(s)(l)!=an.Word){let a=n.sliceDoc(s-1,s);if(a!=e&&n.charCategorizer(s)(a)!=an.Word&&!_7(n,s,e))return{changes:{insert:e+e,from:s},effects:to.of(s+e.length),range:Se.cursor(s+e.length)}}}return{range:i=o}});return i?null:n.update(r,{scrollIntoView:!0,userEvent:"input.type"})}function e1(n,e){let t=Kn(n).resolveInner(e+1);return t.parent&&t.from==e}function _7(n,e,t){let i=Kn(n).resolveInner(e,-1);for(let r=0;r<5;r++){if(n.sliceDoc(i.from,i.from+t.length)==t){let s=i.firstChild;for(;s&&s.from==i.from&&s.to-s.from>t.length;){if(n.sliceDoc(s.to-t.length,s.to)==t)return!1;s=s.firstChild}return!0}let o=i.to==e&&i.parent;if(!o)break;i=o}return!1}function k7(n={}){return[bi,sr.of(n),c7,S7,u7]}const Nw=[{key:"Ctrl-Space",run:r7},{key:"Escape",run:o7},{key:"ArrowDown",run:na(!0)},{key:"ArrowUp",run:na(!1)},{key:"PageDown",run:na(!0,"page")},{key:"PageUp",run:na(!1,"page")},{key:"Enter",run:i7}],S7=ms.highest(Wc.computeN([sr],n=>n.facet(sr).defaultKeymap?[Nw]:[]));class C7{constructor(e,t,i){this.from=e,this.to=t,this.diagnostic=i}}class Yr{constructor(e,t,i){this.diagnostics=e,this.panel=t,this.selected=i}static init(e,t,i){let r=e,o=i.facet(no).markerFilter;o&&(r=o(r));let s=ct.set(r.map(l=>l.from==l.to||l.from==l.to-1&&i.doc.lineAt(l.from).to==l.from?ct.widget({widget:new N7(l),diagnostic:l}).range(l.from):ct.mark({attributes:{class:"cm-lintRange cm-lintRange-"+l.severity},diagnostic:l}).range(l.from,l.to)),!0);return new Yr(s,t,is(s))}}function is(n,e=null,t=0){let i=null;return n.between(t,1e9,(r,o,{spec:s})=>{if(!(e&&s.diagnostic!=e))return i=new C7(r,o,s.diagnostic),!1}),i}function Dw(n,e){return!!(n.effects.some(t=>t.is(iu))||n.changes.touchesRange(e.pos))}function Rw(n,e){return n.field(mi,!1)?e:e.concat(kt.appendConfig.of([mi,tt.decorations.compute([mi],t=>{let{selected:i,panel:r}=t.field(mi);return!i||!r||i.from==i.to?ct.none:ct.set([O7.range(i.from,i.to)])}),qT(E7,{hideOn:Dw}),D7]))}function x7(n,e){return{effects:Rw(n,[iu.of(e)])}}const iu=kt.define(),Rd=kt.define(),jw=kt.define(),mi=Tn.define({create(){return new Yr(ct.none,null,null)},update(n,e){if(e.docChanged){let t=n.diagnostics.map(e.changes),i=null;if(n.selected){let r=e.changes.mapPos(n.selected.from,1);i=is(t,n.selected.diagnostic,r)||is(t,null,r)}n=new Yr(t,n.panel,i)}for(let t of e.effects)t.is(iu)?n=Yr.init(t.value,n.panel,e.state):t.is(Rd)?n=new Yr(n.diagnostics,t.value?ru.open:null,n.selected):t.is(jw)&&(n=new Yr(n.diagnostics,n.panel,t.value));return n},provide:n=>[ll.from(n,e=>e.panel),tt.decorations.from(n,e=>e.diagnostics)]}),O7=ct.mark({class:"cm-lintRange cm-lintRange-active"});function E7(n,e,t){let{diagnostics:i}=n.state.field(mi),r=[],o=2e8,s=0;i.between(e-(t<0?1:0),e+(t>0?1:0),(a,c,{spec:u})=>{e>=a&&e<=c&&(a==c||(e>a||t>0)&&(e<c||t<0))&&(r.push(u.diagnostic),o=Math.min(a,o),s=Math.max(c,s))});let l=n.state.facet(no).tooltipFilter;return l&&(r=l(r)),r.length?{pos:o,end:s,above:n.state.doc.lineAt(o).to<s,create(){return{dom:Lw(n,r)}}}:null}function Lw(n,e){return Gt("ul",{class:"cm-tooltip-lint"},e.map(t=>Fw(n,t,!1)))}const T7=n=>{let e=n.state.field(mi,!1);(!e||!e.panel)&&n.dispatch({effects:Rw(n.state,[Rd.of(!0)])});let t=sl(n,ru.open);return t&&t.dom.querySelector(".cm-panel-lint ul").focus(),!0},t1=n=>{let e=n.state.field(mi,!1);return!e||!e.panel?!1:(n.dispatch({effects:Rd.of(!1)}),!0)},M7=n=>{let e=n.state.field(mi,!1);if(!e)return!1;let t=n.state.selection.main,i=e.diagnostics.iter(t.to+1);return!i.value&&(i=e.diagnostics.iter(0),!i.value||i.from==t.from&&i.to==t.to)?!1:(n.dispatch({selection:{anchor:i.from,head:i.to},scrollIntoView:!0}),!0)},A7=[{key:"Mod-Shift-m",run:T7},{key:"F8",run:M7}],P7=kn.fromClass(class{constructor(n){this.view=n,this.timeout=-1,this.set=!0;let{delay:e}=n.state.facet(no);this.lintTime=Date.now()+e,this.run=this.run.bind(this),this.timeout=setTimeout(this.run,e)}run(){let n=Date.now();if(n<this.lintTime-10)setTimeout(this.run,this.lintTime-n);else{this.set=!1;let{state:e}=this.view,{sources:t}=e.facet(no);Promise.all(t.map(i=>Promise.resolve(i(this.view)))).then(i=>{let r=i.reduce((o,s)=>o.concat(s));this.view.state.doc==e.doc&&this.view.dispatch(x7(this.view.state,r))},i=>{pi(this.view.state,i)})}}update(n){let e=n.state.facet(no);(n.docChanged||e!=n.startState.facet(no))&&(this.lintTime=Date.now()+e.delay,this.set||(this.set=!0,this.timeout=setTimeout(this.run,e.delay)))}force(){this.set&&(this.lintTime=Date.now(),this.run())}destroy(){clearTimeout(this.timeout)}}),no=$e.define({combine(n){return Object.assign({sources:n.map(e=>e.source)},Hi(n.map(e=>e.config),{delay:750,markerFilter:null,tooltipFilter:null}))},enables:P7});function I7(n,e={}){return no.of({source:n,config:e})}function Bw(n){let e=[];if(n)e:for(let{name:t}of n){for(let i=0;i<t.length;i++){let r=t[i];if(/[a-zA-Z]/.test(r)&&!e.some(o=>o.toLowerCase()==r.toLowerCase())){e.push(r);continue e}}e.push("")}return e}function Fw(n,e,t){var i;let r=t?Bw(e.actions):[];return Gt("li",{class:"cm-diagnostic cm-diagnostic-"+e.severity},Gt("span",{class:"cm-diagnosticText"},e.renderMessage?e.renderMessage():e.message),(i=e.actions)===null||i===void 0?void 0:i.map((o,s)=>{let l=f=>{f.preventDefault();let h=is(n.state.field(mi).diagnostics,e);h&&o.apply(n,h.from,h.to)},{name:a}=o,c=r[s]?a.indexOf(r[s]):-1,u=c<0?a:[a.slice(0,c),Gt("u",a.slice(c,c+1)),a.slice(c+1)];return Gt("button",{type:"button",class:"cm-diagnosticAction",onclick:l,onmousedown:l,"aria-label":` Action: ${a}${c<0?"":` (access key "${r[s]})"`}.`},u)}),e.source&&Gt("div",{class:"cm-diagnosticSource"},e.source))}class N7 extends Ur{constructor(e){super(),this.diagnostic=e}eq(e){return e.diagnostic==this.diagnostic}toDOM(){return Gt("span",{class:"cm-lintPoint cm-lintPoint-"+this.diagnostic.severity})}}class n1{constructor(e,t){this.diagnostic=t,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=Fw(e,t,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class ru{constructor(e){this.view=e,this.items=[];let t=r=>{if(r.keyCode==27)t1(this.view),this.view.focus();else if(r.keyCode==38||r.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(r.keyCode==40||r.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(r.keyCode==36)this.moveSelection(0);else if(r.keyCode==35)this.moveSelection(this.items.length-1);else if(r.keyCode==13)this.view.focus();else if(r.keyCode>=65&&r.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:o}=this.items[this.selectedIndex],s=Bw(o.actions);for(let l=0;l<s.length;l++)if(s[l].toUpperCase().charCodeAt(0)==r.keyCode){let a=is(this.view.state.field(mi).diagnostics,o);a&&o.actions[l].apply(e,a.from,a.to)}}else return;r.preventDefault()},i=r=>{for(let o=0;o<this.items.length;o++)this.items[o].dom.contains(r.target)&&this.moveSelection(o)};this.list=Gt("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:t,onclick:i}),this.dom=Gt("div",{class:"cm-panel-lint"},this.list,Gt("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>t1(this.view)},"\xD7")),this.update()}get selectedIndex(){let e=this.view.state.field(mi).selected;if(!e)return-1;for(let t=0;t<this.items.length;t++)if(this.items[t].diagnostic==e.diagnostic)return t;return-1}update(){let{diagnostics:e,selected:t}=this.view.state.field(mi),i=0,r=!1,o=null;for(e.between(0,this.view.state.doc.length,(s,l,{spec:a})=>{let c=-1,u;for(let f=i;f<this.items.length;f++)if(this.items[f].diagnostic==a.diagnostic){c=f;break}c<0?(u=new n1(this.view,a.diagnostic),this.items.splice(i,0,u),r=!0):(u=this.items[c],c>i&&(this.items.splice(i,c-i),r=!0)),t&&u.diagnostic==t.diagnostic?u.dom.hasAttribute("aria-selected")||(u.dom.setAttribute("aria-selected","true"),o=u):u.dom.hasAttribute("aria-selected")&&u.dom.removeAttribute("aria-selected"),i++});i<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)r=!0,this.items.pop();this.items.length==0&&(this.items.push(new n1(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),r=!0),o?(this.list.setAttribute("aria-activedescendant",o.id),this.view.requestMeasure({key:this,read:()=>({sel:o.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:s,panel:l})=>{s.top<l.top?this.list.scrollTop-=l.top-s.top:s.bottom>l.bottom&&(this.list.scrollTop+=s.bottom-l.bottom)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),r&&this.sync()}sync(){let e=this.list.firstChild;function t(){let i=e;e=i.nextSibling,i.remove()}for(let i of this.items)if(i.dom.parentNode==this.list){for(;e!=i.dom;)t();e=i.dom.nextSibling}else this.list.insertBefore(i.dom,e);for(;e;)t()}moveSelection(e){if(this.selectedIndex<0)return;let t=this.view.state.field(mi),i=is(t.diagnostics,this.items[e].diagnostic);!i||this.view.dispatch({selection:{anchor:i.from,head:i.to},scrollIntoView:!0,effects:jw.of(i)})}static open(e){return new ru(e)}}function _a(n,e='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${e}>${encodeURIComponent(n)}</svg>')`}function Ju(n){return _a(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${n}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const D7=tt.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:Ju("#d11")},".cm-lintRange-warning":{backgroundImage:Ju("orange")},".cm-lintRange-info":{backgroundImage:Ju("#999")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});class R7 extends or{constructor(e){super(),this.diagnostics=e,this.severity=e.reduce((t,i)=>{let r=i.severity;return r=="error"||r=="warning"&&t=="info"?r:t},"info")}toDOM(e){let t=document.createElement("div");t.className="cm-lint-marker cm-lint-marker-"+this.severity;let i=this.diagnostics,r=e.state.facet(ou).tooltipFilter;return r&&(i=r(i)),i.length&&(t.onmouseover=()=>L7(e,t,i)),t}}function j7(n,e){let t=i=>{let r=e.getBoundingClientRect();if(!(i.clientX>r.left-10&&i.clientX<r.right+10&&i.clientY>r.top-10&&i.clientY<r.bottom+10)){for(let o=i.target;o;o=o.parentNode)if(o.nodeType==1&&o.classList.contains("cm-tooltip-lint"))return;window.removeEventListener("mousemove",t),n.state.field(Hw)&&n.dispatch({effects:jd.of(null)})}};window.addEventListener("mousemove",t)}function L7(n,e,t){function i(){let s=n.elementAtHeight(e.getBoundingClientRect().top+5-n.documentTop);n.coordsAtPos(s.from)&&n.dispatch({effects:jd.of({pos:s.from,above:!1,create(){return{dom:Lw(n,t),getCoords:()=>e.getBoundingClientRect()}}})}),e.onmouseout=e.onmousemove=null,j7(n,e)}let{hoverTime:r}=n.state.facet(ou),o=setTimeout(i,r);e.onmouseout=()=>{clearTimeout(o),e.onmouseout=e.onmousemove=null},e.onmousemove=()=>{clearTimeout(o),o=setTimeout(i,r)}}function B7(n,e){let t=Object.create(null);for(let r of e){let o=n.lineAt(r.from);(t[o.from]||(t[o.from]=[])).push(r)}let i=[];for(let r in t)i.push(new R7(t[r]).range(+r));return zt.of(i,!0)}const F7=f2({class:"cm-gutter-lint",markers:n=>n.state.field(Vw)}),Vw=Tn.define({create(){return zt.empty},update(n,e){n=n.map(e.changes);let t=e.state.facet(ou).markerFilter;for(let i of e.effects)if(i.is(iu)){let r=i.value;t&&(r=t(r||[])),n=B7(e.state.doc,r.slice(0))}return n}}),jd=kt.define(),Hw=Tn.define({create(){return null},update(n,e){return n&&e.docChanged&&(n=Dw(e,n)?null:Object.assign(Object.assign({},n),{pos:e.changes.mapPos(n.pos)})),e.effects.reduce((t,i)=>i.is(jd)?i.value:t,n)},provide:n=>Uc.from(n)}),V7=tt.baseTheme({".cm-gutter-lint":{width:"1.4em","& .cm-gutterElement":{padding:".2em"}},".cm-lint-marker":{width:"1em",height:"1em"},".cm-lint-marker-info":{content:_a('<path fill="#aaf" stroke="#77e" stroke-width="6" stroke-linejoin="round" d="M5 5L35 5L35 35L5 35Z"/>')},".cm-lint-marker-warning":{content:_a('<path fill="#fe8" stroke="#fd7" stroke-width="6" stroke-linejoin="round" d="M20 6L37 35L3 35Z"/>')},".cm-lint-marker-error:before":{content:_a('<circle cx="20" cy="20" r="15" fill="#f87" stroke="#f43" stroke-width="6"/>')}}),ou=$e.define({combine(n){return Hi(n,{hoverTime:300,markerFilter:null,tooltipFilter:null})}});function H7(n={}){return[ou.of(n),Vw,F7,V7,Hw]}const z7=(()=>[ZT(),tM(),wT(),dA(),VM(),aT(),mT(),Ot.allowMultipleSelections.of(!0),EM(),D2(WM,{fallback:!0}),YM(),f7(),k7(),IT(),RT(),OT(),bP(),Wc.of([...p7,...dP,...FP,...CA,...LM,...Nw,...A7])])();class mc{constructor(e,t,i,r,o,s,l,a,c,u=0,f){this.p=e,this.stack=t,this.state=i,this.reducePos=r,this.pos=o,this.score=s,this.buffer=l,this.bufferBase=a,this.curContext=c,this.lookAhead=u,this.parent=f}toString(){return`[${this.stack.filter((e,t)=>t%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(e,t,i=0){let r=e.parser.context;return new mc(e,[],t,i,i,0,[],0,r?new i1(r,r.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(e,t){this.stack.push(this.state,t,this.bufferBase+this.buffer.length),this.state=e}reduce(e){let t=e>>19,i=e&65535,{parser:r}=this.p,o=r.dynamicPrecedence(i);if(o&&(this.score+=o),t==0){this.pushState(r.getGoto(this.state,i,!0),this.reducePos),i<r.minRepeatTerm&&this.storeNode(i,this.reducePos,this.reducePos,4,!0),this.reduceContext(i,this.reducePos);return}let s=this.stack.length-(t-1)*3-(e&262144?6:0),l=this.stack[s-2],a=this.stack[s-1],c=this.bufferBase+this.buffer.length-a;if(i<r.minRepeatTerm||e&131072){let u=r.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(i,l,u,c+4,!0)}if(e&262144)this.state=this.stack[s];else{let u=this.stack[s-3];this.state=r.getGoto(u,i,!0)}for(;this.stack.length>s;)this.stack.pop();this.reduceContext(i,l)}storeNode(e,t,i,r=4,o=!1){if(e==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let s=this,l=this.buffer.length;if(l==0&&s.parent&&(l=s.bufferBase-s.parent.bufferBase,s=s.parent),l>0&&s.buffer[l-4]==0&&s.buffer[l-1]>-1){if(t==i)return;if(s.buffer[l-2]>=t){s.buffer[l-2]=i;return}}}if(!o||this.pos==i)this.buffer.push(e,t,i,r);else{let s=this.buffer.length;if(s>0&&this.buffer[s-4]!=0)for(;s>0&&this.buffer[s-2]>i;)this.buffer[s]=this.buffer[s-4],this.buffer[s+1]=this.buffer[s-3],this.buffer[s+2]=this.buffer[s-2],this.buffer[s+3]=this.buffer[s-1],s-=4,r>4&&(r-=4);this.buffer[s]=e,this.buffer[s+1]=t,this.buffer[s+2]=i,this.buffer[s+3]=r}}shift(e,t,i){let r=this.pos;if(e&131072)this.pushState(e&65535,this.pos);else if((e&262144)==0){let o=e,{parser:s}=this.p;(i>this.pos||t<=s.maxNode)&&(this.pos=i,s.stateFlag(o,1)||(this.reducePos=i)),this.pushState(o,r),this.shiftContext(t,r),t<=s.maxNode&&this.buffer.push(t,r,i,4)}else this.pos=i,this.shiftContext(t,r),t<=this.p.parser.maxNode&&this.buffer.push(t,r,i,4)}apply(e,t,i){e&65536?this.reduce(e):this.shift(e,t,i)}useNode(e,t){let i=this.p.reused.length-1;(i<0||this.p.reused[i]!=e)&&(this.p.reused.push(e),i++);let r=this.pos;this.reducePos=this.pos=r+e.length,this.pushState(t,r),this.buffer.push(i,r,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}split(){let e=this,t=e.buffer.length;for(;t>0&&e.buffer[t-2]>e.reducePos;)t-=4;let i=e.buffer.slice(t),r=e.bufferBase+t;for(;e&&r==e.bufferBase;)e=e.parent;return new mc(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,i,r,this.curContext,this.lookAhead,e)}recoverByDelete(e,t){let i=e<=this.p.parser.maxNode;i&&this.storeNode(e,this.pos,t,4),this.storeNode(0,this.pos,t,i?8:4),this.pos=this.reducePos=t,this.score-=190}canShift(e){for(let t=new q7(this);;){let i=this.p.parser.stateSlot(t.state,4)||this.p.parser.hasAction(t.state,e);if((i&65536)==0)return!0;if(i==0)return!1;t.reduce(i)}}recoverByInsert(e){if(this.stack.length>=300)return[];let t=this.p.parser.nextStates(this.state);if(t.length>4<<1||this.stack.length>=120){let r=[];for(let o=0,s;o<t.length;o+=2)(s=t[o+1])!=this.state&&this.p.parser.hasAction(s,e)&&r.push(t[o],s);if(this.stack.length<120)for(let o=0;r.length<4<<1&&o<t.length;o+=2){let s=t[o+1];r.some((l,a)=>a&1&&l==s)||r.push(t[o],s)}t=r}let i=[];for(let r=0;r<t.length&&i.length<4;r+=2){let o=t[r+1];if(o==this.state)continue;let s=this.split();s.pushState(o,this.pos),s.storeNode(0,s.pos,s.pos,4,!0),s.shiftContext(t[r],this.pos),s.score-=200,i.push(s)}return i}forceReduce(){let e=this.p.parser.stateSlot(this.state,5);if((e&65536)==0)return!1;let{parser:t}=this.p;if(!t.validAction(this.state,e)){let i=e>>19,r=e&65535,o=this.stack.length-i*3;if(o<0||t.getGoto(this.stack[o],r,!1)<0)return!1;this.storeNode(0,this.reducePos,this.reducePos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(e),!0}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:e}=this.p;return e.data[e.stateSlot(this.state,1)]==65535&&!e.stateSlot(this.state,4)}restart(){this.state=this.stack[0],this.stack.length=0}sameState(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(let t=0;t<this.stack.length;t+=3)if(this.stack[t]!=e.stack[t])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(e){return this.p.parser.dialect.flags[e]}shiftContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(t)))}reduceContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(t)))}emitContext(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-3)&&this.buffer.push(this.curContext.hash,this.reducePos,this.reducePos,-3)}emitLookAhead(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-4)&&this.buffer.push(this.lookAhead,this.reducePos,this.reducePos,-4)}updateContext(e){if(e!=this.curContext.context){let t=new i1(this.curContext.tracker,e);t.hash!=this.curContext.hash&&this.emitContext(),this.curContext=t}}setLookAhead(e){e>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=e)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class i1{constructor(e,t){this.tracker=e,this.context=t,this.hash=e.strict?e.hash(t):0}}var r1;(function(n){n[n.Insert=200]="Insert",n[n.Delete=190]="Delete",n[n.Reduce=100]="Reduce",n[n.MaxNext=4]="MaxNext",n[n.MaxInsertStackDepth=300]="MaxInsertStackDepth",n[n.DampenInsertStackDepth=120]="DampenInsertStackDepth"})(r1||(r1={}));class q7{constructor(e){this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}reduce(e){let t=e&65535,i=e>>19;i==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(i-1)*3;let r=this.start.p.parser.getGoto(this.stack[this.base-3],t,!0);this.state=r}}class pc{constructor(e,t,i){this.stack=e,this.pos=t,this.index=i,this.buffer=e.buffer,this.index==0&&this.maybeNext()}static create(e,t=e.bufferBase+e.buffer.length){return new pc(e,t,t-e.bufferBase)}maybeNext(){let e=this.stack.parent;e!=null&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new pc(this.stack,this.pos,this.index)}}class ka{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const o1=new ka;class W7{constructor(e,t){this.input=e,this.ranges=t,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=o1,this.rangeIndex=0,this.pos=this.chunkPos=t[0].from,this.range=t[0],this.end=t[t.length-1].to,this.readNext()}resolveOffset(e,t){let i=this.range,r=this.rangeIndex,o=this.pos+e;for(;o<i.from;){if(!r)return null;let s=this.ranges[--r];o-=i.from-s.to,i=s}for(;t<0?o>i.to:o>=i.to;){if(r==this.ranges.length-1)return null;let s=this.ranges[++r];o+=s.from-i.to,i=s}return o}clipPos(e){if(e>=this.range.from&&e<this.range.to)return e;for(let t of this.ranges)if(t.to>e)return Math.max(e,t.from);return this.end}peek(e){let t=this.chunkOff+e,i,r;if(t>=0&&t<this.chunk.length)i=this.pos+e,r=this.chunk.charCodeAt(t);else{let o=this.resolveOffset(e,1);if(o==null)return-1;if(i=o,i>=this.chunk2Pos&&i<this.chunk2Pos+this.chunk2.length)r=this.chunk2.charCodeAt(i-this.chunk2Pos);else{let s=this.rangeIndex,l=this.range;for(;l.to<=i;)l=this.ranges[++s];this.chunk2=this.input.chunk(this.chunk2Pos=i),i+this.chunk2.length>l.to&&(this.chunk2=this.chunk2.slice(0,l.to-i)),r=this.chunk2.charCodeAt(0)}}return i>=this.token.lookAhead&&(this.token.lookAhead=i+1),r}acceptToken(e,t=0){let i=t?this.resolveOffset(t,-1):this.pos;if(i==null||i<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=i}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:e,chunkPos:t}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=t,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let e=this.input.chunk(this.pos),t=this.pos+e.length;this.chunk=t>this.range.to?e.slice(0,this.range.to-this.pos):e,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(e=1){for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(e,t){if(t?(this.token=t,t.start=e,t.lookAhead=e+1,t.value=t.extended=-1):this.token=o1,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(e,t){if(e>=this.chunkPos&&t<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,t-this.chunkPos);if(e>=this.chunk2Pos&&t<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,t-this.chunk2Pos);if(e>=this.range.from&&t<=this.range.to)return this.input.read(e,t);let i="";for(let r of this.ranges){if(r.from>=t)break;r.to>e&&(i+=this.input.read(Math.max(r.from,e),Math.min(r.to,t)))}return i}}class Sa{constructor(e,t){this.data=e,this.id=t}token(e,t){U7(this.data,e,t,this.id)}}Sa.prototype.contextual=Sa.prototype.fallback=Sa.prototype.extend=!1;function U7(n,e,t,i){let r=0,o=1<<i,{parser:s}=t.p,{dialect:l}=s;e:for(;(o&n[r])!=0;){let a=n[r+1];for(let h=r+3;h<a;h+=2)if((n[h+1]&o)>0){let d=n[h];if(l.allows(d)&&(e.token.value==-1||e.token.value==d||s.overrides(d,e.token.value))){e.acceptToken(d);break}}let c=e.next,u=0,f=n[r+2];if(e.next<0&&f>u&&n[a+f*3-3]==65535){r=n[a+f*3-1];continue e}for(;u<f;){let h=u+f>>1,d=a+h+(h<<1),m=n[d],g=n[d+1];if(c<m)f=h;else if(c>=g)u=h+1;else{r=n[d+2],e.advance();continue e}}break}}function ia(n,e=Uint16Array){if(typeof n!="string")return n;let t=null;for(let i=0,r=0;i<n.length;){let o=0;for(;;){let s=n.charCodeAt(i++),l=!1;if(s==126){o=65535;break}s>=92&&s--,s>=34&&s--;let a=s-32;if(a>=46&&(a-=46,l=!0),o+=a,l)break;o*=46}t?t[r++]=o:t=new e(o)}return t}const Oi=typeof process<"u"&&process.env&&/\bparse\b/.test(process.env.LOG);let Gu=null;var s1;(function(n){n[n.Margin=25]="Margin"})(s1||(s1={}));function l1(n,e,t){let i=n.cursor(Bn.IncludeAnonymous);for(i.moveTo(e);;)if(!(t<0?i.childBefore(e):i.childAfter(e)))for(;;){if((t<0?i.to<e:i.from>e)&&!i.type.isError)return t<0?Math.max(0,Math.min(i.to-1,e-25)):Math.min(n.length,Math.max(i.from+1,e+25));if(t<0?i.prevSibling():i.nextSibling())break;if(!i.parent())return t<0?0:n.length}}class K7{constructor(e,t){this.fragments=e,this.nodeSet=t,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?l1(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?l1(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let t=this.trees.length-1;if(t<0)return this.nextFragment(),null;let i=this.trees[t],r=this.index[t];if(r==i.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let o=i.children[r],s=this.start[t]+i.positions[r];if(s>e)return this.nextStart=s,null;if(o instanceof wn){if(s==e){if(s<this.safeFrom)return null;let l=s+o.length;if(l<=this.safeTo){let a=o.prop(Pt.lookAhead);if(!a||l+a<this.fragment.to)return o}}this.index[t]++,s+o.length>=Math.max(this.safeFrom,e)&&(this.trees.push(o),this.start.push(s),this.index.push(0))}else this.index[t]++,this.nextStart=s+o.length}}}class J7{constructor(e,t){this.stream=t,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map(i=>new ka)}getActions(e){let t=0,i=null,{parser:r}=e.p,{tokenizers:o}=r,s=r.stateSlot(e.state,3),l=e.curContext?e.curContext.hash:0,a=0;for(let c=0;c<o.length;c++){if((1<<c&s)==0)continue;let u=o[c],f=this.tokens[c];if(!(i&&!u.fallback)&&((u.contextual||f.start!=e.pos||f.mask!=s||f.context!=l)&&(this.updateCachedToken(f,u,e),f.mask=s,f.context=l),f.lookAhead>f.end+25&&(a=Math.max(f.lookAhead,a)),f.value!=0)){let h=t;if(f.extended>-1&&(t=this.addActions(e,f.extended,f.end,t)),t=this.addActions(e,f.value,f.end,t),!u.extend&&(i=f,t>h))break}}for(;this.actions.length>t;)this.actions.pop();return a&&e.setLookAhead(a),!i&&e.pos==this.stream.end&&(i=new ka,i.value=e.p.parser.eofTerm,i.start=i.end=e.pos,t=this.addActions(e,i.value,i.end,t)),this.mainToken=i,this.actions}getMainToken(e){if(this.mainToken)return this.mainToken;let t=new ka,{pos:i,p:r}=e;return t.start=i,t.end=Math.min(i+1,r.stream.end),t.value=i==r.stream.end?r.parser.eofTerm:0,t}updateCachedToken(e,t,i){let r=this.stream.clipPos(i.pos);if(t.token(this.stream.reset(r,e),i),e.value>-1){let{parser:o}=i.p;for(let s=0;s<o.specialized.length;s++)if(o.specialized[s]==e.value){let l=o.specializers[s](this.stream.read(e.start,e.end),i);if(l>=0&&i.p.parser.dialect.allows(l>>1)){(l&1)==0?e.value=l>>1:e.extended=l>>1;break}}}else e.value=0,e.end=this.stream.clipPos(r+1)}putAction(e,t,i,r){for(let o=0;o<r;o+=3)if(this.actions[o]==e)return r;return this.actions[r++]=e,this.actions[r++]=t,this.actions[r++]=i,r}addActions(e,t,i,r){let{state:o}=e,{parser:s}=e.p,{data:l}=s;for(let a=0;a<2;a++)for(let c=s.stateSlot(o,a?2:1);;c+=3){if(l[c]==65535)if(l[c+1]==1)c=ar(l,c+2);else{r==0&&l[c+1]==2&&(r=this.putAction(ar(l,c+2),t,i,r));break}l[c]==t&&(r=this.putAction(ar(l,c+1),t,i,r))}return r}}var a1;(function(n){n[n.Distance=5]="Distance",n[n.MaxRemainingPerStep=3]="MaxRemainingPerStep",n[n.MinBufferLengthPrune=500]="MinBufferLengthPrune",n[n.ForceReduceLimit=10]="ForceReduceLimit",n[n.CutDepth=15e3]="CutDepth",n[n.CutTo=9e3]="CutTo"})(a1||(a1={}));class G7{constructor(e,t,i,r){this.parser=e,this.input=t,this.ranges=r,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.stream=new W7(t,r),this.tokens=new J7(e,this.stream),this.topTerm=e.top[1];let{from:o}=r[0];this.stacks=[mc.start(this,e.top[0],o)],this.fragments=i.length&&this.stream.end-o>e.bufferLength*4?new K7(i,e.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let e=this.stacks,t=this.minStackPos,i=this.stacks=[],r,o;for(let s=0;s<e.length;s++){let l=e[s];for(;;){if(this.tokens.mainToken=null,l.pos>t)i.push(l);else{if(this.advanceStack(l,i,e))continue;{r||(r=[],o=[]),r.push(l);let a=this.tokens.getMainToken(l);o.push(a.value,a.end)}}break}}if(!i.length){let s=r&&X7(r);if(s)return this.stackToTree(s);if(this.parser.strict)throw Oi&&r&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+t);this.recovering||(this.recovering=5)}if(this.recovering&&r){let s=this.stoppedAt!=null&&r[0].pos>this.stoppedAt?r[0]:this.runRecovery(r,o,i);if(s)return this.stackToTree(s.forceAll())}if(this.recovering){let s=this.recovering==1?1:this.recovering*3;if(i.length>s)for(i.sort((l,a)=>a.score-l.score);i.length>s;)i.pop();i.some(l=>l.reducePos>t)&&this.recovering--}else if(i.length>1){e:for(let s=0;s<i.length-1;s++){let l=i[s];for(let a=s+1;a<i.length;a++){let c=i[a];if(l.sameState(c)||l.buffer.length>500&&c.buffer.length>500)if((l.score-c.score||l.buffer.length-c.buffer.length)>0)i.splice(a--,1);else{i.splice(s--,1);continue e}}}}this.minStackPos=i[0].pos;for(let s=1;s<i.length;s++)i[s].pos<this.minStackPos&&(this.minStackPos=i[s].pos);return null}stopAt(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}advanceStack(e,t,i){let r=e.pos,{parser:o}=this,s=Oi?this.stackID(e)+" -> ":"";if(this.stoppedAt!=null&&r>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments){let c=e.curContext&&e.curContext.tracker.strict,u=c?e.curContext.hash:0;for(let f=this.fragments.nodeAt(r);f;){let h=this.parser.nodeSet.types[f.type.id]==f.type?o.getGoto(e.state,f.type.id):-1;if(h>-1&&f.length&&(!c||(f.prop(Pt.contextHash)||0)==u))return e.useNode(f,h),Oi&&console.log(s+this.stackID(e)+` (via reuse of ${o.getName(f.type.id)})`),!0;if(!(f instanceof wn)||f.children.length==0||f.positions[0]>0)break;let d=f.children[0];if(d instanceof wn&&f.positions[0]==0)f=d;else break}}let l=o.stateSlot(e.state,4);if(l>0)return e.reduce(l),Oi&&console.log(s+this.stackID(e)+` (via always-reduce ${o.getName(l&65535)})`),!0;if(e.stack.length>=15e3)for(;e.stack.length>9e3&&e.forceReduce(););let a=this.tokens.getActions(e);for(let c=0;c<a.length;){let u=a[c++],f=a[c++],h=a[c++],d=c==a.length||!i,m=d?e:e.split();if(m.apply(u,f,h),Oi&&console.log(s+this.stackID(m)+` (via ${(u&65536)==0?"shift":`reduce of ${o.getName(u&65535)}`} for ${o.getName(f)} @ ${r}${m==e?"":", split"})`),d)return!0;m.pos>r?t.push(m):i.push(m)}return!1}advanceFully(e,t){let i=e.pos;for(;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>i)return c1(e,t),!0}}runRecovery(e,t,i){let r=null,o=!1;for(let s=0;s<e.length;s++){let l=e[s],a=t[s<<1],c=t[(s<<1)+1],u=Oi?this.stackID(l)+" -> ":"";if(l.deadEnd&&(o||(o=!0,l.restart(),Oi&&console.log(u+this.stackID(l)+" (restarted)"),this.advanceFully(l,i))))continue;let f=l.split(),h=u;for(let d=0;f.forceReduce()&&d<10&&(Oi&&console.log(h+this.stackID(f)+" (via force-reduce)"),!this.advanceFully(f,i));d++)Oi&&(h=this.stackID(f)+" -> ");for(let d of l.recoverByInsert(a))Oi&&console.log(u+this.stackID(d)+" (via recover-insert)"),this.advanceFully(d,i);this.stream.end>l.pos?(c==l.pos&&(c++,a=0),l.recoverByDelete(a,c),Oi&&console.log(u+this.stackID(l)+` (via recover-delete ${this.parser.getName(a)})`),c1(l,i)):(!r||r.score<l.score)&&(r=l)}return r}stackToTree(e){return e.close(),wn.build({buffer:pc.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(e){let t=(Gu||(Gu=new WeakMap)).get(e);return t||Gu.set(e,t=String.fromCodePoint(this.nextStackID++)),t+e}}function c1(n,e){for(let t=0;t<e.length;t++){let i=e[t];if(i.pos==n.pos&&i.sameState(n)){e[t].score<n.score&&(e[t]=n);return}}e.push(n)}class Q7{constructor(e,t,i){this.source=e,this.flags=t,this.disabled=i}allows(e){return!this.disabled||this.disabled[e]==0}}class gc extends v2{constructor(e){if(super(),this.wrappers=[],e.version!=14)throw new RangeError(`Parser version (${e.version}) doesn't match runtime version (${14})`);let t=e.nodeNames.split(" ");this.minRepeatTerm=t.length;for(let l=0;l<e.repeatNodeCount;l++)t.push("");let i=Object.keys(e.topRules).map(l=>e.topRules[l][1]),r=[];for(let l=0;l<t.length;l++)r.push([]);function o(l,a,c){r[l].push([a,a.deserialize(String(c))])}if(e.nodeProps)for(let l of e.nodeProps){let a=l[0];typeof a=="string"&&(a=Pt[a]);for(let c=1;c<l.length;){let u=l[c++];if(u>=0)o(u,a,l[c++]);else{let f=l[c+-u];for(let h=-u;h>0;h--)o(l[c++],a,f);c++}}}this.nodeSet=new pd(t.map((l,a)=>li.define({name:a>=this.minRepeatTerm?void 0:l,id:a,props:r[a],top:i.indexOf(a)>-1,error:a==0,skipped:e.skippedNodes&&e.skippedNodes.indexOf(a)>-1}))),e.propSources&&(this.nodeSet=this.nodeSet.extend(...e.propSources)),this.strict=!1,this.bufferLength=p2;let s=ia(e.tokenData);this.context=e.context,this.specializerSpecs=e.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let l=0;l<this.specializerSpecs.length;l++)this.specialized[l]=this.specializerSpecs[l].term;this.specializers=this.specializerSpecs.map(f1),this.states=ia(e.states,Uint32Array),this.data=ia(e.stateData),this.goto=ia(e.goto),this.maxTerm=e.maxTerm,this.tokenizers=e.tokenizers.map(l=>typeof l=="number"?new Sa(s,l):l),this.topRules=e.topRules,this.dialects=e.dialects||{},this.dynamicPrecedences=e.dynamicPrecedences||null,this.tokenPrecTable=e.tokenPrec,this.termNames=e.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(e,t,i){let r=new G7(this,e,t,i);for(let o of this.wrappers)r=o(r,e,t,i);return r}getGoto(e,t,i=!1){let r=this.goto;if(t>=r[0])return-1;for(let o=r[t+1];;){let s=r[o++],l=s&1,a=r[o++];if(l&&i)return a;for(let c=o+(s>>1);o<c;o++)if(r[o]==e)return a;if(l)return-1}}hasAction(e,t){let i=this.data;for(let r=0;r<2;r++)for(let o=this.stateSlot(e,r?2:1),s;;o+=3){if((s=i[o])==65535)if(i[o+1]==1)s=i[o=ar(i,o+2)];else{if(i[o+1]==2)return ar(i,o+2);break}if(s==t||s==0)return ar(i,o+1)}return 0}stateSlot(e,t){return this.states[e*6+t]}stateFlag(e,t){return(this.stateSlot(e,0)&t)>0}validAction(e,t){if(t==this.stateSlot(e,4))return!0;for(let i=this.stateSlot(e,1);;i+=3){if(this.data[i]==65535)if(this.data[i+1]==1)i=ar(this.data,i+2);else return!1;if(t==ar(this.data,i+1))return!0}}nextStates(e){let t=[];for(let i=this.stateSlot(e,1);;i+=3){if(this.data[i]==65535)if(this.data[i+1]==1)i=ar(this.data,i+2);else break;if((this.data[i+2]&1)==0){let r=this.data[i+1];t.some((o,s)=>s&1&&o==r)||t.push(this.data[i],r)}}return t}overrides(e,t){let i=u1(this.data,this.tokenPrecTable,t);return i<0||u1(this.data,this.tokenPrecTable,e)<i}configure(e){let t=Object.assign(Object.create(gc.prototype),this);if(e.props&&(t.nodeSet=this.nodeSet.extend(...e.props)),e.top){let i=this.topRules[e.top];if(!i)throw new RangeError(`Invalid top rule name ${e.top}`);t.top=i}return e.tokenizers&&(t.tokenizers=this.tokenizers.map(i=>{let r=e.tokenizers.find(o=>o.from==i);return r?r.to:i})),e.specializers&&(t.specializers=this.specializers.slice(),t.specializerSpecs=this.specializerSpecs.map((i,r)=>{let o=e.specializers.find(l=>l.from==i.external);if(!o)return i;let s=Object.assign(Object.assign({},i),{external:o.to});return t.specializers[r]=f1(s),s})),e.contextTracker&&(t.context=e.contextTracker),e.dialect&&(t.dialect=this.parseDialect(e.dialect)),e.strict!=null&&(t.strict=e.strict),e.wrap&&(t.wrappers=t.wrappers.concat(e.wrap)),e.bufferLength!=null&&(t.bufferLength=e.bufferLength),t}hasWrappers(){return this.wrappers.length>0}getName(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(e){let t=this.dynamicPrecedences;return t==null?0:t[e]||0}parseDialect(e){let t=Object.keys(this.dialects),i=t.map(()=>!1);if(e)for(let o of e.split(" ")){let s=t.indexOf(o);s>=0&&(i[s]=!0)}let r=null;for(let o=0;o<t.length;o++)if(!i[o])for(let s=this.dialects[t[o]],l;(l=this.data[s++])!=65535;)(r||(r=new Uint8Array(this.maxTerm+1)))[l]=1;return new Q7(e,i,r)}static deserialize(e){return new gc(e)}}function ar(n,e){return n[e]|n[e+1]<<16}function u1(n,e,t){for(let i=e,r;(r=n[i])!=65535;i++)if(r==t)return i-e;return-1}function X7(n){let e=null;for(let t of n){let i=t.p.stoppedAt;(t.pos==t.p.stream.end||i!=null&&t.pos>i)&&t.p.parser.stateFlag(t.state,2)&&(!e||e.score<t.score)&&(e=t)}return e}function f1(n){if(n.external){let e=n.extend?1:0;return(t,i)=>n.external(t,i)<<1|e}return n.get}const Y7=w2({String:De.string,Number:De.number,"True False":De.bool,PropertyName:De.propertyName,Null:De.null,",":De.separator,"[ ]":De.squareBracket,"{ }":De.brace}),Z7=gc.deserialize({version:14,states:"$bOVQPOOOOQO'#Cb'#CbOnQPO'#CeOvQPO'#CjOOQO'#Cp'#CpQOQPOOOOQO'#Cg'#CgO}QPO'#CfO!SQPO'#CrOOQO,59P,59PO![QPO,59PO!aQPO'#CuOOQO,59U,59UO!iQPO,59UOVQPO,59QOqQPO'#CkO!nQPO,59^OOQO1G.k1G.kOVQPO'#ClO!vQPO,59aOOQO1G.p1G.pOOQO1G.l1G.lOOQO,59V,59VOOQO-E6i-E6iOOQO,59W,59WOOQO-E6j-E6j",stateData:"#O~OcOS~OQSORSOSSOTSOWQO]ROePO~OVXOeUO~O[[O~PVOg^O~Oh_OVfX~OVaO~OhbO[iX~O[dO~Oh_OVfa~OhbO[ia~O",goto:"!kjPPPPPPkPPkqwPPk{!RPPP!XP!ePP!hXSOR^bQWQRf_TVQ_Q`WRg`QcZRicQTOQZRQe^RhbRYQR]R",nodeNames:"\u26A0 JsonText True False Null Number String } { Object Property PropertyName ] [ Array",maxTerm:25,nodeProps:[["openedBy",7,"{",12,"["],["closedBy",8,"}",13,"]"]],propSources:[Y7],skippedNodes:[0],repeatNodeCount:2,tokenData:"(p~RaXY!WYZ!W]^!Wpq!Wrs!]|}$i}!O$n!Q!R$w!R![&V![!]&h!}#O&m#P#Q&r#Y#Z&w#b#c'f#h#i'}#o#p(f#q#r(k~!]Oc~~!`Upq!]qr!]rs!rs#O!]#O#P!w#P~!]~!wOe~~!zXrs!]!P!Q!]#O#P!]#U#V!]#Y#Z!]#b#c!]#f#g!]#h#i!]#i#j#g~#jR!Q![#s!c!i#s#T#Z#s~#vR!Q![$P!c!i$P#T#Z$P~$SR!Q![$]!c!i$]#T#Z$]~$`R!Q![!]!c!i!]#T#Z!]~$nOh~~$qQ!Q!R$w!R![&V~$|RT~!O!P%V!g!h%k#X#Y%k~%YP!Q![%]~%bRT~!Q![%]!g!h%k#X#Y%k~%nR{|%w}!O%w!Q![%}~%zP!Q![%}~&SPT~!Q![%}~&[ST~!O!P%V!Q![&V!g!h%k#X#Y%k~&mOg~~&rO]~~&wO[~~&zP#T#U&}~'QP#`#a'T~'WP#g#h'Z~'^P#X#Y'a~'fOR~~'iP#i#j'l~'oP#`#a'r~'uP#`#a'x~'}OS~~(QP#f#g(T~(WP#i#j(Z~(^P#X#Y(a~(fOQ~~(kOW~~(pOV~",tokenizers:[0],topRules:{JsonText:[0,1]},tokenPrec:0}),$7=Za.define({parser:Z7.configure({props:[C2.add({Object:Ig({except:/^\s*\}/}),Array:Ig({except:/^\s*\]/})}),O2.add({"Object Array":MM})]}),languageData:{closeBrackets:{brackets:["[","{",'"']},indentOnInput:/^\s*[\}\]]$/}});function eI(){return new yM($7)}function h1(n){let e,t,i;return{c(){e=R("div"),t=Be("Line: "),i=Be(n[0]),_(e,"class","jse-status-bar-info svelte-outk3w")},m(r,o){$(r,e,o),E(e,t),E(e,i)},p(r,o){o&1&&St(i,r[0])},d(r){r&&Z(e)}}}function d1(n){let e,t,i;return{c(){e=R("div"),t=Be("Column: "),i=Be(n[1]),_(e,"class","jse-status-bar-info svelte-outk3w")},m(r,o){$(r,e,o),E(e,t),E(e,i)},p(r,o){o&2&&St(i,r[1])},d(r){r&&Z(e)}}}function m1(n){let e,t,i,r;return{c(){e=R("div"),t=Be("Selection: "),i=Be(n[2]),r=Be(" characters"),_(e,"class","jse-status-bar-info svelte-outk3w")},m(o,s){$(o,e,s),E(e,t),E(e,i),E(e,r)},p(o,s){s&4&&St(i,o[2])},d(o){o&&Z(e)}}}function tI(n){let e,t,i,r=n[0]!==void 0&&h1(n),o=n[1]!==void 0&&d1(n),s=n[2]!==void 0&&n[2]>0&&m1(n);return{c(){e=R("div"),r&&r.c(),t=oe(),o&&o.c(),i=oe(),s&&s.c(),_(e,"class","jse-status-bar svelte-outk3w")},m(l,a){$(l,e,a),r&&r.m(e,null),E(e,t),o&&o.m(e,null),E(e,i),s&&s.m(e,null)},p(l,[a]){l[0]!==void 0?r?r.p(l,a):(r=h1(l),r.c(),r.m(e,t)):r&&(r.d(1),r=null),l[1]!==void 0?o?o.p(l,a):(o=d1(l),o.c(),o.m(e,i)):o&&(o.d(1),o=null),l[2]!==void 0&&l[2]>0?s?s.p(l,a):(s=m1(l),s.c(),s.m(e,null)):s&&(s.d(1),s=null)},i:xe,o:xe,d(l){l&&Z(e),r&&r.d(),o&&o.d(),s&&s.d()}}}function nI(n,e,t){var i,r,o,s,l;let{editorState:a}=e,c,u,f,h,d;return n.$$set=m=>{"editorState"in m&&t(3,a=m.editorState)},n.$$.update=()=>{n.$$.dirty&56&&t(9,c=t(5,r=t(4,i=a==null?void 0:a.selection)===null||i===void 0?void 0:i.main)===null||r===void 0?void 0:r.head),n.$$.dirty&584&&t(10,u=t(6,o=a==null?void 0:a.doc)===null||o===void 0?void 0:o.lineAt(c)),n.$$.dirty&1024&&t(0,f=u?u.number:void 0),n.$$.dirty&1536&&t(1,h=u?c-u.from+1:void 0),n.$$.dirty&392&&t(2,d=t(8,l=t(7,s=a==null?void 0:a.selection)===null||s===void 0?void 0:s.ranges)===null||l===void 0?void 0:l.reduce((m,g)=>m+g.to-g.from,0))},[f,h,d,a,i,r,o,s,l,c,u]}class iI extends Xe{constructor(e){super(),Qe(this,e,nI,tI,tn,{editorState:3})}}const Ld=Cl.define([{tag:De.propertyName,color:"var(--jse-key-color)"},{tag:De.number,color:"var(--jse-value-color-number)"},{tag:De.bool,color:"var(--jse-value-color-boolean)"},{tag:De.string,color:"var(--jse-value-color-string)"},{tag:De.keyword,color:"var(--jse-value-color-null)"}]),rI=D2(Ld),oI=Ld.style;Ld.style=n=>oI(n||[]);function sI(n){return n&&n.space===!0&&Object.keys(n).length===1}function p1(n){return typeof n.parseError=="object"&&n.parseError!==null}function lI(n){return Array.isArray(n.validationErrors)}var g1=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function aI(n,e){return!!(n===e||g1(n)&&g1(e))}function cI(n,e){if(n.length!==e.length)return!1;for(var t=0;t<n.length;t++)if(!aI(n[t],e[t]))return!1;return!0}function zw(n,e){e===void 0&&(e=cI);var t=null;function i(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];if(t&&t.lastThis===this&&e(r,t.lastArgs))return t.lastResult;var s=n.apply(this,r);return t={lastResult:s,lastArgs:r,lastThis:this},s}return i.clear=function(){t=null},i}function Qu(n,e){const t=Date.now(),i=n(),r=Date.now();return e(r-t),i}const Is=$n("validation");function uI(n){const e={};return n.forEach(t=>{e[Fe(t.path)]=t}),n.forEach(t=>{let i=t.path;for(;i.length>0;){i=Rt(i);const r=Fe(i);r in e||(e[r]={isChildError:!0,path:i,message:"Contains invalid data"})}}),e}function fI(n,e){return Is("validateJSON"),e(n)}function hI(n,e){if(Is("validateText"),n.length>fk)return{validationErrors:[{path:[],message:"Validation turned off: the document is too large",severity:Ys.info}]};if(n.length===0)return{validationErrors:[]};try{const t=Qu(()=>JSON.parse(n),r=>Is(`validate: parsed json in ${r} ms`));return e?{validationErrors:Qu(()=>e(t),r=>Is(`validate: validated json in ${r} ms`))}:{validationErrors:[]}}catch(t){const i=Qu(()=>dI(n),o=>Is(`validate: checked whether repairable in ${o} ms`));return{parseError:Yh(n,t.message||t.toString()),isRepairable:i}}}function dI(n){if(n.length>hk)return!1;try{return JSON.parse(Ir(n)),!0}catch{return!1}}function y1(n){let e,t;return e=new kO({props:{readOnly:n[1],onFormat:n[17],onCompact:n[18],onSort:n[19],onTransform:n[20],onToggleSearch:n[21],onUndo:n[22],onRedo:n[23],canFormat:!n[15],canCompact:!n[15],canSort:!n[15],canTransform:!n[15],canUndo:n[10],canRedo:n[11],onRenderMenu:n[5]}}),{c(){ye(e.$$.fragment)},m(i,r){me(e,i,r),t=!0},p(i,r){const o={};r[0]&2&&(o.readOnly=i[1]),r[0]&32768&&(o.canFormat=!i[15]),r[0]&32768&&(o.canCompact=!i[15]),r[0]&32768&&(o.canSort=!i[15]),r[0]&32768&&(o.canTransform=!i[15]),r[0]&1024&&(o.canUndo=i[10]),r[0]&2048&&(o.canRedo=i[11]),r[0]&32&&(o.onRenderMenu=i[5]),e.$set(o)},i(i){t||(A(e.$$.fragment,i),t=!0)},o(i){j(e.$$.fragment,i),t=!1},d(i){pe(e,i)}}}function mI(n){let e;return{c(){e=R("div"),e.innerHTML=`<div class="jse-loading-space svelte-7prtn5"></div> 
      <div class="jse-loading svelte-7prtn5">loading...</div>`,_(e,"class","jse-contents svelte-7prtn5")},m(t,i){$(t,e,i)},p:xe,i:xe,o:xe,d(t){t&&Z(e)}}}function pI(n){let e,t,i,r,o,s,l,a=n[14]&&v1(n),c=n[3]&&b1(n),u=n[12]&&w1(n);return s=new Gv({props:{validationErrors:n[9],selectError:n[26]}}),{c(){a&&a.c(),e=oe(),t=R("div"),i=oe(),c&&c.c(),r=oe(),u&&u.c(),o=oe(),ye(s.$$.fragment),_(t,"class","jse-contents svelte-7prtn5"),Ne(t,"jse-hidden",n[14])},m(f,h){a&&a.m(f,h),$(f,e,h),$(f,t,h),n[47](t),$(f,i,h),c&&c.m(f,h),$(f,r,h),u&&u.m(f,h),$(f,o,h),me(s,f,h),l=!0},p(f,h){f[14]?a?(a.p(f,h),h[0]&16384&&A(a,1)):(a=v1(f),a.c(),A(a,1),a.m(e.parentNode,e)):a&&(Ee(),j(a,1,1,()=>{a=null}),Te()),h[0]&16384&&Ne(t,"jse-hidden",f[14]),f[3]?c?(c.p(f,h),h[0]&8&&A(c,1)):(c=b1(f),c.c(),A(c,1),c.m(r.parentNode,r)):c&&(Ee(),j(c,1,1,()=>{c=null}),Te()),f[12]?u?(u.p(f,h),h[0]&4096&&A(u,1)):(u=w1(f),u.c(),A(u,1),u.m(o.parentNode,o)):u&&(Ee(),j(u,1,1,()=>{u=null}),Te());const d={};h[0]&512&&(d.validationErrors=f[9]),s.$set(d)},i(f){l||(A(a),A(c),A(u),A(s.$$.fragment,f),l=!0)},o(f){j(a),j(c),j(u),j(s.$$.fragment,f),l=!1},d(f){a&&a.d(f),f&&Z(e),f&&Z(t),n[47](null),f&&Z(i),c&&c.d(f),f&&Z(r),u&&u.d(f),f&&Z(o),pe(s,f)}}}function v1(n){let e,t;return e=new Co({props:{icon:ds,type:"error",message:`The JSON document is larger than ${Fl(uf,1024)}, and may crash your browser when loading it in text mode. Actual size: ${Fl(n[0].length,1024)}.`,actions:[{text:"Open anyway",title:"Open the document in text mode. This may freeze or crash your browser.",onClick:n[24]},{text:"Open in tree mode",title:"Open the document in tree mode. Tree mode can handle large documents.",onClick:n[4]},{text:"Cancel",title:"Cancel opening this large document.",onClick:n[25]}]}}),{c(){ye(e.$$.fragment)},m(i,r){me(e,i,r),t=!0},p(i,r){const o={};r[0]&1&&(o.message=`The JSON document is larger than ${Fl(uf,1024)}, and may crash your browser when loading it in text mode. Actual size: ${Fl(i[0].length,1024)}.`),r[0]&16&&(o.actions=[{text:"Open anyway",title:"Open the document in text mode. This may freeze or crash your browser.",onClick:i[24]},{text:"Open in tree mode",title:"Open the document in tree mode. Tree mode can handle large documents.",onClick:i[4]},{text:"Cancel",title:"Cancel opening this large document.",onClick:i[25]}]),e.$set(o)},i(i){t||(A(e.$$.fragment,i),t=!0)},o(i){j(e.$$.fragment,i),t=!1},d(i){pe(e,i)}}}function b1(n){let e,t;return e=new iI({props:{editorState:n[8]}}),{c(){ye(e.$$.fragment)},m(i,r){me(e,i,r),t=!0},p(i,r){const o={};r[0]&256&&(o.editorState=i[8]),e.$set(o)},i(i){t||(A(e.$$.fragment,i),t=!0)},o(i){j(e.$$.fragment,i),t=!1},d(i){pe(e,i)}}}function w1(n){let e,t;return e=new Co({props:{type:"error",icon:ds,message:n[12].message,actions:n[13],onClick:n[48]}}),{c(){ye(e.$$.fragment)},m(i,r){me(e,i,r),t=!0},p(i,r){const o={};r[0]&4096&&(o.message=i[12].message),r[0]&8192&&(o.actions=i[13]),r[0]&4096&&(o.onClick=i[48]),e.$set(o)},i(i){t||(A(e.$$.fragment,i),t=!0)},o(i){j(e.$$.fragment,i),t=!1},d(i){pe(e,i)}}}function gI(n){let e,t,i,r,o,s=n[2]&&y1(n);const l=[pI,mI],a=[];function c(u,f){return u[16]?1:0}return i=c(n),r=a[i]=l[i](n),{c(){e=R("div"),s&&s.c(),t=oe(),r.c(),_(e,"class","jse-text-mode svelte-7prtn5"),Ne(e,"no-main-menu",!n[2])},m(u,f){$(u,e,f),s&&s.m(e,null),E(e,t),a[i].m(e,null),n[49](e),o=!0},p(u,f){u[2]?s?(s.p(u,f),f[0]&4&&A(s,1)):(s=y1(u),s.c(),A(s,1),s.m(e,t)):s&&(Ee(),j(s,1,1,()=>{s=null}),Te()),r.p(u,f),f[0]&4&&Ne(e,"no-main-menu",!u[2])},i(u){o||(A(s),A(r),o=!0)},o(u){j(s),j(r),o=!1},d(u){u&&Z(e),s&&s.d(),a[i].d(),n[49](null)}}}function _1(n){return{from:n.from,to:n.to,message:n.message,actions:n.actions,severity:n.severity,source:void 0}}function yI(n,e,t){let i,r,o,s,l,{readOnly:a=!1}=e,{mainMenuBar:c=!0}=e,{statusBar:u=!0}=e,{text:f=""}=e,{indentation:h=2}=e,{tabSize:d=4}=e,{escapeUnicodeCharacters:m=!1}=e,{validator:g=null}=e,{onChange:y=null}=e,{onSwitchToTreeMode:p=Vt}=e,{onError:v}=e,{onFocus:k=Vt}=e,{onBlur:b=Vt}=e,{onRenderMenu:S=Vt}=e,{onSortModal:O}=e,{onTransformModal:I}=e;const L=$n("jsoneditor:TextMode"),P={key:"Mod-i",run:ve,shift:Pe,preventDefault:!0},D=typeof window>"u";L("isSSR:",D);let H,F,q,U,B,Q=!1,re=[];const le=new Er,x=new Er,N=new Er,ie=new Er;let ne=m;ki(async()=>{if(!D)try{F=T({target:H,initialText:o?"":f,readOnly:a,indentation:h}),se()}catch(ce){console.error(ce)}}),lo(()=>{F&&(L("Destroy CodeMirror editor"),F.destroy())});let z=!1,w=!1;const C=ja(),J=ja();function se(){F&&(L("focus"),F.focus())}let ee=!1;Uv({onMount:ki,onDestroy:lo,getWindow:()=>Zs(U),hasFocus:()=>ee&&document.hasFocus()||Mf(U),onFocus:k,onBlur:b});function ge(ce){L("patch",ce);const We=f,_t=JSON.parse(f),vt=ro(_t,ce),xt=Jy(_t,ce);return t(0,f=JSON.stringify(vt,null,h)),f!==We&&Ge(f,We),{json:vt,previousJson:_t,undo:xt,redo:ce}}function ve(){if(L("format"),!a)try{const ce=f,We=JSON.parse(f);t(0,f=JSON.stringify(We,null,h)),f!==ce&&Ge(f,ce)}catch(ce){v(ce)}}function Pe(){if(L("compact"),!a)try{const ce=f,We=JSON.parse(f);t(0,f=JSON.stringify(We)),f!==ce&&Ge(f,ce)}catch(ce){v(ce)}}function ze(){if(L("repair"),!a)try{const ce=f;t(0,f=Ir(f)),t(45,nt=mu),t(12,it=void 0),f!==ce&&Ge(f,ce)}catch(ce){v(ce)}}function Me(){if(!a)try{const ce=JSON.parse(f);ee=!0,O({id:C,json:ce,selectedPath:[],onSort:async We=>{L("onSort",We),ge(We)},onClose:()=>{ee=!1,se()}})}catch(ce){v(ce)}}function ae({id:ce,selectedPath:We,onTransform:_t,onClose:vt}){try{const xt=JSON.parse(f);ee=!0,I({id:ce||J,json:xt,selectedPath:We,onTransform:_t?At=>{_t({operations:At,json:xt,transformedJson:ro(xt,At)})}:At=>{L("onTransform",At),ge(At)},onClose:()=>{ee=!1,se(),vt&&vt()}})}catch(xt){v(xt)}}function Re(){a||ae({selectedPath:[]})}function Le(){F&&(H&&H.querySelector(".cm-search")?Ad(F):Md(F))}function rt(){a||F&&(Cd(F),se())}function Oe(){a||F&&(ic(F),se())}function ke(){t(43,Q=!0),be(f,!0)}function ot(){je()}function lt(ce){L("select validation error",ce);const We=X(ce);mt(We.from,We.to),se()}function at(ce){L("select parse error",ce);const We=te(ce,!1);mt(We.from,We.to),se()}function mt(ce,We){L("setSelection",{anchor:ce,head:We}),F&&F.dispatch(F.state.update({selection:{anchor:ce,head:We},scrollIntoView:!0}))}function It(ce,We){if(We.state.selection.ranges.length===1){const _t=We.state.selection.ranges[0],vt=f.slice(_t.from,_t.to);if(vt==="{"||vt==="["){const xt=Ec.parse(f),At=Object.keys(xt.pointers).find(un=>{var Ct;return((Ct=xt.pointers[un].value)===null||Ct===void 0?void 0:Ct.pos)===_t.from}),qt=xt.pointers[At];if(At&&qt&&qt.value&&qt.valueEnd){L("pointer found, selecting inner contents of path:",At,qt);const un=qt.value.pos+1,Ct=qt.valueEnd.pos-1;mt(un,Ct)}}}}function de(){return I7(ft,{delay:$d})}function T({target:ce,initialText:We,readOnly:_t,indentation:vt}){L("Create CodeMirror editor",{readOnly:_t,indentation:vt});const xt=Ot.create({doc:We,extensions:[Wc.of([mP,P]),le.of(de()),H7(),z7,rI,tt.domEventHandlers({dblclick:It}),tt.updateListener.of(At=>{t(8,B=At.state),At.docChanged&&Ie()}),eI(),TP({top:!0}),x.of(Ot.readOnly.of(_t)),ie.of(Ot.tabSize.of(d)),N.of(he(vt)),tt.lineWrapping]});return F=new tt({state:xt,parent:ce}),F}function W(){return F?s.unescapeValue(F.state.doc.toString()):""}function X(ce){const{path:We,message:_t}=ce,{line:vt,column:xt,from:At,to:qt}=H6(f,We);return{path:We,line:vt,column:xt,from:At,to:qt,message:_t,severity:Ys.warning,actions:[]}}function te(ce,We){const{line:_t,column:vt,position:xt,message:At}=ce;return{path:null,line:_t,column:vt,from:xt||0,to:xt||0,severity:Ys.error,message:At,actions:We&&!a?[{name:"Auto repair",apply:()=>ze()}]:null}}function be(ce,We=!1){if(o&&!We){L("not applying text: editor is disabled");return}F&&ce!==q&&(L("setCodeMirrorValue length=",ce.length),q=ce,F.dispatch({changes:{from:0,to:F.state.doc.length,insert:s.escapeValue(ce)}}),fe())}function Ae(){L("refresh");const ce=F.state.doc.length;F.dispatch({changes:{from:ce,to:ce,insert:" "}}),F.dispatch({changes:{from:ce,to:ce+1,insert:""}})}function Je(){L("forceUpdateText",{escapeUnicodeCharacters:m}),F&&F.dispatch({changes:{from:0,to:F.state.doc.length,insert:s.escapeValue(f)}})}function je(){if(!!F&&(q=W(),q!==f)){const ce=q;L("text changed"),t(0,f=q),fe(),Ge(f,ce)}}function Tt(ce){L("updateLinter",ce),F&&F.dispatch({effects:le.reconfigure(de())})}function M(ce){F&&(L("updateIndentation",ce),F.dispatch({effects:N.reconfigure(he(ce))}))}function G(ce){F&&(L("updateTabSize",ce),F.dispatch({effects:ie.reconfigure(Ot.tabSize.of(ce))}))}function K(ce){F&&(L("updateReadOnly",ce),F.dispatch({effects:x.reconfigure(Ot.readOnly.of(ce))}))}function he(ce){return Kc.of(typeof ce=="number"?" ".repeat(ce):ce)}function fe(){t(10,z=gA(F.state)>0),t(11,w=yA(F.state)>0),L({canUndo:z,canRedo:w})}const Ie=Fc(je,$d);function Ge(ce,We){y&&y({text:ce},{text:We},{contentErrors:Mt(),patchResult:null})}let nt=mu,it=null;function ft(){const ce=Mt();if(p1(ce)){const{parseError:We,isRepairable:_t}=ce;return[_1(te(We,_t))]}return lI(ce)?ce.validationErrors.map(X).map(_1):[]}function Mt(){L("validate"),Ie.flush();const ce=Ye(f,g);return p1(ce)?(t(45,nt=ce.isRepairable?im:pk),t(12,it=ce.parseError),t(9,re=[])):(t(45,nt=mu),t(12,it=null),t(9,re=ce.validationErrors)),ce}const Ye=zw(hI);function yt(ce){pt[ce?"unshift":"push"](()=>{H=ce,t(6,H)})}const ht=()=>at(it);function Dt(ce){pt[ce?"unshift":"push"](()=>{U=ce,t(7,U)})}return n.$$set=ce=>{"readOnly"in ce&&t(1,a=ce.readOnly),"mainMenuBar"in ce&&t(2,c=ce.mainMenuBar),"statusBar"in ce&&t(3,u=ce.statusBar),"text"in ce&&t(0,f=ce.text),"indentation"in ce&&t(28,h=ce.indentation),"tabSize"in ce&&t(29,d=ce.tabSize),"escapeUnicodeCharacters"in ce&&t(30,m=ce.escapeUnicodeCharacters),"validator"in ce&&t(31,g=ce.validator),"onChange"in ce&&t(32,y=ce.onChange),"onSwitchToTreeMode"in ce&&t(4,p=ce.onSwitchToTreeMode),"onError"in ce&&t(33,v=ce.onError),"onFocus"in ce&&t(34,k=ce.onFocus),"onBlur"in ce&&t(35,b=ce.onBlur),"onRenderMenu"in ce&&t(5,S=ce.onRenderMenu),"onSortModal"in ce&&t(36,O=ce.onSortModal),"onTransformModal"in ce&&t(37,I=ce.onTransformModal)},n.$$.update=()=>{n.$$.dirty[0]&1&&t(15,i=f.length===0),n.$$.dirty[0]&1&&t(46,r=f&&f.length>uf),n.$$.dirty[1]&36864&&t(14,o=r&&!Q),n.$$.dirty[0]&1073741824&&(s=Nv({escapeControlCharacters:!1,escapeUnicodeCharacters:m})),n.$$.dirty[0]&1&&be(f),n.$$.dirty[1]&1&&Tt(g),n.$$.dirty[0]&268435456&&M(h),n.$$.dirty[0]&536870912&&G(d),n.$$.dirty[0]&2&&K(a),n.$$.dirty[0]&1073741824|n.$$.dirty[1]&8192&&ne!==m&&(t(44,ne=m),Je()),n.$$.dirty[0]&2|n.$$.dirty[1]&16384&&t(13,l=nt===im&&!a?[{icon:ed,text:"Auto repair",title:"Automatically repair JSON",onClick:ze}]:[])},[f,a,c,u,p,S,H,U,B,re,z,w,it,l,o,i,D,ve,Pe,Me,Re,Le,rt,Oe,ke,ot,lt,at,h,d,m,g,y,v,k,b,O,I,se,ge,ae,Ae,Mt,Q,ne,nt,r,yt,ht,Dt]}class vI extends Xe{constructor(e){super(),Qe(this,e,yI,gI,Et,{readOnly:1,mainMenuBar:2,statusBar:3,text:0,indentation:28,tabSize:29,escapeUnicodeCharacters:30,validator:31,onChange:32,onSwitchToTreeMode:4,onError:33,onFocus:34,onBlur:35,onRenderMenu:5,onSortModal:36,onTransformModal:37,focus:38,patch:39,openTransformModal:40,refresh:41,validate:42},null,[-1,-1,-1])}get focus(){return this.$$.ctx[38]}get patch(){return this.$$.ctx[39]}get openTransformModal(){return this.$$.ctx[40]}get refresh(){return this.$$.ctx[41]}get validate(){return this.$$.ctx[42]}}const Xu=$n("jsoneditor:AutoScrollHandler");function bI(n){Xu("createAutoScrollHandler",n);let e,t;function i(c){return c<20?ak:c<50?ck:uk}function r(){if(n){const c=e*(em/1e3);n.scrollTop+=c}}function o(c){(!t||c!==e)&&(s(),Xu("startAutoScroll",c),e=c,t=setInterval(r,em))}function s(){t&&(Xu("stopAutoScroll"),clearInterval(t),t=void 0,e=void 0)}function l(c){if(n){const u=c.clientY,{top:f,bottom:h}=n.getBoundingClientRect();if(u<f){const d=i(f-u);o(-d)}else if(u>h){const d=i(u-h);o(d)}else s()}}function a(){s()}return{onDrag:l,onDragEnd:a}}const wI=(n,e,t,i)=>(n/=i/2,n<1?t/2*n*n+e:(n--,-t/2*(n*(n-2)-1)+e)),_I=()=>{let n,e,t,i,r,o,s,l,a,c,u,f,h,d;function m(){return n.scrollY||n.pageYOffset||n.scrollTop}function g(b){const S=b.getBoundingClientRect().top,O=n.getBoundingClientRect?n.getBoundingClientRect().top:0;return S-O+t}function y(b){n.scrollTo?n.scrollTo(0,b):n.scrollTop=b}function p(b){c||(c=b),u=b-c,f=o(u,t,l,a),y(f),d=!0,u<a?requestAnimationFrame(p):v()}function v(){y(t+l),e&&s&&(e.setAttribute("tabindex","-1"),e.focus()),typeof h=="function"&&h(),c=!1,d=!1}function k(b,S={}){switch(a=S.duration||1e3,r=S.offset||0,h=S.callback,o=S.easing||wI,s=S.a11y||!1,typeof S.container){case"object":n=S.container;break;case"string":n=document.querySelector(S.container);break;default:n=window}switch(t=m(),typeof b){case"number":e=void 0,s=!1,i=t+b;break;case"object":e=b,i=g(e);break;case"string":e=document.querySelector(b),i=g(e);break}switch(l=i-t+r,typeof S.duration){case"number":a=S.duration;break;case"function":a=S.duration(l);break}d?c=!1:requestAnimationFrame(p)}return k};function kI(n,e){const t={start:n,end:Math.min(_h(n),e)},i=Math.max(yc((n+e)/2),n),r={start:i,end:Math.min(_h(i),e)},o=yc(e),s=o===e?o-Us:o,l={start:Math.max(s,n),end:e},a=[t],c=r.start>=t.end&&r.end<=l.start;return c&&a.push(r),l.start>=(c?r.end:t.end)&&a.push(l),a}function qw(n){const e=A6(n,i=>i.start),t=[e[0]];for(let i=0;i<e.length;i++){const r=t.length-1,o=t[r],s=e[i];s.start<=o.end?t[r]={start:Math.min(o.start,s.start),end:Math.max(o.end,s.end)}:t.push(s)}return t}function SI(n,e){return n.some(t=>e>=t.start&&e<t.end)}function _h(n){return yc(n)+Us}function yc(n){return Math.floor(n/Us)*Us}function k1(n){let e={expandedMap:{},enforceStringMap:{},visibleSectionsMap:{},selection:void 0};return n!=null&&n.select&&(e={...e,selection:n.select(n.json,e)}),n!=null&&n.expand&&(e=Ti(n.json,e,[],n.expand)),e}function su(n,e){return n.visibleSectionsMap[e]||co}function Bd(n,e,t){e.forEach(({start:i,end:r})=>{Av(i,Math.min(n.length,r),t)})}function Yu(n,e,t){const i={...e.expandedMap},r={...e.visibleSectionsMap};for(let o=0;o<=t.length;o++){const s=t.slice(0,o),l=Fe(s),a=Ke(n,s);if(xn(a)&&(i[l]=!0),Array.isArray(a)&&o<t.length){const c=r[l]||co,u=bn(t[o]);if(!SI(c,u)){const f=yc(u),h=_h(f),d={start:f,end:h};r[l]=qw(c.concat(d))}}}return{...e,expandedMap:i,visibleSectionsMap:r}}function Ti(n,e,t,i){const r={...e.expandedMap};function o(l){const a=s.length;if(Array.isArray(l)){if(i(s)){const c=Fe(s);if(r[c]=!0,l.length>0){const u=su(e,c);Bd(l,u,f=>{s[a]=String(f),o(l[f])}),s.pop()}}}else if(qn(l)&&i(s)){r[Fe(s)]=!0;const c=Object.keys(l);if(c.length>0){for(const u of c)s[a]=u,o(l[u]);s.pop()}}}const s=t.slice();return o(Ke(n,t)),{...e,expandedMap:r}}function CI(n,e){return{...n,expandedMap:{...n.expandedMap,[Fe(e)]:!0}}}function Ww(n,e){const t=qo(n.expandedMap,e),i=qo(n.enforceStringMap,e),r=qo(n.visibleSectionsMap,e);return{...n,expandedMap:t,enforceStringMap:i,visibleSectionsMap:r}}function xI(n,e,t){if(t){const i={...n.enforceStringMap};return i[e]=t,{...n,enforceStringMap:i}}else if(typeof n.enforceStringMap[e]=="boolean"){const i={...n.enforceStringMap};return delete i[e],{...n,enforceStringMap:i}}else return n}function OI(n,e,t,i){return{...e,visibleSectionsMap:{...e.visibleSectionsMap,[t]:qw(su(e,t).concat(i))}}}function EI(n,e,t){const i=ro(n,t),r=t.reduce((o,s)=>Vy(s)?Uw(i,o,s):Hy(s)?Kw(i,o,s):zy(s)?TI(i,o,s):hf(s)||Uo(s)?MI(i,o,s):o,e);return{json:i,documentState:r}}function Uw(n,e,t){const i=tr(n,t.path),r=Rt(i),o=Fe(r),s=Ke(n,r);if(gn(s)){const l=bn(gt(i)),a=Wo(e.expandedMap,r,l,1),c=Wo(e.enforceStringMap,r,l,1);let u=Wo(e.visibleSectionsMap,r,l,1);return u=Jw(u,o,f=>Gw(f,l,1)),{...e,expandedMap:a,enforceStringMap:c,visibleSectionsMap:u}}return e}function Kw(n,e,t){const i=tr(n,t.path),r=Rt(i),o=Fe(r),s=Ke(n,r);let{expandedMap:l,enforceStringMap:a,visibleSectionsMap:c}=e;if(l=qo(l,i),a=qo(a,i),c=qo(c,i),gn(s)){const u=bn(gt(i));l=Wo(l,r,u,-1),a=Wo(a,r,u,-1),c=Wo(c,r,u,-1),c=Jw(c,o,f=>Gw(f,u,-1))}return{...e,expandedMap:l,enforceStringMap:a,visibleSectionsMap:c}}function TI(n,e,t){const i=t.path,r=tf(n,e.expandedMap),o=tf(n,e.enforceStringMap),s=tf(n,e.visibleSectionsMap);return!En(t.value)&&!gn(t.value)&&delete r[i],gn(t.value)||delete s[i],(En(t.value)||gn(t.value))&&delete o[i],{...e,expandedMap:r,enforceStringMap:o,visibleSectionsMap:s}}function MI(n,e,t){if(Uo(t)&&t.from===t.path)return e;const i=f=>t.path+f.substring(t.from.length),r=ef(Zu(e.expandedMap,t.from),i),o=ef(Zu(e.enforceStringMap,t.from),i),s=ef(Zu(e.visibleSectionsMap,t.from),i);let l=e;Uo(t)&&(l=Kw(n,l,{op:"remove",path:t.from})),l=Uw(n,l,{op:"add",path:t.path,value:null});const a=$u(l.expandedMap,r),c=$u(l.enforceStringMap,o),u=$u(l.visibleSectionsMap,s);return{...e,expandedMap:a,enforceStringMap:c,visibleSectionsMap:u}}function qo(n,e){const t={},i=Fe(e);return Object.keys(n).forEach(r=>{Ko(r,i)||(t[r]=n[r])}),t}function Zu(n,e){const t={};return Object.keys(n).forEach(i=>{Ko(i,e)&&(t[i]=n[i])}),t}function $u(n,e){return{...n,...e}}function ef(n,e){const t={};return Object.keys(n).forEach(i=>{const r=e(i);t[r]=n[i]}),t}function Wo(n,e,t,i){const r=e.length,o=Fe(e),s=[];for(const a of Object.keys(n))if(Ko(a,o)){const c=jr(a),u=bn(c[r]);u>=t&&(c[r]=String(u+i),s.push({oldPointer:a,newPointer:Fe(c),value:n[a]}))}if(s.length===0)return n;const l={...n};return s.forEach(a=>{delete l[a.oldPointer]}),s.forEach(a=>{l[a.newPointer]=a.value}),l}function tf(n,e){const t={};return Object.keys(e).filter(i=>uo(n,tr(n,i))).forEach(i=>{t[i]=e[i]}),t}function Jw(n,e,t){const i=n[e];if(e in n){const r=t(i);if(!Ht(i,r)){const o={...n};return r===void 0?delete o[e]:o[e]=r,o}}return n}function Gw(n,e,t){return n.map(i=>({start:i.start>e?i.start+t:i.start,end:i.end>=e?i.end+t:i.end}))}function Ol(n,e,t){const i=e?e[t]:void 0;return typeof i=="boolean"?i:SS(n)}function El(n,e,t=!1){const i=n.indexOf(e);return i!==-1?t?n.slice(i):n.slice(i+1):[]}function Fd(n,e){const t=[];function i(r,o){t.push(o);const s=Fe(o);if(r&&e.expandedMap[s]===!0){if(gn(r)){const l=su(e,s);Bd(r,l,a=>{i(r[a],o.concat(String(a)))})}En(r)&&Object.keys(r).forEach(l=>{i(r[l],o.concat(l))})}}return i(n,[]),t}function Qw(n,e,t=!0){const i=[];function r(o,s){i.push({path:s,type:Ai.value});const l=Fe(s);if(o&&e.expandedMap[l]===!0){if(t&&i.push({path:s,type:Ai.inside}),gn(o)){const a=su(e,l);Bd(o,a,c=>{const u=s.concat(String(c));r(o[c],u),t&&i.push({path:u,type:Ai.after})})}En(o)&&Object.keys(o).forEach(c=>{const u=s.concat(c);i.push({path:u,type:Ai.key}),r(o[c],u),t&&i.push({path:u,type:Ai.after})})}}return r(n,[]),i}function AI(n,e,t){const i=Fd(n,e),r=i.map(Fe),o=Fe(t),s=r.indexOf(o);return s!==-1&&s>0?i[s-1]:null}function kh(n,e,t){const i=Fd(n,e),o=i.map(Fe).indexOf(Fe(t));return o!==-1&&o<i.length-1?i[o+1]:null}const PI=1e3,ra=$n("jsoneditor:History");function II(n={}){const e=n.maxItems||PI;let t=[],i=0;function r(){return i<t.length}function o(){return i>0}function s(){return{canUndo:r(),canRedo:o(),length:t.length}}function l(){n.onChange&&n.onChange(s())}function a(h){ra("add",h),t=[h].concat(t.slice(i)).slice(0,e),i=0,l()}function c(){ra("clear"),t=[],i=0,l()}function u(){if(r()){const h=t[i];return i+=1,ra("undo",h),l(),h}}function f(){if(o())return i-=1,ra("redo",t[i]),l(),t[i]}return{add:a,clear:c,getState:s,undo:u,redo:f}}function Tl(n,e){const t=new Set(e),i=n.replace(/ \(copy( \d+)?\)$/,"");let r=n,o=1;for(;t.has(r);){const s="copy"+(o>1?" "+o:"");r=`${i} (${s})`,o++}return r}function vc(n,e){const t="...",i=e-t.length;return n.length>e?n.substring(0,i)+t:n}function NI(n){if(n==="")return"";const e=n.toLowerCase();if(e==="null")return null;if(e==="true")return!0;if(e==="false")return!1;if(e==="undefined")return;const t=Number(n),i=parseFloat(n);return!isNaN(t)&&!isNaN(i)?t:n}function Ni(n){return n&&n.type===Kt.after}function _n(n){return n&&n.type===Kt.inside}function mn(n){return n&&n.type===Kt.key}function Bt(n){return n&&n.type===Kt.value}function Ft(n){return n&&n.type===Kt.multi}function DI(n,e,t){if(Ht(e,t))return[e];{const i=HI(e,t);if(e.length===i.length||t.length===i.length)return[i];const r=e[i.length],o=t[i.length],s=Ke(n,i);if(En(s)){const l=Object.keys(s),a=l.indexOf(r),c=l.indexOf(o);if(a!==-1&&c!==-1){const u=Math.min(a,c),f=Math.max(a,c),h=[];for(let d=u;d<=f;d++)h.push(i.concat(l[d]));return h}}if(gn(s)){const l=Math.min(bn(r),bn(o)),a=Math.max(bn(r),bn(o)),c=[];for(let u=l;u<=a;u++)c.push(i.concat(String(u)));return c}}throw new Error("Failed to create selection")}function Xw(n){return _n(n)?n.focusPath:Rt(n.focusPath)}function rs(n){return Ft(n)?Zn(n.paths):n.focusPath}function lu(n){return Ft(n)?gt(n.paths):n.focusPath}function RI(n,e){return fl(n.focusPath,e)&&(n.focusPath.length>e.length||_n(n))}function jI(n,e,t){if(!n)return!1;const i=e.slice(0);if(Ft(n))for(;i.length>0;){if(n.pointersMap[Fe(i)]===!0)return!0;i.pop()}return mn(n)?t===Kt.key&&Ht(n.focusPath,e):!!(Bt(n)&&(t===Kt.value&&Ht(n.focusPath,e)||fl(e,n.focusPath)&&e.length>n.focusPath.length&&(t===Kt.key||t===Kt.value||t===Kt.multi)))}function S1(n,e,t=!1,i=!1){const r=e.selection,o=!i&&Ft(r)?Zn(r.paths):r.focusPath,s=AI(n,e,o);if(s===null)return null;const l=s,a=s;if(t)return Ni(r)||_n(r)?pn(n,r.anchorPath,r.anchorPath):pn(n,r.anchorPath,a);if(mn(r)){const c=Rt(s),u=Ke(n,c);return Array.isArray(u)||rn(s)?Zt(s,!1):gi(s,!1)}return Bt(r)?Zt(s,!1):Ni(r)||_n(r)?pn(n,o,o):pn(n,l,a)}function LI(n,e,t=!1,i=!1){const r=e.selection,o=!i&&Ft(r)?gt(r.paths):r.focusPath,s=kh(n,e,o),l=s,a=s;if(s===null)return null;if(t){const c=xn(Ke(n,o))?Ww(e,o):e,u=kh(n,c,o);return u===null?null:Ni(r)?pn(n,u,u):_n(r)?pn(n,l,a):pn(n,r.anchorPath,u)}if(mn(r)){const c=Rt(s),u=Ke(n,c);return Array.isArray(u)?Zt(a,!1):gi(a,!1)}return Bt(r)?Zt(a,!1):_n(r)?pn(n,l,a):pn(n,s,s)}function BI(n,e,t){const i=Rt(t),r=[gt(t)],o=kh(Ke(n,i),e,r);return o?Zt(i.concat(o),!1):mr(t)}function Yw(n,e,t){const i=e.selection,r=Qw(n,e,t),o=r.findIndex(s=>Ht(s.path,i.focusPath)&&String(s.type)===String(i.type));return{caret:o!==-1?r[o]:null,previous:o!==-1&&o>0?r[o-1]:null,next:o!==-1&&o<r.length-1?r[o+1]:null}}function FI(n,e,t=!1,i=!0){const r=e.selection,{caret:o,previous:s}=Yw(n,e,i);if(t)return Ft(r)?null:pn(n,r.anchorPath,r.focusPath);if(o&&s)return Vd(s);const l=Rt(r.focusPath),a=Ke(n,l);return Bt(r)&&Array.isArray(a)?pn(n,r.focusPath,r.focusPath):Ft(r)&&!Array.isArray(a)?gi(r.focusPath,!1):null}function VI(n,e,t=!1,i=!0){const r=e.selection,{caret:o,next:s}=Yw(n,e,i);return t?Ft(r)?null:pn(n,r.anchorPath,r.focusPath):o&&s?Vd(s):Ft(r)?Zt(r.focusPath,!1):null}function oa(n,e){const t=Fd(n,e);let i=0;for(;i<t.length-1&&t[i+1].length>t[i].length;)i++;const r=t[i];return r.length===0||Array.isArray(Ke(n,Rt(r)))?Zt(r,!1):gi(r,!1)}function os(n,e){if(e.length===1){const i=Zn(e);if(i.op==="replace"||i.op==="move"){const r=tr(n,i.path);return Zt(r,!1)}}if(!rn(e)&&e.every(i=>i.op==="move")){const i=Zn(e),r=e.slice(1);if((hf(i)||Uo(i))&&i.from!==i.path&&r.every(o=>(hf(o)||Uo(o))&&o.from===o.path)){const o=tr(n,i.path);return gi(o,!1)}}const t=e.filter(i=>i.op!=="test"&&i.op!=="remove"&&(i.op!=="move"||i.from!==i.path)&&typeof i.path=="string").map(i=>tr(n,i.path));return rn(t)?null:{type:Kt.multi,paths:t,anchorPath:Zn(t),focusPath:gt(t),pointersMap:Zw(t)}}function Zw(n){const e={};return n.forEach(t=>{e[Fe(t)]=!0}),e}function au(n){return{[Fe(n)]:!0}}function HI(n,e){let t=0;for(;t<n.length&&t<e.length&&n[t]===e[t];)t++;return n.slice(0,t)}function Sh(n){return n&&(mn(n)||Bt(n)||Ft(n)&&n.paths.length===1)}function C1(n,e){return Sh(e)&&xn(Ke(n,e.focusPath))?e.focusPath:Rt(e.focusPath)}function fl(n,e){if(n.length<e.length)return!1;for(let t=0;t<e.length;t++)if(n[t]!==e[t])return!1;return!0}function vr(n){const e=n.selection;return(mn(e)||Bt(e))&&e.edit?{...n,selection:{...e,edit:!1}}:n}function gi(n,e){return{type:Kt.key,anchorPath:n,focusPath:n,pointersMap:au(n),edit:e}}function Zt(n,e){return{type:Kt.value,anchorPath:n,focusPath:n,pointersMap:au(n),edit:e}}function er(n){return{type:Kt.inside,anchorPath:n,focusPath:n,pointersMap:au(n)}}function mr(n){return{type:Kt.after,anchorPath:n,focusPath:n,pointersMap:au(n)}}function pn(n,e,t){const i=DI(n,e,t),r=fl(t,gt(i))||fl(e,Zn(i));return{type:Kt.multi,anchorPath:r?Zn(i):gt(i),focusPath:r?gt(i):Zn(i),paths:i,pointersMap:Zw(i)}}function x1(n,e,t=2){if(mn(e))return String(gt(e.focusPath));if(Bt(e)){const i=Ke(n,e.focusPath);return typeof i=="string"?i:JSON.stringify(i,null,t)}if(Ft(e)){if(rn(e.focusPath))return JSON.stringify(n,null,t);const i=Xw(e),r=Ke(n,i);if(Array.isArray(r))if(e.paths.length===1){const o=Ke(n,Zn(e.paths));return JSON.stringify(o,null,t)}else return e.paths.map(o=>{const s=Ke(n,o);return`${JSON.stringify(s,null,t)},`}).join(`
`);else return e.paths.map(o=>{const s=gt(o),l=Ke(n,o);return`${JSON.stringify(s)}: ${JSON.stringify(l,null,t)},`}).join(`
`)}return null}function $w(n){return Ft(n)?n.paths:[n.focusPath]}function qs(n){return(mn(n)||Bt(n))&&n.edit}function zI(n,e,t=!0){return e===void 0&&!t?n:{...n,selection:e}}function qI(){return Zt([],!1)}function Ca(n){if(!n)return!1;if(mn(n)||Bt(n)||Ft(n)&&n.paths.length===1)return!0}function Vd(n){switch(n.type){case Ai.key:return gi(n.path,!1);case Ai.value:return Zt(n.path,!1);case Ai.after:return mr(n.path);case Ai.inside:return er(n.path)}}function O1(n,e,t){switch(e){case Kt.key:return gi(t,!1);case Kt.value:return Zt(t,!1);case Kt.after:return mr(t);case Kt.inside:return er(t);case Kt.multi:return pn(n,t,t)}}function E1(n,e){if(!!n)return Object.keys(n.pointersMap).some(t=>Ko(t,e)||Ko(e,t))?n:void 0}function sa(n,e,t){const i=Rt(e),r=Ke(n,i);if(gn(r)){const o=bn(gt(e));return t.map((s,l)=>({op:"add",path:Fe(i.concat(String(o+l))),value:s.value}))}else if(En(r)){const o=gt(e),s=Object.keys(r),l=El(s,o,!0);return[...t.map(a=>{const c=Tl(a.key,s);return{op:"add",path:Fe(i.concat(c)),value:a.value}}),...l.map(a=>bo(i,a))]}else throw new Error("Cannot create insert operations: parent must be an Object or Array")}function T1(n,e,t){const i=Ke(n,e);if(Array.isArray(i)){const r=i.length;return t.map((o,s)=>({op:"add",path:Fe(e.concat(String(r+s))),value:o.value}))}else return t.map(r=>{const o=Tl(r.key,Object.keys(i));return{op:"add",path:Fe(e.concat(o)),value:r.value}})}function Ml(n,e,t,i){const r=e.filter(l=>l!==t),o=Tl(i,r),s=El(e,t,!1);return[{op:"move",from:Fe(n.concat(t)),path:Fe(n.concat(o))},...s.map(l=>bo(n,l))]}function WI(n,e,t){const i=Zn(e),r=Rt(i),o=Ke(n,r);if(gn(o)){const s=Zn(e),l=s?bn(gt(s)):0;return[...Ch(e),...t.map((a,c)=>({op:"add",path:Fe(r.concat(String(c+l))),value:a.value}))]}else if(En(o)){const s=gt(e),l=Rt(s),a=gt(s),c=Object.keys(o),u=El(c,a,!1),f=new Set(e.map(d=>gt(d))),h=c.filter(d=>!f.has(d));return[...Ch(e),...t.map(d=>{const m=Tl(d.key,h);return{op:"add",path:Fe(l.concat(m)),value:d.value}}),...u.map(d=>bo(l,d))]}else throw new Error("Cannot create replace operations: parent must be an Object or Array")}function UI(n,e){const t=gt(e);if(rn(t))throw new Error("Cannot duplicate root object");const i=Rt(t),r=gt(t),o=Ke(n,i);if(gn(o)){const s=gt(e),l=s?bn(gt(s))+1:0;return[...e.map((a,c)=>({op:"copy",from:Fe(a),path:Fe(i.concat(String(c+l)))}))]}else if(En(o)){const s=Object.keys(o),l=El(s,r,!1);return[...e.map(a=>{const c=gt(a),u=Tl(c,s);return{op:"copy",from:Fe(a),path:Fe(i.concat(u))}}),...l.map(a=>bo(i,a))]}else throw new Error("Cannot create duplicate operations: parent must be an Object or Array")}function KI(n,e){if(Bt(e))return[{op:"move",from:Fe(e.focusPath),path:""}];if(Ft(e)){const t=Rt(e.focusPath),i=Ke(n,t);if(gn(i)){const r=e.paths.map(o=>{const s=bn(gt(o));return i[s]});return[{op:"replace",path:"",value:r}]}else if(En(i)){const r={};return e.paths.forEach(o=>{const s=String(gt(o));r[s]=i[s]}),[{op:"replace",path:"",value:r}]}}else throw new Error("Cannot create extract operations: parent must be an Object or Array");throw new Error("Cannot extract: unsupported type of selection "+JSON.stringify(e))}function M1(n,e,t){if(mn(e)){const i=Pv(t),r=Rt(e.focusPath),o=Ke(n,r),s=Object.keys(o),l=gt(e.focusPath);return Ml(r,s,l,typeof i=="string"?i:t)}if(Bt(e)||Ft(e)&&rn(e.focusPath))try{return[{op:"replace",path:Fe(e.focusPath),value:Xh(t,Qh)}]}catch{return[{op:"replace",path:Fe(e.focusPath),value:t}]}if(Ft(e)){const i=nf(t);return WI(n,e.paths,i)}if(Ni(e)){const i=nf(t),r=e.focusPath,o=Rt(r),s=Ke(n,o);if(gn(s)){const l=bn(gt(r)),a=o.concat(String(l+1));return sa(n,a,i)}else if(En(s)){const l=String(gt(r)),a=Object.keys(s);if(rn(a)||gt(a)===l)return T1(n,o,i);{const c=a.indexOf(l),u=a[c+1],f=o.concat(u);return sa(n,f,i)}}else throw new Error("Cannot create insert operations: parent must be an Object or Array")}if(_n(e)){const i=nf(t),r=e.focusPath,o=Ke(n,r);if(gn(o)){const s=r.concat("0");return sa(n,s,i)}else if(En(o)){const s=Object.keys(o);if(rn(s))return T1(n,r,i);{const l=Zn(s),a=r.concat(l);return sa(n,a,i)}}else throw new Error("Cannot create insert operations: parent must be an Object or Array")}throw new Error("Cannot insert: unsupported type of selection "+JSON.stringify(e))}function JI(n,e,t){const i=t.beforePath,r=t.append,o=Rt(e.focusPath),s=Ke(n,o);if(!r&&!(i&&fl(i,o)&&i.length>o.length))return[];const l=rs(e),a=lu(e),c=gt(l),u=gt(a),f=i?i[o.length]:void 0;if(En(s)){const h=Object.keys(s),d=h.indexOf(c),m=h.indexOf(u),g=r?h.length:h.indexOf(f);if(d!==-1&&m!==-1&&g!==-1)return g>d?[...h.slice(d,m+1),...h.slice(g,h.length)].map(y=>bo(o,y)):[...h.slice(g,d),...h.slice(m+1,h.length)].map(y=>bo(o,y))}else if(gn(s)){const h=bn(c),d=bn(u),m=f!==void 0?bn(f):s.length,g=d-h+1;return m<h?Wm(g,y=>({op:"move",from:Fe(o.concat(String(h+y))),path:Fe(o.concat(String(m+y)))})):Wm(g,()=>({op:"move",from:Fe(o.concat(String(h))),path:Fe(o.concat(String(m)))}))}else throw new Error("Cannot create move operations: parent must be an Object or Array")}function GI(n,e,t){if(t==="object")return{};if(t==="array")return[];if(t==="structure"){const i=Xw(e),r=Ke(n,i);if(Array.isArray(r)&&!rn(r)){const o=Zn(r);return xn(o)?ex(o,s=>Array.isArray(s)?[]:qn(s)?void 0:""):""}}return""}function Ch(n){return n.map(e=>({op:"remove",path:Fe(e)})).reverse()}function bo(n,e){return{op:"move",from:Fe(n.concat(e)),path:Fe(n.concat(e))}}function nf(n){const e=/^\s*{/.test(n),t=/^\s*\[/.test(n),i=Pv(n),r=i!==void 0?i:Xh(n,Qh);return e&&qn(r)||t&&Array.isArray(r)?[{key:"New item",value:r}]:Array.isArray(r)?r.map((o,s)=>({key:"New item "+s,value:o})):qn(r)?Object.keys(r).map(o=>({key:o,value:r[o]})):[{key:"New item",value:r}]}function A1(n,e){if(mn(e)){const t=Rt(e.focusPath),i=Ke(n,t),r=Object.keys(i),o=gt(e.focusPath),l=Ml(t,r,o,""),a=os(n,l);return{operations:l,newSelection:a}}if(Bt(e))return{operations:[{op:"replace",path:Fe(e.focusPath),value:""}],newSelection:e};if(Ft(e)){const t=Ch(e.paths),i=gt(e.paths);if(rn(i)){const s=[{op:"replace",path:"",value:""}],l=Zt([],!1);return{operations:s,newSelection:l}}const r=Rt(i),o=Ke(n,r);if(gn(o)){const s=Zn(e.paths),l=bn(gt(s)),a=l===0?er(r):mr(r.concat(String(l-1)));return{operations:t,newSelection:a}}else if(En(o)){const s=Object.keys(o),l=Zn(e.paths),a=gt(l),c=s.indexOf(a),u=s[c-1],f=c===0?er(r):mr(r.concat(u));return{operations:t,newSelection:f}}else throw new Error("Cannot create remove operations: parent must be an Object or Array")}throw new Error("Cannot remove: unsupported type of selection "+JSON.stringify(e))}function QI(n,e){return Jy(n,e,{before:(t,i,r)=>{if(Hy(i)){const o=jr(i.path);return{revertOperations:[...r,...P1(t,o)]}}if(Uo(i)){const o=jr(i.from);return{revertOperations:[...r,...P1(t,o)]}}return{revertOperations:r}}})}function P1(n,e){const t=Rt(e),i=gt(e),r=Ke(n,t);if(En(r)){const o=Object.keys(r);return El(o,i,!1).map(l=>bo(t,l))}return[]}function XI(n,e,t){const i=t!=null&&t.activeItem?D1(t.activeItem):void 0,r=e.findIndex(a=>Ht(i,D1(a))),o=r!==-1?r:(t==null?void 0:t.activeIndex)<e.length?t==null?void 0:t.activeIndex:e.length>0?0:-1,s=e.map((a,c)=>({...a,active:c===o})),l=s[o];return{items:s,itemsMap:Gh(s,a=>Fe(a.path)),activeItem:l,activeIndex:o}}function YI(n){const e=n.activeIndex<n.items.length-1?n.activeIndex+1:n.items.length>0?0:-1,t=n.items[e],i=n.items.map((r,o)=>({...r,active:o===e}));return{...n,items:i,itemsMap:Gh(i,r=>Fe(r.path)),activeItem:t,activeIndex:e}}function ZI(n){const e=n.activeIndex>0?n.activeIndex-1:n.items.length-1,t=n.items[e],i=n.items.map((r,o)=>({...r,active:o===e}));return{...n,items:i,itemsMap:Gh(i,r=>Fe(r.path)),activeItem:t,activeIndex:e}}function e_(n,e,t,i=1/0){const r=[],o=[];function s(a){r.length<i&&r.push(a)}function l(a,c){if(gn(c)){const u=o.length;o.push("0");for(let f=0;f<c.length;f++)if(o[u]=String(f),l(a,c[f]),r.length>=i)return;o.pop()}else if(En(c)){const u=Object.keys(c),f=o.length;o.push("");for(const h of u)if(o[f]=h,I1(h,a,o,Di.key,s),l(a,c[h]),r.length>=i)return;o.pop()}else I1(String(c),a,o,Di.value,s)}if(typeof n=="string"&&n!==""){const a=n.toLowerCase();l(a,e)}return r}function I1(n,e,t,i,r){const o=n.toLowerCase();let s=0,l=-1,a=-1;do a=o.indexOf(e,l),a!==-1&&(l=a+e.length,r({path:t.slice(0),field:i,fieldIndex:s,start:a,end:l}),s++);while(a!==-1)}function xh(n,e,t,i){return n.substring(0,t)+e+n.substring(i)}function N1(n,e,t){let i=n;return a6(t,r=>{i=xh(i,e,r.start,r.end)}),i}function $I(n,e,t,i){const{field:r,path:o,start:s,end:l}=i;if(r===Di.key){const a=Rt(o),c=Ke(n,a),u=gt(o),f=Object.keys(c),h=xh(u,t,s,l),d=Ml(a,f,u,h);return{newSelection:os(n,d),operations:d}}else if(r===Di.value){const a=Ke(n,o);if(a===void 0)throw new Error(`Cannot replace: path not found ${Fe(o)}`);const c=typeof a=="string"?a:String(a),u=Fe(o),f=Ol(a,e.enforceStringMap,u),h=xh(c,t,s,l),d=[{op:"replace",path:Fe(o),value:f?h:yl(h)}];return{newSelection:os(n,d),operations:d}}else throw new Error(`Cannot replace: unknown type of search result field ${r}`)}function e9(n,e,t,i){const r=e_(t,n,e,1/0),o=[];for(let a=0;a<r.length;a++){const c=r[a-1],u=r[a];a===0||u.field!==c.field||!Ht(u.path,c.path)?o.push({path:u.path,field:u.field,items:[u]}):gt(o).items.push(u)}o.sort((a,c)=>a.field!==c.field?a.field===Di.key?1:-1:c.path.length-a.path.length);let s=[],l;return o.forEach(a=>{const{field:c,path:u,items:f}=a;if(c===Di.key){const h=Rt(u),d=Ke(n,h),m=gt(u),g=Object.keys(d),y=N1(m,i,f),p=Ml(h,g,m,y);s=s.concat(p),l=os(n,p)}else if(c===Di.value){const h=Ke(n,u);if(h===void 0)throw new Error(`Cannot replace: path not found ${Fe(u)}`);const d=typeof h=="string"?h:String(h),m=Fe(u),g=Ol(h,e.enforceStringMap,m),y=N1(d,i,f),p=[{op:"replace",path:Fe(u),value:g?y:yl(y)}];s=s.concat(p),l=os(n,p)}else throw new Error(`Cannot replace: unknown type of search result field ${c}`)}),{operations:s,newSelection:l}}function t9(n,e){const t=[];let i=0;for(const o of e){const s=n.slice(i,o.start);s!==""&&t.push({type:"normal",text:s,active:!1});const l=n.slice(o.start,o.end);t.push({type:"highlight",text:l,active:o.active}),i=o.end}const r=gt(e);return r.end<n.length&&t.push({type:"normal",text:n.slice(r.end),active:!1}),t}function D1(n){return n.path.concat(n.field,String(n.fieldIndex))}function n9(n,e){var t;const i=(t=n==null?void 0:n[e])===null||t===void 0?void 0:t.filter(r=>r.field===Di.key);if(!(!i||i.length===0))return i}function R1(n,e){var t;const i=(t=n==null?void 0:n[e])===null||t===void 0?void 0:t.filter(r=>r.field===Di.value);if(!(!i||i.length===0))return i}function i9(n){let e,t,i,r,o,s,l,a,c;return s=new wt({props:{data:wl}}),{c(){e=R("div"),t=R("div"),i=Be(n[0]),r=oe(),o=R("button"),ye(s.$$.fragment),_(t,"class","jse-title svelte-1djqugc"),_(o,"type","button"),_(o,"class","jse-close svelte-1djqugc"),_(e,"class","jse-header svelte-1djqugc")},m(u,f){$(u,e,f),E(e,t),E(t,i),E(e,r),E(e,o),me(s,o,null),l=!0,a||(c=we(o,"click",n[1]),a=!0)},p(u,[f]){(!l||f&1)&&St(i,u[0])},i(u){l||(A(s.$$.fragment,u),l=!0)},o(u){j(s.$$.fragment,u),l=!1},d(u){u&&Z(e),pe(s),a=!1,c()}}}function r9(n,e,t){let{title:i="Modal"}=e;const{close:r}=si("simple-modal");return n.$$set=o=>{"title"in o&&t(0,i=o.title)},[i,r]}class t_ extends Xe{constructor(e){super(),Qe(this,e,r9,i9,Et,{title:0})}}function o9(n){let e,t,i,r,o,s,l,a,c,u,f,h,d,m,g,y,p,v,k,b,S,O,I,L;return t=new t_({props:{title:"Copying and pasting"}}),{c(){e=R("div"),ye(t.$$.fragment),i=oe(),r=R("div"),o=R("div"),o.textContent="These actions are unavailable via the menu. Please use:",s=oe(),l=R("div"),a=R("div"),c=R("div"),c.textContent=`${n[1]}+C`,u=Be(`
        for copy`),f=oe(),h=R("div"),d=R("div"),d.textContent=`${n[1]}+X`,m=Be(`
        for cut`),g=oe(),y=R("div"),p=R("div"),p.textContent=`${n[1]}+V`,v=Be(`
        for paste`),k=oe(),b=R("div"),S=R("button"),S.textContent="Close",_(c,"class","jse-key svelte-wp98us"),_(a,"class","jse-shortcut"),_(d,"class","jse-key svelte-wp98us"),_(h,"class","jse-shortcut"),_(p,"class","jse-key svelte-wp98us"),_(y,"class","jse-shortcut"),_(l,"class","jse-shortcuts svelte-wp98us"),_(S,"type","button"),_(S,"class","jse-primary svelte-wp98us"),_(b,"class","jse-actions svelte-wp98us"),_(r,"class","jse-contents svelte-wp98us"),_(e,"class","jse-modal jse-copy-paste svelte-wp98us")},m(P,D){$(P,e,D),me(t,e,null),E(e,i),E(e,r),E(r,o),E(r,s),E(r,l),E(l,a),E(a,c),E(a,u),E(l,f),E(l,h),E(h,d),E(h,m),E(l,g),E(l,y),E(y,p),E(y,v),E(r,k),E(r,b),E(b,S),O=!0,I||(L=we(S,"click",n[0]),I=!0)},p:xe,i(P){O||(A(t.$$.fragment,P),O=!0)},o(P){j(t.$$.fragment,P),O=!1},d(P){P&&Z(e),pe(t),I=!1,L()}}}function s9(n){const{close:e}=si("simple-modal");return[e,Vv?"\u2318":"Ctrl"]}class l9 extends Xe{constructor(e){super(),Qe(this,e,s9,o9,Et,{})}}function a9(n){let e;return{c(){e=R("div"),e.textContent="Repair invalid JSON, then click apply",_(e,"slot","left"),_(e,"class","jse-info svelte-1puchbn")},m(t,i){$(t,e,i)},p:xe,d(t){t&&Z(e)}}}function c9(n){let e,t;return e=new Co({props:{type:"success",message:"JSON is valid now and can be parsed.",actions:n[5]}}),{c(){ye(e.$$.fragment)},m(i,r){me(e,i,r),t=!0},p(i,r){const o={};r&32&&(o.actions=i[5]),e.$set(o)},i(i){t||(A(e.$$.fragment,i),t=!0)},o(i){j(e.$$.fragment,i),t=!1},d(i){pe(e,i)}}}function u9(n){let e,t;return e=new Co({props:{type:"error",icon:ds,message:`Cannot parse JSON: ${n[2].message}`,actions:n[6]}}),{c(){ye(e.$$.fragment)},m(i,r){me(e,i,r),t=!0},p(i,r){const o={};r&4&&(o.message=`Cannot parse JSON: ${i[2].message}`),r&64&&(o.actions=i[6]),e.$set(o)},i(i){t||(A(e.$$.fragment,i),t=!0)},o(i){j(e.$$.fragment,i),t=!1},d(i){pe(e,i)}}}function f9(n){let e,t,i,r,o,s,l,a,c,u;t=new rd({props:{items:n[7],$$slots:{left:[a9]},$$scope:{ctx:n}}});const f=[u9,c9],h=[];function d(m,g){return m[2]?0:1}return r=d(n),o=h[r]=f[r](n),{c(){e=R("div"),ye(t.$$.fragment),i=oe(),o.c(),s=oe(),l=R("textarea"),l.value=n[0],l.readOnly=n[1],_(l,"class","jse-json-text svelte-1puchbn"),_(l,"autocomplete","off"),_(l,"autocapitalize","off"),_(l,"spellcheck","false"),_(e,"class","jse-json-repair-component svelte-1puchbn")},m(m,g){$(m,e,g),me(t,e,null),E(e,i),h[r].m(e,null),E(e,s),E(e,l),n[19](l),n[20](e),a=!0,c||(u=we(l,"input",n[8]),c=!0)},p(m,[g]){const y={};g&128&&(y.items=m[7]),g&134217728&&(y.$$scope={dirty:g,ctx:m}),t.$set(y);let p=r;r=d(m),r===p?h[r].p(m,g):(Ee(),j(h[p],1,1,()=>{h[p]=null}),Te(),o=h[r],o?o.p(m,g):(o=h[r]=f[r](m),o.c()),A(o,1),o.m(e,s)),(!a||g&1)&&(l.value=m[0]),(!a||g&2)&&(l.readOnly=m[1])},i(m){a||(A(t.$$.fragment,m),A(o),a=!0)},o(m){j(t.$$.fragment,m),j(o),a=!1},d(m){m&&Z(e),pe(t),h[r].d(),n[19](null),n[20](null),c=!1,u()}}}function h9(n,e,t){let i,r,o,s,l,a,c,u,{text:f=""}=e,{readOnly:h=!1}=e,{onParse:d}=e,{onRepair:m}=e,{onChange:g=null}=e,{onApply:y}=e,{onCancel:p}=e,{onRenderMenu:v=Vt}=e;const k=$n("jsoneditor:JSONRepair");let b,S;function O(U){try{return d(U),null}catch(B){return Yh(U,B.message)}}function I(U){try{return m(U),!0}catch{return!1}}function L(){S&&i&&i.position!=null&&(S.setSelectionRange(i.position,i.position),setTimeout(()=>{S.focus()}))}function P(U){k("handleChange");const B=U.target.value;f!==B&&(t(0,f=B),g&&g(f))}function D(){y(f)}function H(){try{t(0,f=m(f)),g&&g(f)}catch{}}function F(U){pt[U?"unshift":"push"](()=>{S=U,t(4,S)})}function q(U){pt[U?"unshift":"push"](()=>{b=U,t(3,b)})}return n.$$set=U=>{"text"in U&&t(0,f=U.text),"readOnly"in U&&t(1,h=U.readOnly),"onParse"in U&&t(9,d=U.onParse),"onRepair"in U&&t(10,m=U.onRepair),"onChange"in U&&t(11,g=U.onChange),"onApply"in U&&t(12,y=U.onApply),"onCancel"in U&&t(13,p=U.onCancel),"onRenderMenu"in U&&t(14,v=U.onRenderMenu)},n.$$.update=()=>{n.$$.dirty&1&&t(2,i=O(f)),n.$$.dirty&1&&t(17,r=I(f)),n.$$.dirty&4&&k("error",i),n.$$.dirty&8192&&t(18,o=[{space:!0},{icon:wl,title:"Cancel repair",className:"jse-cancel",onClick:p}]),n.$$.dirty&278528&&t(7,s=v("repair",o)||o),n.$$.dirty&229376&&t(6,c=r?[l,a]:[l]),n.$$.dirty&2&&t(5,u=[{icon:If,text:"Apply",title:"Apply fixed JSON",disabled:h,onClick:D}])},t(15,l={icon:I8,text:"Show me",title:"Scroll to the error location",onClick:L}),t(16,a={icon:ed,text:"Auto repair",title:"Automatically repair JSON",onClick:H}),[f,h,i,b,S,u,c,s,P,d,m,g,y,p,v,l,a,r,o,F,q]}class d9 extends Xe{constructor(e){super(),Qe(this,e,h9,f9,Et,{text:0,readOnly:1,onParse:9,onRepair:10,onChange:11,onApply:12,onCancel:13,onRenderMenu:14})}}function m9(n){let e,t,i,r;function o(l){n[7](l)}let s={onParse:n[1],onRepair:n[2],onApply:n[4],onCancel:n[5],onRenderMenu:n[3]};return n[0]!==void 0&&(s.text=n[0]),t=new d9({props:s}),pt.push(()=>Fn(t,"text",o)),{c(){e=R("div"),ye(t.$$.fragment),_(e,"class","jse-modal jse-repair svelte-1ffm3pm")},m(l,a){$(l,e,a),me(t,e,null),r=!0},p(l,[a]){const c={};a&2&&(c.onParse=l[1]),a&4&&(c.onRepair=l[2]),a&8&&(c.onRenderMenu=l[3]),!i&&a&1&&(i=!0,c.text=l[0],zn(()=>i=!1)),t.$set(c)},i(l){r||(A(t.$$.fragment,l),r=!0)},o(l){j(t.$$.fragment,l),r=!1},d(l){l&&Z(e),pe(t)}}}function p9(n,e,t){let{text:i}=e,{onParse:r}=e,{onRepair:o}=e,{onApply:s}=e,{onRenderMenu:l}=e;const{close:a}=si("simple-modal");function c(h){a(),s(h)}function u(){a()}function f(h){i=h,t(0,i)}return n.$$set=h=>{"text"in h&&t(0,i=h.text),"onParse"in h&&t(1,r=h.onParse),"onRepair"in h&&t(2,o=h.onRepair),"onApply"in h&&t(6,s=h.onApply),"onRenderMenu"in h&&t(3,l=h.onRenderMenu)},[i,r,o,l,c,u,s,f]}class g9 extends Xe{constructor(e){super(),Qe(this,e,p9,m9,Et,{text:0,onParse:1,onRepair:2,onApply:6,onRenderMenu:3})}}function j1(n,e,t){const i=n.slice();return i[11]=e[t],i}const y9=n=>({}),L1=n=>({});function B1(n){let e,t;return e=new wt({props:{data:n[11].icon}}),{c(){ye(e.$$.fragment)},m(i,r){me(e,i,r),t=!0},p(i,r){const o={};r&1&&(o.data=i[11].icon),e.$set(o)},i(i){t||(A(e.$$.fragment,i),t=!0)},o(i){j(e.$$.fragment,i),t=!1},d(i){pe(e,i)}}}function F1(n){let e,t,i,r=n[11].text+"",o,s,l,a,c,u,f,h=n[11].icon&&B1(n);function d(){return n[9](n[11])}return{c(){e=R("li"),t=R("button"),h&&h.c(),i=oe(),o=Be(r),a=oe(),_(t,"type","button"),_(t,"title",s=n[11].title),t.disabled=l=n[11].disabled,_(t,"class","svelte-kae4bx"),_(e,"class","svelte-kae4bx")},m(m,g){$(m,e,g),E(e,t),h&&h.m(t,null),E(t,i),E(t,o),E(e,a),c=!0,u||(f=we(t,"click",d),u=!0)},p(m,g){n=m,n[11].icon?h?(h.p(n,g),g&1&&A(h,1)):(h=B1(n),h.c(),A(h,1),h.m(t,i)):h&&(Ee(),j(h,1,1,()=>{h=null}),Te()),(!c||g&1)&&r!==(r=n[11].text+"")&&St(o,r),(!c||g&1&&s!==(s=n[11].title))&&_(t,"title",s),(!c||g&1&&l!==(l=n[11].disabled))&&(t.disabled=l)},i(m){c||(A(h),c=!0)},o(m){j(h),c=!1},d(m){m&&Z(e),h&&h.d(),u=!1,f()}}}function v9(n){let e,t,i,r,o,s,l,a,c,u;const f=n[8].defaultItem,h=Ri(f,n,n[7],L1);r=new wt({props:{data:Yi}});let d=n[0],m=[];for(let y=0;y<d.length;y+=1)m[y]=F1(j1(n,d,y));const g=y=>j(m[y],1,1,()=>{m[y]=null});return{c(){e=R("div"),h&&h.c(),t=oe(),i=R("button"),ye(r.$$.fragment),o=oe(),s=R("div"),l=R("ul");for(let y=0;y<m.length;y+=1)m[y].c();_(i,"type","button"),_(i,"class","jse-open-dropdown svelte-kae4bx"),_(i,"data-type","jse-open-dropdown"),i.disabled=n[4],Ne(i,"jse-visible",n[3]),_(l,"class","svelte-kae4bx"),_(s,"class","jse-dropdown-items svelte-kae4bx"),ni(s,"width",n[2]),Ne(s,"jse-visible",n[3]),_(e,"class","jse-dropdown-button svelte-kae4bx"),_(e,"title",n[1])},m(y,p){$(y,e,p),h&&h.m(e,null),E(e,t),E(e,i),me(r,i,null),E(e,o),E(e,s),E(s,l);for(let v=0;v<m.length;v+=1)m[v].m(l,null);a=!0,c||(u=[we(i,"click",n[5]),we(e,"click",n[6])],c=!0)},p(y,[p]){if(h&&h.p&&(!a||p&128)&&Li(h,f,y,y[7],a?ji(f,y[7],p,y9):Bi(y[7]),L1),(!a||p&16)&&(i.disabled=y[4]),p&8&&Ne(i,"jse-visible",y[3]),p&1){d=y[0];let v;for(v=0;v<d.length;v+=1){const k=j1(y,d,v);m[v]?(m[v].p(k,p),A(m[v],1)):(m[v]=F1(k),m[v].c(),A(m[v],1),m[v].m(l,null))}for(Ee(),v=d.length;v<m.length;v+=1)g(v);Te()}(!a||p&4)&&ni(s,"width",y[2]),p&8&&Ne(s,"jse-visible",y[3]),(!a||p&2)&&_(e,"title",y[1])},i(y){if(!a){A(h,y),A(r.$$.fragment,y);for(let p=0;p<d.length;p+=1)A(m[p]);a=!0}},o(y){j(h,y),j(r.$$.fragment,y),m=m.filter(Boolean);for(let p=0;p<m.length;p+=1)j(m[p]);a=!1},d(y){y&&Z(e),h&&h.d(y),pe(r),Vn(m,y),c=!1,on(u)}}}function b9(n,e,t){let i,{$$slots:r={},$$scope:o}=e,{items:s=[]}=e,{title:l=void 0}=e,{width:a="120px"}=e,c=!1;function u(){const m=c;setTimeout(()=>t(3,c=!m))}function f(){t(3,c=!1)}function h(m){hs(m)==="Escape"&&(m.preventDefault(),t(3,c=!1))}ki(()=>{document.addEventListener("click",f),document.addEventListener("keydown",h)}),lo(()=>{document.removeEventListener("click",f),document.removeEventListener("keydown",h)});const d=m=>m.onClick();return n.$$set=m=>{"items"in m&&t(0,s=m.items),"title"in m&&t(1,l=m.title),"width"in m&&t(2,a=m.width),"$$scope"in m&&t(7,o=m.$$scope)},n.$$.update=()=>{n.$$.dirty&1&&t(4,i=s.every(m=>m.disabled===!0))},[s,l,a,c,i,u,f,o,r,d]}class rf extends Xe{constructor(e){super(),Qe(this,e,b9,v9,Et,{items:0,title:1,width:2})}}var w9={prefix:"far",iconName:"lightbulb",icon:[384,512,[128161],"f0eb","M112.1 454.3c0 6.297 1.816 12.44 5.284 17.69l17.14 25.69c5.25 7.875 17.17 14.28 26.64 14.28h61.67c9.438 0 21.36-6.401 26.61-14.28l17.08-25.68c2.938-4.438 5.348-12.37 5.348-17.7L272 415.1h-160L112.1 454.3zM192 0C90.02 .3203 16 82.97 16 175.1c0 44.38 16.44 84.84 43.56 115.8c16.53 18.84 42.34 58.23 52.22 91.45c.0313 .25 .0938 .5166 .125 .7823h160.2c.0313-.2656 .0938-.5166 .125-.7823c9.875-33.22 35.69-72.61 52.22-91.45C351.6 260.8 368 220.4 368 175.1C368 78.8 289.2 .0039 192 0zM288.4 260.1c-15.66 17.85-35.04 46.3-49.05 75.89h-94.61c-14.01-29.59-33.39-58.04-49.04-75.88C75.24 236.8 64 206.1 64 175.1C64 113.3 112.1 48.25 191.1 48C262.6 48 320 105.4 320 175.1C320 206.1 308.8 236.8 288.4 260.1zM176 80C131.9 80 96 115.9 96 160c0 8.844 7.156 16 16 16S128 168.8 128 160c0-26.47 21.53-48 48-48c8.844 0 16-7.148 16-15.99S184.8 80 176 80z"]},_9={prefix:"far",iconName:"square-check",icon:[448,512,[9745,9989,61510,"check-square"],"f14a","M211.8 339.8C200.9 350.7 183.1 350.7 172.2 339.8L108.2 275.8C97.27 264.9 97.27 247.1 108.2 236.2C119.1 225.3 136.9 225.3 147.8 236.2L192 280.4L300.2 172.2C311.1 161.3 328.9 161.3 339.8 172.2C350.7 183.1 350.7 200.9 339.8 211.8L211.8 339.8zM0 96C0 60.65 28.65 32 64 32H384C419.3 32 448 60.65 448 96V416C448 451.3 419.3 480 384 480H64C28.65 480 0 451.3 0 416V96zM48 96V416C48 424.8 55.16 432 64 432H384C392.8 432 400 424.8 400 416V96C400 87.16 392.8 80 384 80H64C55.16 80 48 87.16 48 96z"]},bc=_9,wc={prefix:"far",iconName:"square",icon:[448,512,[9632,9723,9724,61590],"f0c8","M384 32C419.3 32 448 60.65 448 96V416C448 451.3 419.3 480 384 480H64C28.65 480 0 451.3 0 416V96C0 60.65 28.65 32 64 32H384zM384 80H64C55.16 80 48 87.16 48 96V416C48 424.8 55.16 432 64 432H384C392.8 432 400 424.8 400 416V96C400 87.16 392.8 80 384 80z"]},k9={prefix:"far",iconName:"clock",icon:[512,512,[128339,"clock-four"],"f017","M232 120C232 106.7 242.7 96 256 96C269.3 96 280 106.7 280 120V243.2L365.3 300C376.3 307.4 379.3 322.3 371.1 333.3C364.6 344.3 349.7 347.3 338.7 339.1L242.7 275.1C236 271.5 232 264 232 255.1L232 120zM256 0C397.4 0 512 114.6 512 256C512 397.4 397.4 512 256 512C114.6 512 0 397.4 0 256C0 114.6 114.6 0 256 0zM48 256C48 370.9 141.1 464 256 464C370.9 464 464 370.9 464 256C464 141.1 370.9 48 256 48C141.1 48 48 141.1 48 256z"]};function S9(n){let e,t,i,r,o,s,l;return t=new wt({props:{data:td}}),{c(){e=R("button"),ye(t.$$.fragment),i=Be(" Edit value"),_(e,"type","button"),_(e,"slot","defaultItem"),_(e,"title","Edit the value (Double-click on the value)"),e.disabled=r=!n[2],_(e,"class","svelte-1jwirqu")},m(a,c){$(a,e,c),me(t,e,null),E(e,i),o=!0,s||(l=we(e,"click",n[18]),s=!0)},p(a,c){(!o||c[0]&4&&r!==(r=!a[2]))&&(e.disabled=r)},i(a){o||(A(t.$$.fragment,a),o=!0)},o(a){j(t.$$.fragment,a),o=!1},d(a){a&&Z(e),pe(t),s=!1,l()}}}function C9(n){let e,t,i,r,o,s,l;return t=new wt({props:{data:Pf}}),{c(){e=R("button"),ye(t.$$.fragment),i=Be(" Cut"),_(e,"type","button"),_(e,"slot","defaultItem"),_(e,"title","Cut selected contents, formatted with indentation (Ctrl+X)"),e.disabled=r=!n[1],_(e,"class","svelte-1jwirqu")},m(a,c){$(a,e,c),me(t,e,null),E(e,i),o=!0,s||(l=we(e,"click",n[19]),s=!0)},p(a,c){(!o||c[0]&2&&r!==(r=!a[1]))&&(e.disabled=r)},i(a){o||(A(t.$$.fragment,a),o=!0)},o(a){j(t.$$.fragment,a),o=!1},d(a){a&&Z(e),pe(t),s=!1,l()}}}function x9(n){let e,t,i,r,o,s,l;return t=new wt({props:{data:Ba}}),{c(){e=R("button"),ye(t.$$.fragment),i=Be(" Copy"),_(e,"type","button"),_(e,"slot","defaultItem"),_(e,"title","Copy selected contents, formatted with indentation (Ctrl+C)"),e.disabled=r=!n[1],_(e,"class","svelte-1jwirqu")},m(a,c){$(a,e,c),me(t,e,null),E(e,i),o=!0,s||(l=we(e,"click",n[20]),s=!0)},p(a,c){(!o||c[0]&2&&r!==(r=!a[1]))&&(e.disabled=r)},i(a){o||(A(t.$$.fragment,a),o=!0)},o(a){j(t.$$.fragment,a),o=!1},d(a){a&&Z(e),pe(t),s=!1,l()}}}function V1(n){let e,t,i,r,o,s,l;return r=new wt({props:{data:w9}}),{c(){e=R("div"),t=R("div"),i=R("div"),ye(r.$$.fragment),o=oe(),s=R("div"),s.textContent="Tip: you can open this context menu via right-click or with Ctrl+Q",_(i,"class","svelte-1jwirqu"),_(s,"class","svelte-1jwirqu"),_(t,"class","jse-tip svelte-1jwirqu"),_(e,"class","jse-row svelte-1jwirqu")},m(a,c){$(a,e,c),E(e,t),E(t,i),me(r,i,null),E(t,o),E(t,s),l=!0},p:xe,i(a){l||(A(r.$$.fragment,a),l=!0)},o(a){j(r.$$.fragment,a),l=!1},d(a){a&&Z(e),pe(r)}}}function O9(n){let e,t,i,r,o,s,l,a,c,u,f,h,d,m,g,y,p,v,k,b,S,O,I,L,P,D,H,F,q,U,B,Q,re,le,x,N,ie,ne,z,w,C,J,se,ee,ge,ve,Pe,ze,Me,ae,Re,Le,rt,Oe,ke,ot,lt,at,mt,It,de,T,W,X,te,be,Ae,Je,je,Tt,M,G,K,he,fe,Ie,Ge,nt,it,ft,Mt,Ye,yt,ht,Dt,ce,We,_t,vt,xt,At,qt,un,Ct,Mn,yi;r=new wt({props:{data:td}}),a=new rf({props:{width:"11em",items:n[8],$$slots:{defaultItem:[S9]},$$scope:{ctx:n}}}),d=new rf({props:{width:"10em",items:n[7],$$slots:{defaultItem:[C9]},$$scope:{ctx:n}}}),g=new rf({props:{width:"12em",items:n[6],$$slots:{defaultItem:[x9]},$$scope:{ctx:n}}}),v=new wt({props:{data:m8}}),H=new wt({props:{data:wl}}),Q=new wt({props:{data:j8}}),ie=new wt({props:{data:x8}}),J=new wt({props:{data:nd}}),Pe=new wt({props:{data:$h}}),Dt=new wt({props:{data:_8}}),xt=new wt({props:{data:v8}});let Wt=n[0]&&V1();return{c(){e=R("div"),t=R("div"),i=R("button"),ye(r.$$.fragment),o=Be(" Edit key"),l=oe(),ye(a.$$.fragment),c=oe(),u=R("div"),f=oe(),h=R("div"),ye(d.$$.fragment),m=oe(),ye(g.$$.fragment),y=oe(),p=R("button"),ye(v.$$.fragment),k=Be(" Paste"),S=oe(),O=R("div"),I=oe(),L=R("div"),P=R("div"),D=R("button"),ye(H.$$.fragment),F=Be(" Remove"),U=oe(),B=R("button"),ye(Q.$$.fragment),re=Be(" Duplicate"),x=oe(),N=R("button"),ye(ie.$$.fragment),ne=Be(" Extract"),w=oe(),C=R("button"),ye(J.$$.fragment),se=Be(" Sort"),ge=oe(),ve=R("button"),ye(Pe.$$.fragment),ze=Be(" Transform"),ae=oe(),Re=R("div"),Le=R("div"),rt=Be(n[13]),Oe=Be(":"),ke=oe(),ot=R("button"),lt=R("span"),at=R("span"),at.textContent="+",mt=Be(" Structure"),T=oe(),W=R("button"),X=R("span"),X.textContent="{}",te=Be(" Object"),Je=oe(),je=R("button"),Tt=R("span"),Tt.textContent="[]",M=Be(" Array"),he=oe(),fe=R("button"),Ie=R("span"),Ie.innerHTML='<span class="jse-quote svelte-1jwirqu">&quot;</span>',Ge=Be(" Value"),ft=oe(),Mt=R("div"),Ye=oe(),yt=R("div"),ht=R("button"),ye(Dt.$$.fragment),ce=Be(" Insert before"),_t=oe(),vt=R("button"),ye(xt.$$.fragment),At=Be(" Insert after"),un=oe(),Wt&&Wt.c(),_(i,"type","button"),_(i,"title","Edit the key (Double-click on the key)"),i.disabled=s=!n[14],_(i,"class","svelte-1jwirqu"),_(t,"class","jse-row svelte-1jwirqu"),_(u,"class","jse-separator svelte-1jwirqu"),_(p,"type","button"),_(p,"title","Paste clipboard contents (Ctrl+V)"),p.disabled=b=!n[3],_(p,"class","svelte-1jwirqu"),_(h,"class","jse-row svelte-1jwirqu"),_(O,"class","jse-separator svelte-1jwirqu"),_(D,"type","button"),_(D,"title","Remove selected contents (Delete)"),D.disabled=q=!n[1],_(D,"class","svelte-1jwirqu"),_(B,"type","button"),_(B,"title","Duplicate selected contents (Ctrl+D)"),B.disabled=le=!n[16],_(B,"class","svelte-1jwirqu"),_(N,"type","button"),_(N,"title","Extract selected contents"),N.disabled=z=!n[15],_(N,"class","svelte-1jwirqu"),_(C,"type","button"),_(C,"title","Sort array or object contents"),C.disabled=ee=!n[1],_(C,"class","svelte-1jwirqu"),_(ve,"type","button"),_(ve,"title","Transform array or object contents (filter, sort, project)"),ve.disabled=Me=!n[1],_(ve,"class","svelte-1jwirqu"),_(P,"class","jse-column svelte-1jwirqu"),_(Le,"class","jse-label svelte-1jwirqu"),_(at,"class","jse-plus svelte-1jwirqu"),_(lt,"class","jse-insert svelte-1jwirqu"),_(ot,"type","button"),_(ot,"title",It=n[13]+" structure"),ot.disabled=de=!n[12],_(ot,"class","svelte-1jwirqu"),_(X,"class","jse-insert svelte-1jwirqu"),_(W,"type","button"),_(W,"title",be=n[13]+" object"),W.disabled=Ae=!n[11],_(W,"class","svelte-1jwirqu"),_(Tt,"class","jse-insert svelte-1jwirqu"),_(je,"type","button"),_(je,"title",G=n[13]+" array"),je.disabled=K=!n[10],_(je,"class","svelte-1jwirqu"),_(Ie,"class","jse-insert svelte-1jwirqu"),_(fe,"type","button"),_(fe,"title",nt=n[13]+" value"),fe.disabled=it=!n[9],_(fe,"class","svelte-1jwirqu"),_(Re,"class","jse-column svelte-1jwirqu"),_(L,"class","jse-row svelte-1jwirqu"),_(Mt,"class","jse-separator svelte-1jwirqu"),_(ht,"type","button"),_(ht,"title","Select area before current entry to insert or paste contents"),ht.disabled=We=!n[1]||n[4],_(ht,"class","svelte-1jwirqu"),_(vt,"type","button"),_(vt,"title","Select area after current entry to insert or paste contents"),vt.disabled=qt=!n[1]||n[4],_(vt,"class","svelte-1jwirqu"),_(yt,"class","jse-row svelte-1jwirqu"),_(e,"class","jse-contextmenu svelte-1jwirqu")},m(Ue,dt){$(Ue,e,dt),E(e,t),E(t,i),me(r,i,null),E(i,o),E(t,l),me(a,t,null),E(e,c),E(e,u),E(e,f),E(e,h),me(d,h,null),E(h,m),me(g,h,null),E(h,y),E(h,p),me(v,p,null),E(p,k),E(e,S),E(e,O),E(e,I),E(e,L),E(L,P),E(P,D),me(H,D,null),E(D,F),E(P,U),E(P,B),me(Q,B,null),E(B,re),E(P,x),E(P,N),me(ie,N,null),E(N,ne),E(P,w),E(P,C),me(J,C,null),E(C,se),E(P,ge),E(P,ve),me(Pe,ve,null),E(ve,ze),E(L,ae),E(L,Re),E(Re,Le),E(Le,rt),E(Le,Oe),E(Re,ke),E(Re,ot),E(ot,lt),E(lt,at),E(ot,mt),E(Re,T),E(Re,W),E(W,X),E(W,te),E(Re,Je),E(Re,je),E(je,Tt),E(je,M),E(Re,he),E(Re,fe),E(fe,Ie),E(fe,Ge),E(e,ft),E(e,Mt),E(e,Ye),E(e,yt),E(yt,ht),me(Dt,ht,null),E(ht,ce),E(yt,_t),E(yt,vt),me(xt,vt,null),E(vt,At),E(e,un),Wt&&Wt.m(e,null),n[58](e),Ct=!0,Mn||(yi=[we(i,"click",n[17]),we(p,"click",n[21]),we(D,"click",n[22]),we(B,"click",n[23]),we(N,"click",n[24]),we(C,"click",n[26]),we(ve,"click",n[27]),we(ot,"click",n[54]),we(W,"click",n[55]),we(je,"click",n[56]),we(fe,"click",n[57]),we(ht,"click",n[28]),we(vt,"click",n[29]),we(e,"keydown",n[30])],Mn=!0)},p(Ue,dt){(!Ct||dt[0]&16384&&s!==(s=!Ue[14]))&&(i.disabled=s);const ei={};dt[0]&256&&(ei.items=Ue[8]),dt[0]&4|dt[2]&1&&(ei.$$scope={dirty:dt,ctx:Ue}),a.$set(ei);const ai={};dt[0]&128&&(ai.items=Ue[7]),dt[0]&2|dt[2]&1&&(ai.$$scope={dirty:dt,ctx:Ue}),d.$set(ai);const qi={};dt[0]&64&&(qi.items=Ue[6]),dt[0]&2|dt[2]&1&&(qi.$$scope={dirty:dt,ctx:Ue}),g.$set(qi),(!Ct||dt[0]&8&&b!==(b=!Ue[3]))&&(p.disabled=b),(!Ct||dt[0]&2&&q!==(q=!Ue[1]))&&(D.disabled=q),(!Ct||dt[0]&65536&&le!==(le=!Ue[16]))&&(B.disabled=le),(!Ct||dt[0]&32768&&z!==(z=!Ue[15]))&&(N.disabled=z),(!Ct||dt[0]&2&&ee!==(ee=!Ue[1]))&&(C.disabled=ee),(!Ct||dt[0]&2&&Me!==(Me=!Ue[1]))&&(ve.disabled=Me),(!Ct||dt[0]&8192)&&St(rt,Ue[13]),(!Ct||dt[0]&8192&&It!==(It=Ue[13]+" structure"))&&_(ot,"title",It),(!Ct||dt[0]&4096&&de!==(de=!Ue[12]))&&(ot.disabled=de),(!Ct||dt[0]&8192&&be!==(be=Ue[13]+" object"))&&_(W,"title",be),(!Ct||dt[0]&2048&&Ae!==(Ae=!Ue[11]))&&(W.disabled=Ae),(!Ct||dt[0]&8192&&G!==(G=Ue[13]+" array"))&&_(je,"title",G),(!Ct||dt[0]&1024&&K!==(K=!Ue[10]))&&(je.disabled=K),(!Ct||dt[0]&8192&&nt!==(nt=Ue[13]+" value"))&&_(fe,"title",nt),(!Ct||dt[0]&512&&it!==(it=!Ue[9]))&&(fe.disabled=it),(!Ct||dt[0]&18&&We!==(We=!Ue[1]||Ue[4]))&&(ht.disabled=We),(!Ct||dt[0]&18&&qt!==(qt=!Ue[1]||Ue[4]))&&(vt.disabled=qt),Ue[0]?Wt?(Wt.p(Ue,dt),dt[0]&1&&A(Wt,1)):(Wt=V1(),Wt.c(),A(Wt,1),Wt.m(e,null)):Wt&&(Ee(),j(Wt,1,1,()=>{Wt=null}),Te())},i(Ue){Ct||(A(r.$$.fragment,Ue),A(a.$$.fragment,Ue),A(d.$$.fragment,Ue),A(g.$$.fragment,Ue),A(v.$$.fragment,Ue),A(H.$$.fragment,Ue),A(Q.$$.fragment,Ue),A(ie.$$.fragment,Ue),A(J.$$.fragment,Ue),A(Pe.$$.fragment,Ue),A(Dt.$$.fragment,Ue),A(xt.$$.fragment,Ue),A(Wt),Ct=!0)},o(Ue){j(r.$$.fragment,Ue),j(a.$$.fragment,Ue),j(d.$$.fragment,Ue),j(g.$$.fragment,Ue),j(v.$$.fragment,Ue),j(H.$$.fragment,Ue),j(Q.$$.fragment,Ue),j(ie.$$.fragment,Ue),j(J.$$.fragment,Ue),j(Pe.$$.fragment,Ue),j(Dt.$$.fragment,Ue),j(xt.$$.fragment,Ue),j(Wt),Ct=!1},d(Ue){Ue&&Z(e),pe(r),pe(a),pe(d),pe(g),pe(v),pe(H),pe(Q),pe(ie),pe(J),pe(Pe),pe(Dt),pe(xt),Wt&&Wt.d(),n[58](null),Mn=!1,on(yi)}}}function E9(n,e,t){let i,r,o,s,l,a,c,u,f,h,d,m,g,y,p,v,k,b,S,O,{json:I}=e,{documentState:L}=e,{showTip:P}=e,{onCloseContextMenu:D}=e,{onEditKey:H}=e,{onEditValue:F}=e,{onToggleEnforceString:q}=e,{onCut:U}=e,{onCopy:B}=e,{onPaste:Q}=e,{onRemove:re}=e,{onDuplicate:le}=e,{onExtract:x}=e,{onInsertBefore:N}=e,{onInsert:ie}=e,{onConvert:ne}=e,{onInsertAfter:z}=e,{onSort:w}=e,{onTransform:C}=e,J;ki(()=>{setTimeout(()=>{const te=[...J.querySelectorAll("button")].find(be=>!be.disabled);te&&te.focus()})});function se(){D(),H()}function ee(){D(),F()}function ge(){D(),q()}function ve(){D(),U(!0)}function Pe(){D(),U(!1)}function ze(){D(),B(!0)}function Me(){D(),B(!1)}function ae(){D(),Q()}function Re(){D(),re()}function Le(){D(),le()}function rt(){D(),x()}function Oe(te){D(),a?ne(te):ie(te)}function ke(){D(),w()}function ot(){D(),C()}function lt(){D(),N()}function at(){D(),z()}function mt(te){const be=hs(te).replace(/^Command\+/,"Ctrl+");if(be==="Up"||be==="Down"||be==="Left"||be==="Right"){te.preventDefault();const Ae=Array.from(J.querySelectorAll("button:not([disabled])")),Je=r8({allElements:Ae,currentElement:te.target,direction:be,hasPrio:je=>je.getAttribute("data-type")!=="jse-open-dropdown"});Je&&Je.focus()}}const It=()=>Oe("structure"),de=()=>Oe("object"),T=()=>Oe("array"),W=()=>Oe("value");function X(te){pt[te?"unshift":"push"](()=>{J=te,t(5,J)})}return n.$$set=te=>{"json"in te&&t(31,I=te.json),"documentState"in te&&t(32,L=te.documentState),"showTip"in te&&t(0,P=te.showTip),"onCloseContextMenu"in te&&t(33,D=te.onCloseContextMenu),"onEditKey"in te&&t(34,H=te.onEditKey),"onEditValue"in te&&t(35,F=te.onEditValue),"onToggleEnforceString"in te&&t(36,q=te.onToggleEnforceString),"onCut"in te&&t(37,U=te.onCut),"onCopy"in te&&t(38,B=te.onCopy),"onPaste"in te&&t(39,Q=te.onPaste),"onRemove"in te&&t(40,re=te.onRemove),"onDuplicate"in te&&t(41,le=te.onDuplicate),"onExtract"in te&&t(42,x=te.onExtract),"onInsertBefore"in te&&t(43,N=te.onInsertBefore),"onInsert"in te&&t(44,ie=te.onInsert),"onConvert"in te&&t(45,ne=te.onConvert),"onInsertAfter"in te&&t(46,z=te.onInsertAfter),"onSort"in te&&t(47,w=te.onSort),"onTransform"in te&&t(48,C=te.onTransform)},n.$$.update=()=>{n.$$.dirty[1]&2&&t(50,i=L.selection),n.$$.dirty[1]&1&&t(53,r=I!==void 0),n.$$.dirty[1]&524288&&t(3,o=i!=null),n.$$.dirty[0]&8|n.$$.dirty[1]&524288&&t(4,s=o&&rn(i.focusPath)),n.$$.dirty[0]&8|n.$$.dirty[1]&524289&&t(51,l=o?Ke(I,i.focusPath):void 0),n.$$.dirty[1]&4718592&&t(1,a=r&&(Ft(i)||mn(i)||Bt(i))),n.$$.dirty[0]&18|n.$$.dirty[1]&4194304&&t(16,c=r&&a&&!s),n.$$.dirty[0]&16|n.$$.dirty[1]&4718592&&t(15,u=r&&i!=null&&(Ft(i)||Bt(i))&&!s),n.$$.dirty[0]&16|n.$$.dirty[1]&4718593&&t(14,f=r&&i!=null&&Sh(i)&&!s&&!Array.isArray(Ke(I,Rt(i.focusPath)))),n.$$.dirty[1]&5767168&&t(2,h=r&&i!=null&&Sh(i)&&!xn(l)),n.$$.dirty[0]&2&&t(52,d=a),n.$$.dirty[1]&2097152&&t(13,m=d?"Convert to":"Insert"),n.$$.dirty[0]&8|n.$$.dirty[1]&2097152&&t(12,g=d?!1:o),n.$$.dirty[0]&8|n.$$.dirty[1]&3670016&&t(11,y=d?Ca(i)&&!qn(l):o),n.$$.dirty[0]&8|n.$$.dirty[1]&3670016&&t(10,p=d?Ca(i)&&!Array.isArray(l):o),n.$$.dirty[0]&8|n.$$.dirty[1]&3670016&&t(9,v=d?Ca(i)&&xn(l):o),n.$$.dirty[1]&1572866&&t(49,k=i!=null?Ol(l,L.enforceStringMap,Fe(i.focusPath)):!1),n.$$.dirty[0]&4|n.$$.dirty[1]&262144&&t(8,b=[{icon:td,text:"Edit value",title:"Edit the value (Double-click on the value)",onClick:ee,disabled:!h},{icon:k?bc:wc,text:"Enforce string",title:"Enforce keeping the value as string when it contains a numeric value",onClick:ge,disabled:!h}]),n.$$.dirty[0]&2&&t(7,S=[{icon:Pf,text:"Cut formatted",title:"Cut selected contents, formatted with indentation (Ctrl+X)",onClick:ve,disabled:!a},{icon:Pf,text:"Cut compacted",title:"Cut selected contents, without indentation (Ctrl+Shift+X)",onClick:Pe,disabled:!a}]),n.$$.dirty[0]&2&&t(6,O=[{icon:Ba,text:"Copy formatted",title:"Copy selected contents, formatted with indentation (Ctrl+C)",onClick:ze,disabled:!a},{icon:Ba,text:"Copy compacted",title:"Copy selected contents, without indentation (Ctrl+Shift+C)",onClick:Me,disabled:!a}])},[P,a,h,o,s,J,O,S,b,v,p,y,g,m,f,u,c,se,ee,ve,ze,ae,Re,Le,rt,Oe,ke,ot,lt,at,mt,I,L,D,H,F,q,U,B,Q,re,le,x,N,ie,ne,z,w,C,k,i,l,d,r,It,de,T,W,X]}class T9 extends Xe{constructor(e){super(),Qe(this,e,E9,O9,Et,{json:31,documentState:32,showTip:0,onCloseContextMenu:33,onEditKey:34,onEditValue:35,onToggleEnforceString:36,onCut:37,onCopy:38,onPaste:39,onRemove:40,onDuplicate:41,onExtract:42,onInsertBefore:43,onInsert:44,onConvert:45,onInsertAfter:46,onSort:47,onTransform:48},null,[-1,-1,-1])}}var n_={exports:{}};/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/(function(n){(function(){var e={}.hasOwnProperty;function t(){for(var i=[],r=0;r<arguments.length;r++){var o=arguments[r];if(!!o){var s=typeof o;if(s==="string"||s==="number")i.push(o);else if(Array.isArray(o)){if(o.length){var l=t.apply(null,o);l&&i.push(l)}}else if(s==="object")if(o.toString===Object.prototype.toString)for(var a in o)e.call(o,a)&&o[a]&&i.push(a);else i.push(o.toString())}}return i.join(" ")}n.exports?(t.default=t,n.exports=t):window.classNames=t})()})(n_);const ss=n_.exports;function H1(n,e,t){const i=n.slice();return i[13]=e[t],i}function z1(n){let e,t,i=n[13].start+"",r,o,s=n[13].end+"",l,a,c,u;function f(){return n[12](n[13])}return{c(){e=R("button"),t=Be("show "),r=Be(i),o=Be("-"),l=Be(s),a=oe(),_(e,"type","button"),_(e,"class","jse-expand-items svelte-a94vy2")},m(h,d){$(h,e,d),E(e,t),E(e,r),E(e,o),E(e,l),E(e,a),c||(u=we(e,"click",f),c=!0)},p(h,d){n=h,d&16&&i!==(i=n[13].start+"")&&St(r,i),d&16&&s!==(s=n[13].end+"")&&St(l,s)},d(h){h&&Z(e),c=!1,u()}}}function M9(n){let e,t,i,r,o,s,l,a,c,u,f,h=n[4],d=[];for(let m=0;m<h.length;m+=1)d[m]=z1(H1(n,h,m));return{c(){e=R("div"),t=R("div"),i=R("div"),r=Be("Items "),o=Be(n[3]),s=Be("-"),l=Be(n[2]),a=oe();for(let m=0;m<d.length;m+=1)d[m].c();_(i,"class","jse-text svelte-a94vy2"),_(e,"class","jse-collapsed-items svelte-a94vy2"),_(e,"style",c=q1(n[0].length+2)),Ne(e,"jse-selected",n[5])},m(m,g){$(m,e,g),E(e,t),E(t,i),E(i,r),E(i,o),E(i,s),E(i,l),E(t,a);for(let y=0;y<d.length;y+=1)d[y].m(t,null);u||(f=we(e,"mousemove",A9),u=!0)},p(m,[g]){if(g&8&&St(o,m[3]),g&4&&St(l,m[2]),g&19){h=m[4];let y;for(y=0;y<h.length;y+=1){const p=H1(m,h,y);d[y]?d[y].p(p,g):(d[y]=z1(p),d[y].c(),d[y].m(t,null))}for(;y<d.length;y+=1)d[y].d(1);d.length=h.length}g&1&&c!==(c=q1(m[0].length+2))&&_(e,"style",c),g&32&&Ne(e,"jse-selected",m[5])},i:xe,o:xe,d(m){m&&Z(e),Vn(d,m),u=!1,f()}}}function q1(n){return`margin-left: calc(${n} * var(--jse-indent-size))`}function A9(n){n.stopPropagation()}function P9(n,e,t){let i,r,o,s,l,{visibleSections:a}=e,{sectionIndex:c}=e,{total:u}=e,{path:f}=e,{pointer:h}=e,{selection:d}=e,{onExpandSection:m}=e;const g=y=>m(f,y);return n.$$set=y=>{"visibleSections"in y&&t(6,a=y.visibleSections),"sectionIndex"in y&&t(7,c=y.sectionIndex),"total"in y&&t(8,u=y.total),"path"in y&&t(0,f=y.path),"pointer"in y&&t(9,h=y.pointer),"selection"in y&&t(10,d=y.selection),"onExpandSection"in y&&t(1,m=y.onExpandSection)},n.$$.update=()=>{n.$$.dirty&192&&t(11,i=a[c]),n.$$.dirty&2048&&t(3,r=i.end),n.$$.dirty&448&&t(2,o=a[c+1]?a[c+1].start:u),n.$$.dirty&1544&&t(5,s=Ft(d)?d.pointersMap[mf(h,r)]===!0:!1),n.$$.dirty&12&&t(4,l=kI(r,o))},[f,m,o,r,l,s,a,c,u,h,d,i,g]}class I9 extends Xe{constructor(e){super(),Qe(this,e,P9,M9,Et,{visibleSections:6,sectionIndex:7,total:8,path:0,pointer:9,selection:10,onExpandSection:1})}}function N9(n){let e,t,i,r,o;return t=new wt({props:{data:Yi}}),{c(){e=R("button"),ye(t.$$.fragment),_(e,"type","button"),_(e,"class","jse-context-menu-button svelte-1lm9yxm"),_(e,"title",Fy),Ne(e,"jse-selected",n[0])},m(s,l){$(s,e,l),me(t,e,null),i=!0,r||(o=we(e,"click",n[1]),r=!0)},p(s,[l]){l&1&&Ne(e,"jse-selected",s[0])},i(s){i||(A(t.$$.fragment,s),i=!0)},o(s){j(t.$$.fragment,s),i=!1},d(s){s&&Z(e),pe(t),r=!1,o()}}}function D9(n,e,t){let{selected:i}=e,{onContextMenu:r}=e;function o(s){let l=s.target;for(;l&&l.nodeName!=="BUTTON";)l=l.parentNode;l&&r({anchor:l,left:0,top:0,width:Os,height:xs,offsetTop:2,offsetLeft:0,showTip:!0})}return n.$$set=s=>{"selected"in s&&t(0,i=s.selected),"onContextMenu"in s&&t(2,r=s.onContextMenu)},[i,o,r]}class Eo extends Xe{constructor(e){super(),Qe(this,e,D9,N9,Et,{selected:0,onContextMenu:2})}}function W1(n,e,t){const i=n.slice();return i[3]=e[t],i}function R9(n){let e,t=po(n[3].text)+"",i;return{c(){e=R("span"),i=Be(t),_(e,"class","jse-highlight svelte-mtessu"),Ne(e,"jse-active",n[3].active)},m(r,o){$(r,e,o),E(e,i)},p(r,o){o&1&&t!==(t=po(r[3].text)+"")&&St(i,t),o&1&&Ne(e,"jse-active",r[3].active)},d(r){r&&Z(e)}}}function j9(n){let e=n[3].text+"",t;return{c(){t=Be(e)},m(i,r){$(i,t,r)},p(i,r){r&1&&e!==(e=i[3].text+"")&&St(t,e)},d(i){i&&Z(t)}}}function U1(n){let e;function t(o,s){return o[3].type==="normal"?j9:R9}let i=t(n),r=i(n);return{c(){r.c(),e=Nt()},m(o,s){r.m(o,s),$(o,e,s)},p(o,s){i===(i=t(o))&&r?r.p(o,s):(r.d(1),r=i(o),r&&(r.c(),r.m(e.parentNode,e)))},d(o){r.d(o),o&&Z(e)}}}function L9(n){let e,t=n[0],i=[];for(let r=0;r<t.length;r+=1)i[r]=U1(W1(n,t,r));return{c(){for(let r=0;r<i.length;r+=1)i[r].c();e=Nt()},m(r,o){for(let s=0;s<i.length;s+=1)i[s].m(r,o);$(r,e,o)},p(r,[o]){if(o&1){t=r[0];let s;for(s=0;s<t.length;s+=1){const l=W1(r,t,s);i[s]?i[s].p(l,o):(i[s]=U1(l),i[s].c(),i[s].m(e.parentNode,e))}for(;s<i.length;s+=1)i[s].d(1);i.length=t.length}},i:xe,o:xe,d(r){Vn(i,r),r&&Z(e)}}}function B9(n,e,t){let i,{text:r}=e,{searchResultItems:o}=e;return n.$$set=s=>{"text"in s&&t(1,r=s.text),"searchResultItems"in s&&t(2,o=s.searchResultItems)},n.$$.update=()=>{n.$$.dirty&6&&t(0,i=t9(String(r),o))},[i,r,o]}class i_ extends Xe{constructor(e){super(),Qe(this,e,B9,L9,tn,{text:1,searchResultItems:2})}}function F9(n){let e,t,i,r;return{c(){e=R("div"),_(e,"class",t=Pn(ss("jse-editable-div",n[2],{"jse-short-text":n[0]}))+" svelte-1rwbo30"),_(e,"contenteditable","true"),_(e,"spellcheck","false")},m(o,s){$(o,e,s),n[13](e),i||(r=[we(e,"input",n[3]),we(e,"keydown",n[4]),we(e,"paste",n[5]),we(e,"blur",n[6])],i=!0)},p(o,[s]){s&5&&t!==(t=Pn(ss("jse-editable-div",o[2],{"jse-short-text":o[0]}))+" svelte-1rwbo30")&&_(e,"class",t)},i:xe,o:xe,d(o){o&&Z(e),n[13](null),i=!1,on(r)}}}function V9(n,e,t){const i=$n("jsoneditor:EditableDiv");let{value:r}=e,{shortText:o=!1}=e,{onChange:s}=e,{onCancel:l}=e,{onFind:a}=e,{onPaste:c=Vt}=e,{onValueClass:u=()=>""}=e,f,h=u(r),d=!1;ki(()=>{i("onMount",{value:r}),g(r),setTimeout(()=>Fv(f))}),lo(()=>{const S=m();i("onDestroy",{closed:d,value:r,newValue:S}),!d&&S!==r&&s(S,io.NO)});function m(){return Z6(f.innerText)}function g(S){t(1,f.innerText=po(S),f)}function y(){const S=m();S===""&&g(""),t(2,h=u(S))}function p(S){S.stopPropagation();const O=hs(S).replace(/^Command\+/,"Ctrl+");if(O==="Escape"&&(d=!0,l()),O==="Enter"||O==="Tab"){d=!0;const I=m();s(I,io.NEXT_INSIDE)}O==="Ctrl+F"&&(S.preventDefault(),a(!1)),O==="Ctrl+H"&&(S.preventDefault(),a(!0))}function v(S){if(!c)return;const O=S.clipboardData.getData("text/plain");c(O)}function k(){const S=document.hasFocus(),O=m();i("handleBlur",{hasFocus:S,closed:d,value:r,newValue:O}),document.hasFocus()&&!d&&(d=!0,O!==r?s(O,io.SELF):l())}function b(S){pt[S?"unshift":"push"](()=>{f=S,t(1,f)})}return n.$$set=S=>{"value"in S&&t(7,r=S.value),"shortText"in S&&t(0,o=S.shortText),"onChange"in S&&t(8,s=S.onChange),"onCancel"in S&&t(9,l=S.onCancel),"onFind"in S&&t(10,a=S.onFind),"onPaste"in S&&t(11,c=S.onPaste),"onValueClass"in S&&t(12,u=S.onValueClass)},[o,f,h,y,p,v,k,r,s,l,a,c,u,b]}class r_ extends Xe{constructor(e){super(),Qe(this,e,V9,F9,Et,{value:7,shortText:0,onChange:8,onCancel:9,onFind:10,onPaste:11,onValueClass:12})}}function H9(n){let e,t,i,r,o,s,l;const a=[W9,q9],c=[];function u(f,h){return f[1]?0:1}return t=u(n),i=c[t]=a[t](n),{c(){e=R("div"),i.c(),_(e,"data-type","selectable-key"),_(e,"class",r=Pn(n[6](n[0]))+" svelte-1cm0o9n")},m(f,h){$(f,e,h),c[t].m(e,null),o=!0,s||(l=we(e,"dblclick",n[5]),s=!0)},p(f,h){let d=t;t=u(f),t===d?c[t].p(f,h):(Ee(),j(c[d],1,1,()=>{c[d]=null}),Te(),i=c[t],i?i.p(f,h):(i=c[t]=a[t](f),i.c()),A(i,1),i.m(e,null)),(!o||h&1&&r!==(r=Pn(f[6](f[0]))+" svelte-1cm0o9n"))&&_(e,"class",r)},i(f){o||(A(i),o=!0)},o(f){j(i),o=!1},d(f){f&&Z(e),c[t].d(),s=!1,l()}}}function z9(n){let e,t;return e=new r_({props:{value:n[2].normalization.escapeValue(n[0]),shortText:!0,onChange:n[7],onCancel:n[8],onFind:n[2].onFind}}),{c(){ye(e.$$.fragment)},m(i,r){me(e,i,r),t=!0},p(i,r){const o={};r&5&&(o.value=i[2].normalization.escapeValue(i[0])),r&4&&(o.onFind=i[2].onFind),e.$set(o)},i(i){t||(A(e.$$.fragment,i),t=!0)},o(i){j(e.$$.fragment,i),t=!1},d(i){pe(e,i)}}}function q9(n){let e=po(n[2].normalization.escapeValue(n[0]))+"",t;return{c(){t=Be(e)},m(i,r){$(i,t,r)},p(i,r){r&5&&e!==(e=po(i[2].normalization.escapeValue(i[0]))+"")&&St(t,e)},i:xe,o:xe,d(i){i&&Z(t)}}}function W9(n){let e,t;return e=new i_({props:{text:n[2].normalization.escapeValue(n[0]),searchResultItems:n[1]}}),{c(){ye(e.$$.fragment)},m(i,r){me(e,i,r),t=!0},p(i,r){const o={};r&5&&(o.text=i[2].normalization.escapeValue(i[0])),r&2&&(o.searchResultItems=i[1]),e.$set(o)},i(i){t||(A(e.$$.fragment,i),t=!0)},o(i){j(e.$$.fragment,i),t=!1},d(i){pe(e,i)}}}function K1(n){let e,t;return e=new Eo({props:{selected:!0,onContextMenu:n[2].onContextMenu}}),{c(){ye(e.$$.fragment)},m(i,r){me(e,i,r),t=!0},p(i,r){const o={};r&4&&(o.onContextMenu=i[2].onContextMenu),e.$set(o)},i(i){t||(A(e.$$.fragment,i),t=!0)},o(i){j(e.$$.fragment,i),t=!1},d(i){pe(e,i)}}}function U9(n){let e,t,i,r,o;const s=[z9,H9],l=[];function a(u,f){return u[4]?0:1}e=a(n),t=l[e]=s[e](n);let c=!n[2].readOnly&&n[3]&&!n[4]&&K1(n);return{c(){t.c(),i=oe(),c&&c.c(),r=Nt()},m(u,f){l[e].m(u,f),$(u,i,f),c&&c.m(u,f),$(u,r,f),o=!0},p(u,[f]){let h=e;e=a(u),e===h?l[e].p(u,f):(Ee(),j(l[h],1,1,()=>{l[h]=null}),Te(),t=l[e],t?t.p(u,f):(t=l[e]=s[e](u),t.c()),A(t,1),t.m(i.parentNode,i)),!u[2].readOnly&&u[3]&&!u[4]?c?(c.p(u,f),f&28&&A(c,1)):(c=K1(u),c.c(),A(c,1),c.m(r.parentNode,r)):c&&(Ee(),j(c,1,1,()=>{c=null}),Te())},i(u){o||(A(t),A(c),o=!0)},o(u){j(t),j(c),o=!1},d(u){l[e].d(u),u&&Z(i),c&&c.d(u),u&&Z(r)}}}function K9(n,e,t){let i,r,{path:o}=e,{pointer:s}=e,{key:l}=e,{selection:a}=e,{searchResultItems:c}=e,{onUpdateKey:u}=e,{context:f}=e;function h(y){!r&&!f.readOnly&&(y.preventDefault(),f.onSelect(gi(o,!0)))}function d(y){return ss("jse-key",{"jse-empty":y===""})}function m(y,p){const v=u(l,f.normalization.unescapeValue(y)),k=Rt(o).concat(v);f.onSelect(p===io.NEXT_INSIDE?Zt(k,!1):gi(k,!1)),p!==io.SELF&&f.focus()}function g(){f.onSelect(gi(o,!1)),f.focus()}return n.$$set=y=>{"path"in y&&t(9,o=y.path),"pointer"in y&&t(10,s=y.pointer),"key"in y&&t(0,l=y.key),"selection"in y&&t(11,a=y.selection),"searchResultItems"in y&&t(1,c=y.searchResultItems),"onUpdateKey"in y&&t(12,u=y.onUpdateKey),"context"in y&&t(2,f=y.context)},n.$$.update=()=>{n.$$.dirty&3072&&t(3,i=a?a.pointersMap[s]===!0&&mn(a):void 0),n.$$.dirty&2056&&t(4,r=i&&qs(a))},[l,c,f,i,r,h,d,m,g,o,s,a,u]}class J9 extends Xe{constructor(e){super(),Qe(this,e,K9,U9,Et,{path:9,pointer:10,key:0,selection:11,searchResultItems:1,onUpdateKey:12,context:2})}}function J1(n,e,t){const i=n.slice();return i[9]=e[t],i}function G1(n){let e,t,i;const r=[n[9].props];var o=n[9].component;function s(l){let a={};for(let c=0;c<r.length;c+=1)a=Wr(a,r[c]);return{props:a}}return o&&(e=new o(s())),{c(){e&&ye(e.$$.fragment),t=Nt()},m(l,a){e&&me(e,l,a),$(l,t,a),i=!0},p(l,a){const c=a&1?_o(r,[Oc(l[9].props)]):{};if(o!==(o=l[9].component)){if(e){Ee();const u=e;j(u.$$.fragment,1,0,()=>{pe(u,1)}),Te()}o?(e=new o(s()),ye(e.$$.fragment),A(e.$$.fragment,1),me(e,t.parentNode,t)):e=null}else o&&e.$set(c)},i(l){i||(e&&A(e.$$.fragment,l),i=!0)},o(l){e&&j(e.$$.fragment,l),i=!1},d(l){l&&Z(t),e&&pe(e,l)}}}function G9(n){let e,t,i=n[0],r=[];for(let s=0;s<i.length;s+=1)r[s]=G1(J1(n,i,s));const o=s=>j(r[s],1,1,()=>{r[s]=null});return{c(){for(let s=0;s<r.length;s+=1)r[s].c();e=Nt()},m(s,l){for(let a=0;a<r.length;a+=1)r[a].m(s,l);$(s,e,l),t=!0},p(s,[l]){if(l&1){i=s[0];let a;for(a=0;a<i.length;a+=1){const c=J1(s,i,a);r[a]?(r[a].p(c,l),A(r[a],1)):(r[a]=G1(c),r[a].c(),A(r[a],1),r[a].m(e.parentNode,e))}for(Ee(),a=i.length;a<r.length;a+=1)o(a);Te()}},i(s){if(!t){for(let l=0;l<i.length;l+=1)A(r[l]);t=!0}},o(s){r=r.filter(Boolean);for(let l=0;l<r.length;l+=1)j(r[l]);t=!1},d(s){Vn(r,s),s&&Z(e)}}}function Q9(n,e,t){let i,r,{path:o}=e,{value:s}=e,{context:l}=e,{isSelected:a}=e,{enforceString:c}=e,{selection:u}=e,{searchResultItems:f}=e;return n.$$set=h=>{"path"in h&&t(1,o=h.path),"value"in h&&t(2,s=h.value),"context"in h&&t(3,l=h.context),"isSelected"in h&&t(4,a=h.isSelected),"enforceString"in h&&t(5,c=h.enforceString),"selection"in h&&t(6,u=h.selection),"searchResultItems"in h&&t(7,f=h.searchResultItems)},n.$$.update=()=>{n.$$.dirty&72&&t(8,i=!l.readOnly&&Bt(u)&&qs(u)),n.$$.dirty&510&&t(0,r=l.onRenderValue({path:o,value:s,readOnly:l.readOnly,enforceString:c,isSelected:a,isEditing:i,normalization:l.normalization,selection:u,searchResultItems:f,onPatch:l.onPatch,onPasteJson:l.onPasteJson,onSelect:l.onSelect,onFind:l.onFind,focus:l.focus}))},[r,o,s,l,a,c,u,f,i]}class X9 extends Xe{constructor(e){super(),Qe(this,e,Q9,G9,Et,{path:1,value:2,context:3,isSelected:4,enforceString:5,selection:6,searchResultItems:7})}}const An={selecting:!1,selectionAnchor:null,selectionAnchorType:null,selectionFocus:null,dragging:!1};function of({json:n,documentState:e,deltaY:t,items:i}){const r=e.selection,o=t<0?Y9({json:n,selection:r,deltaY:t,items:i}):Z9({json:n,selection:r,deltaY:t,items:i});if(!o||o.offset===0)return{operations:void 0,updatedSelection:void 0,offset:0};const s=JI(n,e.selection,o),l=Rt(rs(r)),a=Ke(n,l);if(Array.isArray(a)){const c=$9({items:i,json:n,selection:r,offset:o.offset});return{operations:s,updatedSelection:c,offset:o.offset}}else return{operations:s,updatedSelection:void 0,offset:o.offset}}function Y9({items:n,selection:e,deltaY:t}){const i=rs(e),r=n.findIndex(u=>Ht(u.path,i)),o=()=>{var u;return(u=n[s-1])===null||u===void 0?void 0:u.height};let s=r,l=0;for(;o()!==void 0&&Math.abs(t)>l+o()/2;)l+=o(),s-=1;const a=n[s].path,c=s-r;return s!==r&&n[s]!==void 0?{beforePath:a,offset:c}:void 0}function Z9({json:n,items:e,selection:t,deltaY:i}){var r;const o=lu(t),s=e.findIndex(y=>Ht(y.path,o));let l=0,a=s;const c=()=>{var y;return(y=e[a+1])===null||y===void 0?void 0:y.height};for(;c()!==void 0&&Math.abs(i)>l+c()/2;)l+=c(),a+=1;const u=Rt(o),f=Ke(n,u),d=Array.isArray(f)?a:a+1,m=(r=e[d])===null||r===void 0?void 0:r.path,g=a-s;return m?{beforePath:m,offset:g}:{append:!0,offset:g}}function $9({items:n,json:e,selection:t,offset:i}){var r,o;const s=rs(t),l=lu(t),a=n.findIndex(h=>Ht(h.path,s)),c=n.findIndex(h=>Ht(h.path,l)),u=(r=n[a+i])===null||r===void 0?void 0:r.path,f=(o=n[c+i])===null||o===void 0?void 0:o.path;return pn(e,u,f)}function eN(n,e){if(!n)return;const t={};for(const i of Object.keys(n))e(i,n[i])&&(t[i]=n[i]);return Object.keys(t).length>0?t:void 0}function Ji(n,e){return eN(n,t=>Ko(t,e))}function tN(n){let e,t;return{c(){e=R("div"),t=Be(n[0]),_(e,"class","jse-tooltip svelte-r4omvg")},m(i,r){$(i,e,r),E(e,t)},p(i,[r]){r&1&&St(t,i[0])},i:xe,o:xe,d(i){i&&Z(e)}}}function nN(n,e,t){let{text:i}=e;return n.$$set=r=>{"text"in r&&t(0,i=r.text)},[i]}class iN extends Xe{constructor(e){super(),Qe(this,e,nN,tN,tn,{text:0})}}function o_(n,{text:e,openAbsolutePopup:t,closeAbsolutePopup:i}){let r;function o(){r=t(iN,{text:e},{position:"top",width:10*e.length,offsetTop:3,anchor:n,closeOnOuterClick:!0})}function s(){i(r)}return n.addEventListener("mouseenter",o),n.addEventListener("mouseleave",s),{destroy(){n.removeEventListener("mouseenter",o),n.removeEventListener("mouseleave",s)}}}function rN(n){let e,t,i,r,o,s;return t=new wt({props:{data:ds}}),{c(){e=R("button"),ye(t.$$.fragment),_(e,"type","button"),_(e,"class","jse-validation-error svelte-1q62mys")},m(l,a){$(l,e,a),me(t,e,null),r=!0,o||(s=[we(e,"click",function(){Pi(n[0])&&n[0].apply(this,arguments)}),dl(i=o_.call(null,e,{text:n[1],...n[2]}))],o=!0)},p(l,[a]){n=l,i&&Pi(i.update)&&a&2&&i.update.call(null,{text:n[1],...n[2]})},i(l){r||(A(t.$$.fragment,l),r=!0)},o(l){j(t.$$.fragment,l),r=!1},d(l){l&&Z(e),pe(t),o=!1,on(s)}}}function oN(n,e,t){let i;const r=si("absolute-popup");let{validationError:o}=e,{onExpand:s}=e;return n.$$set=l=>{"validationError"in l&&t(3,o=l.validationError),"onExpand"in l&&t(0,s=l.onExpand)},n.$$.update=()=>{n.$$.dirty&8&&t(1,i=o.isChildError?"Contains invalid data":o.message)},[s,i,r,o]}class Hd extends Xe{constructor(e){super(),Qe(this,e,oN,rN,tn,{validationError:3,onExpand:0})}}const sN=n=>({}),Q1=n=>({});function X1(n,e,t){const i=n.slice();return i[54]=e[t],i}const lN=n=>({}),Y1=n=>({});function Z1(n,e,t){const i=n.slice();return i[48]=e[t],i[50]=t,i}function $1(n,e,t){const i=n.slice();return i[51]=e[t],i}const aN=n=>({}),e0=n=>({});function cN(n){let e,t,i,r,o,s,l=!n[8].readOnly&&n[16]&&n[7]&&(Bt(n[7])||Ft(n[7]))&&!n[7].edit&&Ht(n[7].focusPath,n[1]),a,c,u;const f=n[35].identifier,h=Ri(f,n,n[36],Q1);let d=!n[17]&&t0();o=new X9({props:{path:n[1],value:n[0],enforceString:n[13],isSelected:n[16],selection:n[16]?n[7]:void 0,searchResultItems:R1(n[6],n[9]),context:n[8]}});let m=l&&n0(n),g=n[15]&&i0(n),y=!n[17]&&r0(n);return{c(){e=R("div"),t=R("div"),h&&h.c(),i=oe(),d&&d.c(),r=oe(),ye(o.$$.fragment),s=oe(),m&&m.c(),a=oe(),g&&g.c(),c=oe(),y&&y.c(),_(t,"class","jse-contents svelte-1dkd71f"),_(e,"class","jse-contents-outer svelte-1dkd71f"),_(e,"style",n[18])},m(p,v){$(p,e,v),E(e,t),h&&h.m(t,null),E(t,i),d&&d.m(t,null),E(t,r),me(o,t,null),E(t,s),m&&m.m(t,null),E(e,a),g&&g.m(e,null),E(e,c),y&&y.m(e,null),u=!0},p(p,v){h&&h.p&&(!u||v[1]&32)&&Li(h,f,p,p[36],u?ji(f,p[36],v,sN):Bi(p[36]),Q1),p[17]?d&&(d.d(1),d=null):d||(d=t0(),d.c(),d.m(t,r));const k={};v[0]&2&&(k.path=p[1]),v[0]&1&&(k.value=p[0]),v[0]&8192&&(k.enforceString=p[13]),v[0]&65536&&(k.isSelected=p[16]),v[0]&65664&&(k.selection=p[16]?p[7]:void 0),v[0]&576&&(k.searchResultItems=R1(p[6],p[9])),v[0]&256&&(k.context=p[8]),o.$set(k),v[0]&65922&&(l=!p[8].readOnly&&p[16]&&p[7]&&(Bt(p[7])||Ft(p[7]))&&!p[7].edit&&Ht(p[7].focusPath,p[1])),l?m?(m.p(p,v),v[0]&65922&&A(m,1)):(m=n0(p),m.c(),A(m,1),m.m(t,null)):m&&(Ee(),j(m,1,1,()=>{m=null}),Te()),p[15]?g?(g.p(p,v),v[0]&32768&&A(g,1)):(g=i0(p),g.c(),A(g,1),g.m(e,c)):g&&(Ee(),j(g,1,1,()=>{g=null}),Te()),p[17]?y&&(y.d(1),y=null):y?y.p(p,v):(y=r0(p),y.c(),y.m(e,null)),(!u||v[0]&262144)&&_(e,"style",p[18])},i(p){u||(A(h,p),A(o.$$.fragment,p),A(m),A(g),u=!0)},o(p){j(h,p),j(o.$$.fragment,p),j(m),j(g),u=!1},d(p){p&&Z(e),h&&h.d(p),d&&d.d(),pe(o),m&&m.d(),g&&g.d(),y&&y.d()}}}function uN(n){let e,t,i,r,o,s,l,a,c,u,f,h=!n[8].readOnly&&n[16]&&n[7]&&(Bt(n[7])||Ft(n[7]))&&!n[7].edit&&Ht(n[7].focusPath,n[1]),d,m,g,y,p,v,k;const b=[dN,hN],S=[];function O(x,N){return x[12]?0:1}r=O(n),o=S[r]=b[r](n);const I=n[35].identifier,L=Ri(I,n,n[36],Y1);let P=!n[17]&&o0();function D(x,N){return x[12]?pN:mN}let H=D(n),F=H(n),q=h&&s0(n),U=n[15]&&(!n[12]||!n[15].isChildError)&&l0(n);function B(x,N){if(x[12])return yN;if(!x[17])return gN}let Q=B(n),re=Q&&Q(n),le=n[12]&&a0(n);return{c(){e=R("div"),t=R("div"),i=R("button"),o.c(),s=oe(),L&&L.c(),l=oe(),P&&P.c(),a=oe(),c=R("div"),u=R("div"),F.c(),f=oe(),q&&q.c(),d=oe(),U&&U.c(),m=oe(),re&&re.c(),g=oe(),le&&le.c(),y=Nt(),_(i,"type","button"),_(i,"class","jse-expand svelte-1dkd71f"),_(i,"title","Expand or collapse this object (Ctrl+Click to expand/collapse recursively)"),_(u,"class","jse-meta-inner svelte-1dkd71f"),_(c,"class","jse-meta svelte-1dkd71f"),_(c,"data-type","selectable-value"),_(t,"class","jse-header svelte-1dkd71f"),_(e,"class","jse-header-outer svelte-1dkd71f"),_(e,"style",n[18])},m(x,N){$(x,e,N),E(e,t),E(t,i),S[r].m(i,null),E(t,s),L&&L.m(t,null),E(t,l),P&&P.m(t,null),E(t,a),E(t,c),E(c,u),F.m(u,null),E(t,f),q&&q.m(t,null),E(e,d),U&&U.m(e,null),E(e,m),re&&re.m(e,null),$(x,g,N),le&&le.m(x,N),$(x,y,N),p=!0,v||(k=we(i,"click",n[22]),v=!0)},p(x,N){let ie=r;r=O(x),r===ie?S[r].p(x,N):(Ee(),j(S[ie],1,1,()=>{S[ie]=null}),Te(),o=S[r],o?o.p(x,N):(o=S[r]=b[r](x),o.c()),A(o,1),o.m(i,null)),L&&L.p&&(!p||N[1]&32)&&Li(L,I,x,x[36],p?ji(I,x[36],N,lN):Bi(x[36]),Y1),x[17]?P&&(P.d(1),P=null):P||(P=o0(),P.c(),P.m(t,a)),H===(H=D(x))&&F?F.p(x,N):(F.d(1),F=H(x),F&&(F.c(),F.m(u,null))),N[0]&65922&&(h=!x[8].readOnly&&x[16]&&x[7]&&(Bt(x[7])||Ft(x[7]))&&!x[7].edit&&Ht(x[7].focusPath,x[1])),h?q?(q.p(x,N),N[0]&65922&&A(q,1)):(q=s0(x),q.c(),A(q,1),q.m(t,null)):q&&(Ee(),j(q,1,1,()=>{q=null}),Te()),x[15]&&(!x[12]||!x[15].isChildError)?U?(U.p(x,N),N[0]&36864&&A(U,1)):(U=l0(x),U.c(),A(U,1),U.m(e,m)):U&&(Ee(),j(U,1,1,()=>{U=null}),Te()),Q===(Q=B(x))&&re?re.p(x,N):(re&&re.d(1),re=Q&&Q(x),re&&(re.c(),re.m(e,null))),(!p||N[0]&262144)&&_(e,"style",x[18]),x[12]?le?(le.p(x,N),N[0]&4096&&A(le,1)):(le=a0(x),le.c(),A(le,1),le.m(y.parentNode,y)):le&&(Ee(),j(le,1,1,()=>{le=null}),Te())},i(x){p||(A(o),A(L,x),A(q),A(U),A(le),p=!0)},o(x){j(o),j(L,x),j(q),j(U),j(le),p=!1},d(x){x&&Z(e),S[r].d(),L&&L.d(x),P&&P.d(),F.d(),q&&q.d(),U&&U.d(),re&&re.d(),x&&Z(g),le&&le.d(x),x&&Z(y),v=!1,k()}}}function fN(n){let e,t,i,r,o,s,l,a,c,u,f,h=!n[8].readOnly&&n[16]&&n[7]&&(Bt(n[7])||Ft(n[7]))&&!n[7].edit&&Ht(n[7].focusPath,n[1]),d,m,g,y,p,v,k;const b=[wN,bN],S=[];function O(x,N){return x[12]?0:1}r=O(n),o=S[r]=b[r](n);const I=n[35].identifier,L=Ri(I,n,n[36],e0);let P=!n[17]&&h0();function D(x,N){return x[12]?kN:_N}let H=D(n),F=H(n),q=h&&d0(n),U=n[15]&&(!n[12]||!n[15].isChildError)&&m0(n);function B(x,N){return x[12]?CN:SN}let Q=B(n),re=Q(n),le=n[12]&&p0(n);return{c(){e=R("div"),t=R("div"),i=R("button"),o.c(),s=oe(),L&&L.c(),l=oe(),P&&P.c(),a=oe(),c=R("div"),u=R("div"),F.c(),f=oe(),q&&q.c(),d=oe(),U&&U.c(),m=oe(),re.c(),g=oe(),le&&le.c(),y=Nt(),_(i,"type","button"),_(i,"class","jse-expand svelte-1dkd71f"),_(i,"title","Expand or collapse this array (Ctrl+Click to expand/collapse recursively)"),_(u,"class","jse-meta-inner svelte-1dkd71f"),_(u,"data-type","selectable-value"),_(c,"class","jse-meta svelte-1dkd71f"),_(t,"class","jse-header svelte-1dkd71f"),_(e,"class","jse-header-outer svelte-1dkd71f"),_(e,"style",n[18])},m(x,N){$(x,e,N),E(e,t),E(t,i),S[r].m(i,null),E(t,s),L&&L.m(t,null),E(t,l),P&&P.m(t,null),E(t,a),E(t,c),E(c,u),F.m(u,null),E(t,f),q&&q.m(t,null),E(e,d),U&&U.m(e,null),E(e,m),re.m(e,null),$(x,g,N),le&&le.m(x,N),$(x,y,N),p=!0,v||(k=we(i,"click",n[22]),v=!0)},p(x,N){let ie=r;r=O(x),r===ie?S[r].p(x,N):(Ee(),j(S[ie],1,1,()=>{S[ie]=null}),Te(),o=S[r],o?o.p(x,N):(o=S[r]=b[r](x),o.c()),A(o,1),o.m(i,null)),L&&L.p&&(!p||N[1]&32)&&Li(L,I,x,x[36],p?ji(I,x[36],N,aN):Bi(x[36]),e0),x[17]?P&&(P.d(1),P=null):P||(P=h0(),P.c(),P.m(t,a)),H===(H=D(x))&&F?F.p(x,N):(F.d(1),F=H(x),F&&(F.c(),F.m(u,null))),N[0]&65922&&(h=!x[8].readOnly&&x[16]&&x[7]&&(Bt(x[7])||Ft(x[7]))&&!x[7].edit&&Ht(x[7].focusPath,x[1])),h?q?(q.p(x,N),N[0]&65922&&A(q,1)):(q=d0(x),q.c(),A(q,1),q.m(t,null)):q&&(Ee(),j(q,1,1,()=>{q=null}),Te()),x[15]&&(!x[12]||!x[15].isChildError)?U?(U.p(x,N),N[0]&36864&&A(U,1)):(U=m0(x),U.c(),A(U,1),U.m(e,m)):U&&(Ee(),j(U,1,1,()=>{U=null}),Te()),Q===(Q=B(x))&&re?re.p(x,N):(re.d(1),re=Q(x),re&&(re.c(),re.m(e,null))),(!p||N[0]&262144)&&_(e,"style",x[18]),x[12]?le?(le.p(x,N),N[0]&4096&&A(le,1)):(le=p0(x),le.c(),A(le,1),le.m(y.parentNode,y)):le&&(Ee(),j(le,1,1,()=>{le=null}),Te())},i(x){p||(A(o),A(L,x),A(q),A(U),A(le),p=!0)},o(x){j(o),j(L,x),j(q),j(U),j(le),p=!1},d(x){x&&Z(e),S[r].d(),L&&L.d(x),P&&P.d(),F.d(),q&&q.d(),U&&U.d(),re.d(),x&&Z(g),le&&le.d(x),x&&Z(y),v=!1,k()}}}function t0(n){let e;return{c(){e=R("div"),e.textContent=":",_(e,"class","jse-separator svelte-1dkd71f")},m(t,i){$(t,e,i)},d(t){t&&Z(e)}}}function n0(n){let e,t,i;return t=new Eo({props:{selected:!0,onContextMenu:n[8].onContextMenu}}),{c(){e=R("div"),ye(t.$$.fragment),_(e,"class","jse-context-menu-button-anchor svelte-1dkd71f")},m(r,o){$(r,e,o),me(t,e,null),i=!0},p(r,o){const s={};o[0]&256&&(s.onContextMenu=r[8].onContextMenu),t.$set(s)},i(r){i||(A(t.$$.fragment,r),i=!0)},o(r){j(t.$$.fragment,r),i=!1},d(r){r&&Z(e),pe(t)}}}function i0(n){let e,t;return e=new Hd({props:{validationError:n[15],onExpand:n[23]}}),{c(){ye(e.$$.fragment)},m(i,r){me(e,i,r),t=!0},p(i,r){const o={};r[0]&32768&&(o.validationError=i[15]),e.$set(o)},i(i){t||(A(e.$$.fragment,i),t=!0)},o(i){j(e.$$.fragment,i),t=!1},d(i){pe(e,i)}}}function r0(n){let e,t,i;return{c(){e=R("div"),_(e,"class","jse-insert-selection-area jse-after svelte-1dkd71f"),_(e,"data-type","insert-selection-area-after")},m(r,o){$(r,e,o),t||(i=we(e,"click",n[31]),t=!0)},p:xe,d(r){r&&Z(e),t=!1,i()}}}function hN(n){let e,t;return e=new wt({props:{data:xr}}),{c(){ye(e.$$.fragment)},m(i,r){me(e,i,r),t=!0},p:xe,i(i){t||(A(e.$$.fragment,i),t=!0)},o(i){j(e.$$.fragment,i),t=!1},d(i){pe(e,i)}}}function dN(n){let e,t;return e=new wt({props:{data:Yi}}),{c(){ye(e.$$.fragment)},m(i,r){me(e,i,r),t=!0},p:xe,i(i){t||(A(e.$$.fragment,i),t=!0)},o(i){j(e.$$.fragment,i),t=!1},d(i){pe(e,i)}}}function o0(n){let e;return{c(){e=R("div"),e.textContent=":",_(e,"class","jse-separator svelte-1dkd71f")},m(t,i){$(t,e,i)},d(t){t&&Z(e)}}}function mN(n){let e,t,i,r=Object.keys(n[0]).length+"",o,s,l=Object.keys(n[0]).length===1?"prop":"props",a,c,u,f,h;return{c(){e=R("div"),e.textContent="{",t=oe(),i=R("button"),o=Be(r),s=oe(),a=Be(l),c=oe(),u=R("div"),u.textContent="}",_(e,"class","jse-bracket svelte-1dkd71f"),_(i,"type","button"),_(i,"class","jse-tag svelte-1dkd71f"),_(u,"class","jse-bracket svelte-1dkd71f")},m(d,m){$(d,e,m),$(d,t,m),$(d,i,m),E(i,o),E(i,s),E(i,a),$(d,c,m),$(d,u,m),f||(h=we(i,"click",n[23]),f=!0)},p(d,m){m[0]&1&&r!==(r=Object.keys(d[0]).length+"")&&St(o,r),m[0]&1&&l!==(l=Object.keys(d[0]).length===1?"prop":"props")&&St(a,l)},d(d){d&&Z(e),d&&Z(t),d&&Z(i),d&&Z(c),d&&Z(u),f=!1,h()}}}function pN(n){let e;return{c(){e=R("div"),e.textContent="{",_(e,"class","jse-bracket jse-expanded svelte-1dkd71f")},m(t,i){$(t,e,i)},p:xe,d(t){t&&Z(e)}}}function s0(n){let e,t,i;return t=new Eo({props:{selected:!0,onContextMenu:n[8].onContextMenu}}),{c(){e=R("div"),ye(t.$$.fragment),_(e,"class","jse-context-menu-button-anchor svelte-1dkd71f")},m(r,o){$(r,e,o),me(t,e,null),i=!0},p(r,o){const s={};o[0]&256&&(s.onContextMenu=r[8].onContextMenu),t.$set(s)},i(r){i||(A(t.$$.fragment,r),i=!0)},o(r){j(t.$$.fragment,r),i=!1},d(r){r&&Z(e),pe(t)}}}function l0(n){let e,t;return e=new Hd({props:{validationError:n[15],onExpand:n[23]}}),{c(){ye(e.$$.fragment)},m(i,r){me(e,i,r),t=!0},p(i,r){const o={};r[0]&32768&&(o.validationError=i[15]),e.$set(o)},i(i){t||(A(e.$$.fragment,i),t=!0)},o(i){j(e.$$.fragment,i),t=!1},d(i){pe(e,i)}}}function gN(n){let e,t,i;return{c(){e=R("div"),_(e,"class","jse-insert-selection-area jse-after svelte-1dkd71f"),_(e,"data-type","insert-selection-area-after")},m(r,o){$(r,e,o),t||(i=we(e,"click",n[31]),t=!0)},p:xe,d(r){r&&Z(e),t=!1,i()}}}function yN(n){let e,t,i;return{c(){e=R("div"),_(e,"class","jse-insert-selection-area jse-inside svelte-1dkd71f"),_(e,"data-type","insert-selection-area-inside")},m(r,o){$(r,e,o),t||(i=we(e,"click",n[30]),t=!0)},p:xe,d(r){r&&Z(e),t=!1,i()}}}function a0(n){let e,t=!n[8].readOnly&&(n[10]===dr||n[16]&&_n(n[7])),i,r,o,s,l,a,c=t&&c0(n),u=n[20](n[1],n[0],n[2],n[3],n[4],n[5],n[6],n[7],n[11]),f=[];for(let m=0;m<u.length;m+=1)f[m]=u0(X1(n,u,m));const h=m=>j(f[m],1,1,()=>{f[m]=null});let d=!n[17]&&f0(n);return{c(){e=R("div"),c&&c.c(),i=oe();for(let m=0;m<f.length;m+=1)f[m].c();r=oe(),o=R("div"),s=R("div"),s.innerHTML='<div class="jse-bracket svelte-1dkd71f">}</div>',l=oe(),d&&d.c(),_(e,"class","jse-props svelte-1dkd71f"),_(s,"data-type","selectable-value"),_(s,"class","jse-footer svelte-1dkd71f"),_(o,"class","jse-footer-outer svelte-1dkd71f"),_(o,"style",n[18])},m(m,g){$(m,e,g),c&&c.m(e,null),E(e,i);for(let y=0;y<f.length;y+=1)f[y].m(e,null);$(m,r,g),$(m,o,g),E(o,s),E(o,l),d&&d.m(o,null),a=!0},p(m,g){if(g[0]&66944&&(t=!m[8].readOnly&&(m[10]===dr||m[16]&&_n(m[7]))),t?c?(c.p(m,g),g[0]&66944&&A(c,1)):(c=c0(m),c.c(),A(c,1),c.m(e,i)):c&&(Ee(),j(c,1,1,()=>{c=null}),Te()),g[0]&152046079){u=m[20](m[1],m[0],m[2],m[3],m[4],m[5],m[6],m[7],m[11]);let y;for(y=0;y<u.length;y+=1){const p=X1(m,u,y);f[y]?(f[y].p(p,g),A(f[y],1)):(f[y]=u0(p),f[y].c(),A(f[y],1),f[y].m(e,null))}for(Ee(),y=u.length;y<f.length;y+=1)h(y);Te()}m[17]?d&&(d.d(1),d=null):d?d.p(m,g):(d=f0(m),d.c(),d.m(o,null)),(!a||g[0]&262144)&&_(o,"style",m[18])},i(m){if(!a){A(c);for(let g=0;g<u.length;g+=1)A(f[g]);a=!0}},o(m){j(c),f=f.filter(Boolean);for(let g=0;g<f.length;g+=1)j(f[g]);a=!1},d(m){m&&Z(e),c&&c.d(),Vn(f,m),m&&Z(r),m&&Z(o),d&&d.d()}}}function c0(n){let e,t,i,r;return t=new Eo({props:{selected:n[16]&&_n(n[7]),onContextMenu:n[32]}}),{c(){e=R("div"),ye(t.$$.fragment),_(e,"class","jse-insert-area jse-inside svelte-1dkd71f"),_(e,"data-type","insert-selection-area-inside"),_(e,"style",i=hl(n[1].length+1)),_(e,"title",Mh),Ne(e,"jse-hovered",n[10]===dr),Ne(e,"jse-selected",n[16]&&_n(n[7]))},m(o,s){$(o,e,s),me(t,e,null),r=!0},p(o,s){const l={};s[0]&65664&&(l.selected=o[16]&&_n(o[7])),t.$set(l),(!r||s[0]&2&&i!==(i=hl(o[1].length+1)))&&_(e,"style",i),s[0]&1024&&Ne(e,"jse-hovered",o[10]===dr),s[0]&65664&&Ne(e,"jse-selected",o[16]&&_n(o[7]))},i(o){r||(A(t.$$.fragment,o),r=!0)},o(o){j(t.$$.fragment,o),r=!1},d(o){o&&Z(e),pe(t)}}}function vN(n){let e,t,i,r;return t=new J9({props:{path:n[54].path,pointer:n[54].pointer,key:n[54].key,selection:n[54].selection,searchResultItems:n[54].keySearchResultItemsMap,context:n[8],onUpdateKey:n[24]}}),{c(){e=R("div"),ye(t.$$.fragment),i=oe(),_(e,"slot","identifier"),_(e,"class","jse-identifier svelte-1dkd71f")},m(o,s){$(o,e,s),me(t,e,null),E(e,i),r=!0},p(o,s){const l={};s[0]&2303&&(l.path=o[54].path),s[0]&2303&&(l.pointer=o[54].pointer),s[0]&2303&&(l.key=o[54].key),s[0]&2303&&(l.selection=o[54].selection),s[0]&2303&&(l.searchResultItems=o[54].keySearchResultItemsMap),s[0]&256&&(l.context=o[8]),t.$set(l)},i(o){r||(A(t.$$.fragment,o),r=!0)},o(o){j(t.$$.fragment,o),r=!1},d(o){o&&Z(e),pe(t)}}}function u0(n){let e,t;return e=new zd({props:{value:n[54].value,path:n[54].path,expandedMap:n[54].expandedMap,enforceStringMap:n[54].enforceStringMap,visibleSectionsMap:n[54].visibleSectionsMap,validationErrorsMap:n[54].validationErrorsMap,searchResultItemsMap:n[54].valueSearchResultItemsMap,selection:n[54].selection,context:n[8],onDragSelectionStart:n[27],$$slots:{identifier:[vN]},$$scope:{ctx:n}}}),{c(){ye(e.$$.fragment)},m(i,r){me(e,i,r),t=!0},p(i,r){const o={};r[0]&2303&&(o.value=i[54].value),r[0]&2303&&(o.path=i[54].path),r[0]&2303&&(o.expandedMap=i[54].expandedMap),r[0]&2303&&(o.enforceStringMap=i[54].enforceStringMap),r[0]&2303&&(o.visibleSectionsMap=i[54].visibleSectionsMap),r[0]&2303&&(o.validationErrorsMap=i[54].validationErrorsMap),r[0]&2303&&(o.searchResultItemsMap=i[54].valueSearchResultItemsMap),r[0]&2303&&(o.selection=i[54].selection),r[0]&256&&(o.context=i[8]),r[0]&2559|r[1]&32&&(o.$$scope={dirty:r,ctx:i}),e.$set(o)},i(i){t||(A(e.$$.fragment,i),t=!0)},o(i){j(e.$$.fragment,i),t=!1},d(i){pe(e,i)}}}function f0(n){let e,t,i;return{c(){e=R("div"),_(e,"class","jse-insert-selection-area jse-after svelte-1dkd71f"),_(e,"data-type","insert-selection-area-after")},m(r,o){$(r,e,o),t||(i=we(e,"click",n[31]),t=!0)},p:xe,d(r){r&&Z(e),t=!1,i()}}}function bN(n){let e,t;return e=new wt({props:{data:xr}}),{c(){ye(e.$$.fragment)},m(i,r){me(e,i,r),t=!0},p:xe,i(i){t||(A(e.$$.fragment,i),t=!0)},o(i){j(e.$$.fragment,i),t=!1},d(i){pe(e,i)}}}function wN(n){let e,t;return e=new wt({props:{data:Yi}}),{c(){ye(e.$$.fragment)},m(i,r){me(e,i,r),t=!0},p:xe,i(i){t||(A(e.$$.fragment,i),t=!0)},o(i){j(e.$$.fragment,i),t=!1},d(i){pe(e,i)}}}function h0(n){let e;return{c(){e=R("div"),e.textContent=":",_(e,"class","jse-separator svelte-1dkd71f")},m(t,i){$(t,e,i)},d(t){t&&Z(e)}}}function _N(n){let e,t,i,r=n[0].length+"",o,s,l=n[0].length===1?"item":"items",a,c,u,f,h;return{c(){e=R("div"),e.textContent="[",t=oe(),i=R("button"),o=Be(r),s=oe(),a=Be(l),c=oe(),u=R("div"),u.textContent="]",_(e,"class","jse-bracket svelte-1dkd71f"),_(i,"type","button"),_(i,"class","jse-tag svelte-1dkd71f"),_(u,"class","jse-bracket svelte-1dkd71f")},m(d,m){$(d,e,m),$(d,t,m),$(d,i,m),E(i,o),E(i,s),E(i,a),$(d,c,m),$(d,u,m),f||(h=we(i,"click",n[23]),f=!0)},p(d,m){m[0]&1&&r!==(r=d[0].length+"")&&St(o,r),m[0]&1&&l!==(l=d[0].length===1?"item":"items")&&St(a,l)},d(d){d&&Z(e),d&&Z(t),d&&Z(i),d&&Z(c),d&&Z(u),f=!1,h()}}}function kN(n){let e,t,i,r=n[0].length+"",o,s,l=n[0].length===1?"item":"items",a;return{c(){e=R("div"),e.textContent="[",t=oe(),i=R("span"),o=Be(r),s=oe(),a=Be(l),_(e,"class","jse-bracket svelte-1dkd71f"),_(i,"class","jse-tag jse-expanded svelte-1dkd71f")},m(c,u){$(c,e,u),$(c,t,u),$(c,i,u),E(i,o),E(i,s),E(i,a)},p(c,u){u[0]&1&&r!==(r=c[0].length+"")&&St(o,r),u[0]&1&&l!==(l=c[0].length===1?"item":"items")&&St(a,l)},d(c){c&&Z(e),c&&Z(t),c&&Z(i)}}}function d0(n){let e,t,i;return t=new Eo({props:{selected:!0,onContextMenu:n[8].onContextMenu}}),{c(){e=R("div"),ye(t.$$.fragment),_(e,"class","jse-context-menu-button-anchor svelte-1dkd71f")},m(r,o){$(r,e,o),me(t,e,null),i=!0},p(r,o){const s={};o[0]&256&&(s.onContextMenu=r[8].onContextMenu),t.$set(s)},i(r){i||(A(t.$$.fragment,r),i=!0)},o(r){j(t.$$.fragment,r),i=!1},d(r){r&&Z(e),pe(t)}}}function m0(n){let e,t;return e=new Hd({props:{validationError:n[15],onExpand:n[23]}}),{c(){ye(e.$$.fragment)},m(i,r){me(e,i,r),t=!0},p(i,r){const o={};r[0]&32768&&(o.validationError=i[15]),e.$set(o)},i(i){t||(A(e.$$.fragment,i),t=!0)},o(i){j(e.$$.fragment,i),t=!1},d(i){pe(e,i)}}}function SN(n){let e,t,i;return{c(){e=R("div"),_(e,"class","jse-insert-selection-area jse-after svelte-1dkd71f"),_(e,"data-type","insert-selection-area-after")},m(r,o){$(r,e,o),t||(i=we(e,"click",n[31]),t=!0)},p:xe,d(r){r&&Z(e),t=!1,i()}}}function CN(n){let e,t,i;return{c(){e=R("div"),_(e,"class","jse-insert-selection-area jse-inside svelte-1dkd71f"),_(e,"data-type","insert-selection-area-inside")},m(r,o){$(r,e,o),t||(i=we(e,"click",n[30]),t=!0)},p:xe,d(r){r&&Z(e),t=!1,i()}}}function p0(n){let e,t=!n[8].readOnly&&(n[10]===dr||n[16]&&_n(n[7])),i,r=[],o=new Map,s,l,a,c,u,f=t&&g0(n),h=n[14]||co;const d=g=>g[50];for(let g=0;g<h.length;g+=1){let y=Z1(n,h,g),p=d(y);o.set(p,r[g]=b0(p,y))}let m=!n[17]&&w0(n);return{c(){e=R("div"),f&&f.c(),i=oe();for(let g=0;g<r.length;g+=1)r[g].c();s=oe(),l=R("div"),a=R("div"),a.innerHTML='<span class="jse-bracket svelte-1dkd71f">]</span>',c=oe(),m&&m.c(),_(e,"class","jse-items svelte-1dkd71f"),_(a,"data-type","selectable-value"),_(a,"class","jse-footer svelte-1dkd71f"),_(l,"class","jse-footer-outer svelte-1dkd71f"),_(l,"style",n[18])},m(g,y){$(g,e,y),f&&f.m(e,null),E(e,i);for(let p=0;p<r.length;p+=1)r[p].m(e,null);$(g,s,y),$(g,l,y),E(l,a),E(l,c),m&&m.m(l,null),u=!0},p(g,y){y[0]&66944&&(t=!g[8].readOnly&&(g[10]===dr||g[16]&&_n(g[7]))),t?f?(f.p(g,y),y[0]&66944&&A(f,1)):(f=g0(g),f.c(),A(f,1),f.m(e,i)):f&&(Ee(),j(f,1,1,()=>{f=null}),Te()),y[0]&136334335&&(h=g[14]||co,Ee(),r=pl(r,y,d,1,g,h,o,e,xc,b0,null,Z1),Te()),g[17]?m&&(m.d(1),m=null):m?m.p(g,y):(m=w0(g),m.c(),m.m(l,null)),(!u||y[0]&262144)&&_(l,"style",g[18])},i(g){if(!u){A(f);for(let y=0;y<h.length;y+=1)A(r[y]);u=!0}},o(g){j(f);for(let y=0;y<r.length;y+=1)j(r[y]);u=!1},d(g){g&&Z(e),f&&f.d();for(let y=0;y<r.length;y+=1)r[y].d();g&&Z(s),g&&Z(l),m&&m.d()}}}function g0(n){let e,t,i,r;return t=new Eo({props:{selected:n[16]&&_n(n[7]),onContextMenu:n[32]}}),{c(){e=R("div"),ye(t.$$.fragment),_(e,"class","jse-insert-area jse-inside svelte-1dkd71f"),_(e,"data-type","insert-selection-area-inside"),_(e,"style",i=hl(n[1].length+1)),_(e,"title",Mh),Ne(e,"jse-hovered",n[10]===dr),Ne(e,"jse-selected",n[16]&&_n(n[7]))},m(o,s){$(o,e,s),me(t,e,null),r=!0},p(o,s){const l={};s[0]&65664&&(l.selected=o[16]&&_n(o[7])),t.$set(l),(!r||s[0]&2&&i!==(i=hl(o[1].length+1)))&&_(e,"style",i),s[0]&1024&&Ne(e,"jse-hovered",o[10]===dr),s[0]&65664&&Ne(e,"jse-selected",o[16]&&_n(o[7]))},i(o){r||(A(t.$$.fragment,o),r=!0)},o(o){j(t.$$.fragment,o),r=!1},d(o){o&&Z(e),pe(t)}}}function xN(n){let e,t,i=n[51].index+"",r;return{c(){e=R("div"),t=R("div"),r=Be(i),_(t,"class","jse-index svelte-1dkd71f"),_(e,"slot","identifier"),_(e,"class","jse-identifier svelte-1dkd71f")},m(o,s){$(o,e,s),E(e,t),E(t,r)},p(o,s){s[0]&18687&&i!==(i=o[51].index+"")&&St(r,i)},d(o){o&&Z(e)}}}function y0(n,e){let t,i,r;return i=new zd({props:{value:e[51].value,path:e[51].path,expandedMap:e[51].expandedMap,enforceStringMap:e[51].enforceStringMap,visibleSectionsMap:e[51].visibleSectionsMap,validationErrorsMap:e[51].validationErrorsMap,searchResultItemsMap:e[51].searchResultItemsMap,selection:e[51].selection,context:e[8],onDragSelectionStart:e[27],$$slots:{identifier:[xN]},$$scope:{ctx:e}}}),{key:n,first:null,c(){t=Nt(),ye(i.$$.fragment),this.first=t},m(o,s){$(o,t,s),me(i,o,s),r=!0},p(o,s){e=o;const l={};s[0]&18687&&(l.value=e[51].value),s[0]&18687&&(l.path=e[51].path),s[0]&18687&&(l.expandedMap=e[51].expandedMap),s[0]&18687&&(l.enforceStringMap=e[51].enforceStringMap),s[0]&18687&&(l.visibleSectionsMap=e[51].visibleSectionsMap),s[0]&18687&&(l.validationErrorsMap=e[51].validationErrorsMap),s[0]&18687&&(l.searchResultItemsMap=e[51].searchResultItemsMap),s[0]&18687&&(l.selection=e[51].selection),s[0]&256&&(l.context=e[8]),s[0]&18687|s[1]&32&&(l.$$scope={dirty:s,ctx:e}),i.$set(l)},i(o){r||(A(i.$$.fragment,o),r=!0)},o(o){j(i.$$.fragment,o),r=!1},d(o){o&&Z(t),pe(i,o)}}}function v0(n){let e,t;return e=new I9({props:{visibleSections:n[14]||co,sectionIndex:n[50],total:n[0].length,path:n[1],pointer:n[9],onExpandSection:n[8].onExpandSection,selection:n[7]}}),{c(){ye(e.$$.fragment)},m(i,r){me(e,i,r),t=!0},p(i,r){const o={};r[0]&16384&&(o.visibleSections=i[14]||co),r[0]&16384&&(o.sectionIndex=i[50]),r[0]&1&&(o.total=i[0].length),r[0]&2&&(o.path=i[1]),r[0]&512&&(o.pointer=i[9]),r[0]&256&&(o.onExpandSection=i[8].onExpandSection),r[0]&128&&(o.selection=i[7]),e.$set(o)},i(i){t||(A(e.$$.fragment,i),t=!0)},o(i){j(e.$$.fragment,i),t=!1},d(i){pe(e,i)}}}function b0(n,e){let t,i=[],r=new Map,o,s,l,a=e[21](e[1],e[0],e[48],e[2],e[3],e[4],e[5],e[6],e[7],e[11]);const c=f=>f[51].index;for(let f=0;f<a.length;f+=1){let h=$1(e,a,f),d=c(h);r.set(d,i[f]=y0(d,h))}let u=e[48].end<e[0].length&&v0(e);return{key:n,first:null,c(){t=Nt();for(let f=0;f<i.length;f+=1)i[f].c();o=oe(),u&&u.c(),s=Nt(),this.first=t},m(f,h){$(f,t,h);for(let d=0;d<i.length;d+=1)i[d].m(f,h);$(f,o,h),u&&u.m(f,h),$(f,s,h),l=!0},p(f,h){e=f,h[0]&136333823&&(a=e[21](e[1],e[0],e[48],e[2],e[3],e[4],e[5],e[6],e[7],e[11]),Ee(),i=pl(i,h,c,1,e,a,r,o.parentNode,xc,y0,o,$1),Te()),e[48].end<e[0].length?u?(u.p(e,h),h[0]&16385&&A(u,1)):(u=v0(e),u.c(),A(u,1),u.m(s.parentNode,s)):u&&(Ee(),j(u,1,1,()=>{u=null}),Te())},i(f){if(!l){for(let h=0;h<a.length;h+=1)A(i[h]);A(u),l=!0}},o(f){for(let h=0;h<i.length;h+=1)j(i[h]);j(u),l=!1},d(f){f&&Z(t);for(let h=0;h<i.length;h+=1)i[h].d(f);f&&Z(o),u&&u.d(f),f&&Z(s)}}}function w0(n){let e,t,i;return{c(){e=R("div"),_(e,"class","jse-insert-selection-area jse-after svelte-1dkd71f"),_(e,"data-type","insert-selection-area-after")},m(r,o){$(r,e,o),t||(i=we(e,"click",n[31]),t=!0)},p:xe,d(r){r&&Z(e),t=!1,i()}}}function _0(n){let e,t,i;return t=new Eo({props:{selected:n[16]&&Ni(n[7]),onContextMenu:n[33]}}),{c(){e=R("div"),ye(t.$$.fragment),_(e,"class","jse-insert-area jse-after svelte-1dkd71f"),_(e,"data-type","insert-selection-area-after"),_(e,"style",n[18]),_(e,"title",Mh),Ne(e,"jse-hovered",n[10]===Ks),Ne(e,"jse-selected",n[16]&&Ni(n[7]))},m(r,o){$(r,e,o),me(t,e,null),i=!0},p(r,o){const s={};o[0]&65664&&(s.selected=r[16]&&Ni(r[7])),t.$set(s),(!i||o[0]&262144)&&_(e,"style",r[18]),o[0]&1024&&Ne(e,"jse-hovered",r[10]===Ks),o[0]&65664&&Ne(e,"jse-selected",r[16]&&Ni(r[7]))},i(r){i||(A(t.$$.fragment,r),i=!0)},o(r){j(t.$$.fragment,r),i=!1},d(r){r&&Z(e),pe(t)}}}function ON(n){let e,t,i,r,o=!n[8].readOnly&&(n[10]===Ks||n[16]&&Ni(n[7])),s,l,a,c,u;const f=[fN,uN,cN],h=[];function d(g,y){return g[19]==="array"?0:g[19]==="object"?1:2}t=d(n),i=h[t]=f[t](n);let m=o&&_0(n);return{c(){e=R("div"),i.c(),r=oe(),m&&m.c(),_(e,"class",s=Pn(ss("jse-json-node",{"jse-expanded":n[12]},n[8].onClassName(n[1],n[0])))+" svelte-1dkd71f"),_(e,"data-path",l=Af(n[1])),Ne(e,"jse-root",n[17]),Ne(e,"jse-selected",n[16]&&Ft(n[7])),Ne(e,"jse-selected-key",n[16]&&mn(n[7])),Ne(e,"jse-selected-value",n[16]&&Bt(n[7])),Ne(e,"jse-hovered",n[10]===ff)},m(g,y){$(g,e,y),h[t].m(e,null),E(e,r),m&&m.m(e,null),a=!0,c||(u=[we(e,"mousedown",n[25]),we(e,"mousemove",n[26]),we(e,"mouseover",n[28]),we(e,"mouseout",n[29]),we(e,"focus",void 0),we(e,"blur",void 0)],c=!0)},p(g,y){let p=t;t=d(g),t===p?h[t].p(g,y):(Ee(),j(h[p],1,1,()=>{h[p]=null}),Te(),i=h[t],i?i.p(g,y):(i=h[t]=f[t](g),i.c()),A(i,1),i.m(e,r)),y[0]&66944&&(o=!g[8].readOnly&&(g[10]===Ks||g[16]&&Ni(g[7]))),o?m?(m.p(g,y),y[0]&66944&&A(m,1)):(m=_0(g),m.c(),A(m,1),m.m(e,null)):m&&(Ee(),j(m,1,1,()=>{m=null}),Te()),(!a||y[0]&4355&&s!==(s=Pn(ss("jse-json-node",{"jse-expanded":g[12]},g[8].onClassName(g[1],g[0])))+" svelte-1dkd71f"))&&_(e,"class",s),(!a||y[0]&2&&l!==(l=Af(g[1])))&&_(e,"data-path",l),y[0]&135427&&Ne(e,"jse-root",g[17]),y[0]&70019&&Ne(e,"jse-selected",g[16]&&Ft(g[7])),y[0]&70019&&Ne(e,"jse-selected-key",g[16]&&mn(g[7])),y[0]&70019&&Ne(e,"jse-selected-value",g[16]&&Bt(g[7])),y[0]&5379&&Ne(e,"jse-hovered",g[10]===ff)},i(g){a||(A(i),A(m),a=!0)},o(g){j(i),j(m),a=!1},d(g){g&&Z(e),h[t].d(),m&&m.d(),c=!1,on(u)}}}function hl(n){return`margin-left: calc(${n} * var(--jse-indent-size))`}function EN(n,e,t){let i,r,o,{$$slots:s={},$$scope:l}=e,{value:a}=e,{path:c}=e,{expandedMap:u}=e,{enforceStringMap:f}=e,{visibleSectionsMap:h}=e,{validationErrorsMap:d}=e,{searchResultItemsMap:m}=e,{selection:g}=e,{context:y}=e,{onDragSelectionStart:p}=e;const v=$n("jsoneditor:JSONNode");let k,b,S;const O=rO();let I,L,P,D,H,F;function q(ae,Re,Le,rt,Oe,ke,ot,lt,at){let mt=Object.keys(Re).map(It=>{const de=mf(I,It);return{key:It,value:Re[It],path:O(ae.concat(It)),pointer:de,expandedMap:Ji(Le,de),enforceStringMap:Ji(rt,de),visibleSectionsMap:Ji(Oe,de),validationErrorsMap:Ji(ke,de),keySearchResultItemsMap:n9(ot,de),valueSearchResultItemsMap:Ji(ot,de),selection:E1(lt,de)}});return at&&at.offset!==0&&(mt=Gm(mt,at.selectionStartIndex,at.selectionItemsCount,at.offset)),mt}function U(ae,Re,Le,rt,Oe,ke,ot,lt,at,mt){const It=Le.start,de=Math.min(Le.end,Re.length);let T=[];for(let W=It;W<de;W++){const X=mf(I,W);T.push({index:W,value:Re[W],path:O(ae.concat(String(W))),pointer:X,expandedMap:Ji(rt,X),enforceStringMap:Ji(Oe,X),visibleSectionsMap:Ji(ke,X),validationErrorsMap:Ji(ot,X),searchResultItemsMap:Ji(lt,X),selection:E1(at,X)})}if(mt&&mt.offset!==0){const W=T.map(X=>X.index);T=Gm(T,mt.selectionStartIndex,mt.selectionItemsCount,mt.offset);for(let X=0;X<T.length;X++)T[X].index=W[X]}return T}function B(ae){ae.stopPropagation();const Re=ae.ctrlKey;y.onExpand(c,!L,Re)}function Q(ae){ae.stopPropagation(),y.onExpand(c,!0)}function re(ae,Re){const Le=Ml(c,Object.keys(a),ae,Re);return y.onPatch(Le),gt(jr(Le[0].path))}function le(ae){if($6(ae.target)||ae.which===1&&Bv(ae.target,"BUTTON"))return;ae.stopPropagation(),ae.preventDefault(),document.addEventListener("mousemove",N,!0),document.addEventListener("mouseup",ie);const Re=_u(ae.target),Le=y.getJson(),rt=y.getDocumentState();if(jI(g,c,Re)){ae.button===0&&p(ae);return}if(An.selecting=!0,An.selectionAnchor=c,An.selectionAnchorType=Re,An.selectionFocus=c,ae.shiftKey)g&&y.onSelect(pn(Le,g.anchorPath,c));else if(Re===Kt.multi)if(i&&ae.target.hasAttribute("data-path")){const Oe=gt(Qw(a,rt));y.onSelect(Vd(Oe))}else y.onSelect(pn(Le,c,c));else y.onSelect(O1(Le,Re,c));y.focus()}function x(ae){if(An.selecting){ae.preventDefault(),ae.stopPropagation(),An.selectionFocus==null&&window.getSelection&&window.getSelection().empty();const Re=_u(ae.target);if(!Ht(c,An.selectionFocus)||Re!==An.selectionAnchorType){An.selectionFocus=c,An.selectionAnchorType=Re;const Le=y.getJson();y.onSelect(pn(Le,An.selectionAnchor,An.selectionFocus))}}}function N(ae){y.onDrag(ae)}function ie(ae){An.selecting&&(An.selecting=!1,ae.stopPropagation()),y.onDragEnd(),document.removeEventListener("mousemove",N,!0),document.removeEventListener("mouseup",ie)}function ne(){var ae,Re;return((Re=(ae=y.findElement([]))===null||ae===void 0?void 0:ae.getBoundingClientRect())===null||Re===void 0?void 0:Re.top)||0}function z(ae,Re){const rt=ne()-ae.initialContentTop;return Re.clientY-ae.initialClientY-rt}function w(ae){if(y.readOnly)return;const Re=Rt(g.focusPath);if(!Ht(c,Re)){p(ae);return}const Le=se(g,D||co);if(v("dragSelectionStart",{selection:g,items:Le}),!Le){v("Cannot drag the current selection (probably spread over multiple sections)");return}const rt=rs(g),Oe=Le.findIndex(at=>Ht(at.path,rt)),ke=y.getJson(),ot=y.getDocumentState(),{offset:lt}=of({json:ke,documentState:ot,deltaY:0,items:Le});t(11,S={initialTarget:ae.target,initialClientY:ae.clientY,initialContentTop:ne(),selectionStartIndex:Oe,selectionItemsCount:$w(g).length,items:Le,offset:lt,didMoveItems:!1}),An.dragging=!0,document.addEventListener("mousemove",C,!0),document.addEventListener("mouseup",J)}function C(ae){if(S){const Re=y.getJson(),Le=y.getDocumentState(),rt=z(S,ae),{offset:Oe}=of({json:Re,documentState:Le,deltaY:rt,items:S.items});Oe!==S.offset&&(v("drag selection",Oe,rt),t(11,S={...S,offset:Oe,didMoveItems:!0}))}}function J(ae){if(S){const Re=y.getJson(),Le=y.getDocumentState(),rt=z(S,ae),{operations:Oe,updatedSelection:ke}=of({json:Re,documentState:Le,deltaY:rt,items:S.items});if(Oe)y.onPatch(Oe,(ot,lt)=>({state:{...lt,selection:ke||g}}));else if(ae.target===S.initialTarget&&!S.didMoveItems){const ot=_u(ae.target),lt=i8(ae.target);lt&&y.onSelect(O1(Re,ot,lt))}t(11,S=void 0),An.dragging=!1,document.removeEventListener("mousemove",C,!0),document.removeEventListener("mouseup",J)}}function se(ae,Re){const Le=[];function rt(Oe){const ke=c.concat(Oe),ot=y.findElement(ke);ot!=null&&Le.push({path:ke,height:ot.clientHeight})}if(Array.isArray(a)){const Oe=rs(ae),ke=lu(ae),ot=gt(Oe),lt=gt(ke),at=Re.find(de=>ot>=de.start&&lt<=de.end);if(!at)return null;const{start:mt,end:It}=at;Av(mt,Math.min(a.length,It),de=>rt(String(de)))}else Object.keys(a).forEach(rt);return Le}function ee(ae){An.selecting||An.dragging||(ae.stopPropagation(),$r(ae.target,"data-type","selectable-value")?t(10,k=ff):$r(ae.target,"data-type","insert-selection-area-inside")?t(10,k=dr):$r(ae.target,"data-type","insert-selection-area-after")&&t(10,k=Ks),clearTimeout(b))}function ge(ae){ae.stopPropagation(),b=setTimeout(()=>t(10,k=void 0))}function ve(ae){ae.shiftKey||(ae.stopPropagation(),ae.preventDefault(),y.onSelect(er(c)))}function Pe(ae){ae.shiftKey||(ae.stopPropagation(),ae.preventDefault(),y.onSelect(mr(c)))}function ze(ae){y.onSelect(er(c)),y.onContextMenu(ae)}function Me(ae){y.onSelect(mr(c)),y.onContextMenu(ae)}return n.$$set=ae=>{"value"in ae&&t(0,a=ae.value),"path"in ae&&t(1,c=ae.path),"expandedMap"in ae&&t(2,u=ae.expandedMap),"enforceStringMap"in ae&&t(3,f=ae.enforceStringMap),"visibleSectionsMap"in ae&&t(4,h=ae.visibleSectionsMap),"validationErrorsMap"in ae&&t(5,d=ae.validationErrorsMap),"searchResultItemsMap"in ae&&t(6,m=ae.searchResultItemsMap),"selection"in ae&&t(7,g=ae.selection),"context"in ae&&t(8,y=ae.context),"onDragSelectionStart"in ae&&t(34,p=ae.onDragSelectionStart),"$$scope"in ae&&t(36,l=ae.$$scope)},n.$$.update=()=>{n.$$.dirty[0]&2&&t(9,I=Fe(c)),n.$$.dirty[0]&516&&t(12,L=u?u[I]===!0:!1),n.$$.dirty[0]&521&&t(13,P=Ol(a,f,I)),n.$$.dirty[0]&528&&t(14,D=h?h[I]:void 0),n.$$.dirty[0]&544&&t(15,H=d?d[I]:void 0),n.$$.dirty[0]&640&&t(16,F=g?g.pointersMap[I]===!0:!1),n.$$.dirty[0]&2&&t(17,i=c.length===0),n.$$.dirty[0]&1&&t(19,r=jh(a)),n.$$.dirty[0]&2&&t(18,o=hl(c.length))},[a,c,u,f,h,d,m,g,y,I,k,S,L,P,D,H,F,i,o,r,q,U,B,Q,re,le,x,w,ee,ge,ve,Pe,ze,Me,p,s,l]}class zd extends Xe{constructor(e){super(),Qe(this,e,EN,ON,Et,{value:0,path:1,expandedMap:2,enforceStringMap:3,visibleSectionsMap:4,validationErrorsMap:5,searchResultItemsMap:6,selection:7,context:8,onDragSelectionStart:34},null,[-1,-1])}}function TN(n){let e,t;return e=new rd({props:{items:n[0]}}),{c(){ye(e.$$.fragment)},m(i,r){me(e,i,r),t=!0},p(i,[r]){const o={};r&1&&(o.items=i[0]),e.$set(o)},i(i){t||(A(e.$$.fragment,i),t=!0)},o(i){j(e.$$.fragment,i),t=!1},d(i){pe(e,i)}}}function MN(n,e,t){let i,r,o,s,l,a,c,{json:u}=e,{selection:f}=e,{readOnly:h}=e,{showSearch:d=!1}=e,{historyState:m}=e,{onExpandAll:g}=e,{onCollapseAll:y}=e,{onUndo:p}=e,{onRedo:v}=e,{onSort:k}=e,{onTransform:b}=e,{onContextMenu:S}=e,{onCopy:O}=e,{onRenderMenu:I=Vt}=e;function L(){t(1,d=!d)}return n.$$set=P=>{"json"in P&&t(2,u=P.json),"selection"in P&&t(3,f=P.selection),"readOnly"in P&&t(4,h=P.readOnly),"showSearch"in P&&t(1,d=P.showSearch),"historyState"in P&&t(5,m=P.historyState),"onExpandAll"in P&&t(6,g=P.onExpandAll),"onCollapseAll"in P&&t(7,y=P.onCollapseAll),"onUndo"in P&&t(8,p=P.onUndo),"onRedo"in P&&t(9,v=P.onRedo),"onSort"in P&&t(10,k=P.onSort),"onTransform"in P&&t(11,b=P.onTransform),"onContextMenu"in P&&t(12,S=P.onContextMenu),"onCopy"in P&&t(13,O=P.onCopy),"onRenderMenu"in P&&t(14,I=P.onRenderMenu)},n.$$.update=()=>{n.$$.dirty&4&&t(20,i=u!==void 0),n.$$.dirty&8,n.$$.dirty&1048584&&t(17,r=i&&(Ft(f)||mn(f)||Bt(f))),n.$$.dirty&68&&t(19,o={icon:cO,title:"Expand all",className:"jse-expand-all",onClick:g,disabled:!xn(u)}),n.$$.dirty&132&&t(18,s={icon:uO,title:"Collapse all",className:"jse-collapse-all",onClick:y,disabled:!xn(u)}),n.$$.dirty&4&&t(16,l={icon:id,title:"Search (Ctrl+F)",className:"jse-search",onClick:L,disabled:u===void 0}),n.$$.dirty&999220&&t(15,a=h?[o,s,{separator:!0},{icon:Ba,title:"Copy (Ctrl+C)",className:"jse-copy",onClick:O,disabled:!r},{separator:!0},l,{space:!0}]:[o,s,{separator:!0},{icon:nd,title:"Sort",className:"jse-sort",onClick:k,disabled:h||u===void 0},{icon:$h,title:"Transform contents (filter, sort, project)",className:"jse-transform",onClick:b,disabled:h||u===void 0},l,{icon:M8,title:Fy,className:"jse-contextmenu",onClick:S},{separator:!0},{icon:Wv,title:"Undo (Ctrl+Z)",className:"jse-undo",onClick:p,disabled:!m.canUndo},{icon:qv,title:"Redo (Ctrl+Shift+Z)",className:"jse-redo",onClick:v,disabled:!m.canRedo},{space:!0}]),n.$$.dirty&49152&&t(0,c=I("tree",a)||a)},[c,d,u,f,h,m,g,y,p,v,k,b,S,O,I,a,l,r,s,o,i]}class AN extends Xe{constructor(e){super(),Qe(this,e,MN,TN,Et,{json:2,selection:3,readOnly:4,showSearch:1,historyState:5,onExpandAll:6,onCollapseAll:7,onUndo:8,onRedo:9,onSort:10,onTransform:11,onContextMenu:12,onCopy:13,onRenderMenu:14})}}function k0(n){let e;return{c(){e=R("ul"),e.innerHTML=`<li class="svelte-17jij2m">Click inside the editor</li> 
        <li class="svelte-17jij2m">Paste clipboard data using <span class="jse-bold svelte-17jij2m">Ctrl+V</span></li> 
        <li class="svelte-17jij2m">Create a new object by typing <span class="jse-bold svelte-17jij2m">{</span></li> 
        <li class="svelte-17jij2m">Create a new array by typing <span class="jse-bold svelte-17jij2m">[</span></li>`,_(e,"class","svelte-17jij2m")},m(t,i){$(t,e,i)},d(t){t&&Z(e)}}}function PN(n){let e,t,i,r,o,s,l,a=!n[0]&&k0();return{c(){e=R("div"),t=R("div"),i=oe(),r=R("div"),o=Be(`Empty document
    `),a&&a.c(),s=oe(),l=R("div"),_(t,"class","jse-space jse-before svelte-17jij2m"),_(r,"class","jse-contents svelte-17jij2m"),_(l,"class","jse-space jse-after svelte-17jij2m"),_(e,"class","jse-welcome svelte-17jij2m")},m(c,u){$(c,e,u),E(e,t),E(e,i),E(e,r),E(r,o),a&&a.m(r,null),E(e,s),E(e,l)},p(c,[u]){c[0]?a&&(a.d(1),a=null):a||(a=k0(),a.c(),a.m(r,null))},i:xe,o:xe,d(c){c&&Z(e),a&&a.d()}}}function IN(n,e,t){let{readOnly:i}=e;return n.$$set=r=>{"readOnly"in r&&t(0,i=r.readOnly)},[i]}class NN extends Xe{constructor(e){super(),Qe(this,e,IN,PN,Et,{readOnly:0})}}function S0(n,e,t){const i=n.slice();return i[4]=e[t],i}function C0(n,e){let t,i=vc(e[4],O0)+"",r,o,s,l;function a(){return e[3](e[4])}return{key:n,first:null,c(){t=R("button"),r=Be(i),_(t,"type","button"),_(t,"class","jse-navigation-bar-dropdown-item svelte-1rtf8mz"),_(t,"title",o=e[4]),Ne(t,"jse-selected",e[4]===e[1]),this.first=t},m(c,u){$(c,t,u),E(t,r),s||(l=we(t,"click",Py(a)),s=!0)},p(c,u){e=c,u&1&&i!==(i=vc(e[4],O0)+"")&&St(r,i),u&1&&o!==(o=e[4])&&_(t,"title",o),u&3&&Ne(t,"jse-selected",e[4]===e[1])},d(c){c&&Z(t),s=!1,l()}}}function x0(n){let e,t;return{c(){e=R("button"),t=Be("..."),_(e,"type","button"),_(e,"class","jse-navigation-bar-dropdown-item svelte-1rtf8mz"),_(e,"title","Limited to "+Ns+" items")},m(i,r){$(i,e,r),E(e,t)},p:xe,d(i){i&&Z(e)}}}function DN(n){let e,t=[],i=new Map,r,o=Um(n[0],Ns);const s=a=>a[4];for(let a=0;a<o.length;a+=1){let c=S0(n,o,a),u=s(c);i.set(u,t[a]=C0(u,c))}let l=n[0].length>Ns&&x0();return{c(){e=R("div");for(let a=0;a<t.length;a+=1)t[a].c();r=oe(),l&&l.c(),_(e,"class","jse-navigation-bar-dropdown svelte-1rtf8mz")},m(a,c){$(a,e,c);for(let u=0;u<t.length;u+=1)t[u].m(e,null);E(e,r),l&&l.m(e,null)},p(a,[c]){c&7&&(o=Um(a[0],Ns),t=pl(t,c,s,1,a,o,i,e,J_,C0,r,S0)),a[0].length>Ns?l?l.p(a,c):(l=x0(),l.c(),l.m(e,null)):l&&(l.d(1),l=null)},i:xe,o:xe,d(a){a&&Z(e);for(let c=0;c<t.length;c+=1)t[c].d();l&&l.d()}}}const Ns=100,O0=30;function RN(n,e,t){let{items:i}=e,{selectedItem:r}=e,{onSelect:o}=e;const s=l=>o(l);return n.$$set=l=>{"items"in l&&t(0,i=l.items),"selectedItem"in l&&t(1,r=l.selectedItem),"onSelect"in l&&t(2,o=l.onSelect)},[i,r,o,s]}class jN extends Xe{constructor(e){super(),Qe(this,e,RN,DN,Et,{items:0,selectedItem:1,onSelect:2})}}function E0(n){let e,t,i,r;return{c(){e=R("button"),t=Be(n[2]),_(e,"type","button"),_(e,"class","jse-navigation-bar-button svelte-4ttwnh")},m(o,s){$(o,e,s),E(e,t),i||(r=we(e,"click",n[9]),i=!0)},p(o,s){s&4&&St(t,o[2])},d(o){o&&Z(e),i=!1,r()}}}function LN(n){let e,t,i,r,o,s,l;i=new wt({props:{data:zv}});let a=n[2]!==void 0&&E0(n);return{c(){e=R("div"),t=R("button"),ye(i.$$.fragment),r=oe(),a&&a.c(),_(t,"type","button"),_(t,"class","jse-navigation-bar-button jse-navigation-bar-arrow svelte-4ttwnh"),Ne(t,"jse-open",n[1]),_(e,"class","jse-navigation-bar-item svelte-4ttwnh")},m(c,u){$(c,e,u),E(e,t),me(i,t,null),E(e,r),a&&a.m(e,null),n[10](e),o=!0,s||(l=we(t,"click",n[4]),s=!0)},p(c,[u]){u&2&&Ne(t,"jse-open",c[1]),c[2]!==void 0?a?a.p(c,u):(a=E0(c),a.c(),a.m(e,null)):a&&(a.d(1),a=null)},i(c){o||(A(i.$$.fragment,c),o=!0)},o(c){j(i.$$.fragment,c),o=!1},d(c){c&&Z(e),pe(i),a&&a.d(),n[10](null),s=!1,l()}}}function BN(n,e,t){let i,r;const{openAbsolutePopup:o,closeAbsolutePopup:s}=si("absolute-popup");let{path:l}=e,{index:a}=e,{onSelect:c}=e,{getItems:u}=e,f,h=!1,d;function m(v){s(d),c(i.concat(v))}function g(){if(f){t(1,h=!0);const v={items:u(i),selectedItem:r,onSelect:m};d=o(jN,v,{anchor:f,closeOnOuterClick:!0,onClose:()=>{t(1,h=!1)}})}}const y=()=>m(r);function p(v){pt[v?"unshift":"push"](()=>{f=v,t(0,f)})}return n.$$set=v=>{"path"in v&&t(5,l=v.path),"index"in v&&t(6,a=v.index),"onSelect"in v&&t(7,c=v.onSelect),"getItems"in v&&t(8,u=v.getItems)},n.$$.update=()=>{n.$$.dirty&96&&(i=l.slice(0,a)),n.$$.dirty&96&&t(2,r=l[a])},[f,h,r,m,g,l,a,c,u,y,p]}class s_ extends Xe{constructor(e){super(),Qe(this,e,BN,LN,Et,{path:5,index:6,onSelect:7,getItems:8})}}var l_={exports:{}};/*
 * @version    1.4.0
 * @date       2015-10-26
 * @stability  3 - Stable
 * @author     Lauri Rooden (https://github.com/litejs/natural-compare-lite)
 * @license    MIT License
 */var T0=function(n,e){var t,i,r=1,o=0,s=0,l=String.alphabet;function a(c,u,f){if(f){for(t=u;f=a(c,t),f<76&&f>65;)++t;return+c.slice(u-1,t)}return f=l&&l.indexOf(c.charAt(u)),f>-1?f+76:(f=c.charCodeAt(u)||0,f<45||f>127?f:f<46?65:f<48?f-1:f<58?f+18:f<65?f-11:f<91?f+11:f<97?f-37:f<123?f+5:f-63)}if((n+="")!=(e+="")){for(;r;)if(i=a(n,o++),r=a(e,s++),i<76&&r<76&&i>66&&r>66&&(i=a(n,o,o),r=a(e,s,o=t),s=t),i!=r)return i<r?-1:1}return 0};try{l_.exports=T0}catch{String.naturalCompare=T0}function qd(n,e){const t=typeof n=="string"?n.toLowerCase():n,i=typeof e=="string"?e.toLowerCase():e;return l_.exports(t,i)}function FN(n,e=[],t=1){const i=Ke(n,e),o=Object.keys(i).slice();o.sort((l,a)=>t*qd(l,a));const s=[];for(let l=0;l<o.length;l++){const a=o[l],c=Fe(e.concat(a));s.push({op:"move",from:c,path:c})}return s}function VN(n,e=[],t=[],i=1){const r=HN(t,i),o=Ke(n,e);return[{op:"replace",path:Fe(e),value:o.slice(0).sort(r)}]}function HN(n,e){return function(i,r){const o=Ke(i,n),s=Ke(r,n);return o===void 0?e:s===void 0?-e:typeof o!="string"&&typeof s!="string"?o>s?e:o<s?-e:0:e*qd(o,s)}}function M0(n,e,t){const i=n.slice();return i[11]=e[t],i[13]=t,i}function A0(n,e){let t,i,r;return i=new s_({props:{getItems:e[4],path:e[1],index:e[13],onSelect:e[5]}}),{key:n,first:null,c(){t=Nt(),ye(i.$$.fragment),this.first=t},m(o,s){$(o,t,s),me(i,o,s),r=!0},p(o,s){e=o;const l={};s&2&&(l.path=e[1]),s&2&&(l.index=e[13]),i.$set(l)},i(o){r||(A(i.$$.fragment,o),r=!0)},o(o){j(i.$$.fragment,o),r=!1},d(o){o&&Z(t),pe(i,o)}}}function P0(n){let e,t;return e=new s_({props:{getItems:n[4],path:n[1],index:void 0,onSelect:n[5]}}),{c(){ye(e.$$.fragment)},m(i,r){me(e,i,r),t=!0},p(i,r){const o={};r&2&&(o.path=i[1]),e.$set(o)},i(i){t||(A(e.$$.fragment,i),t=!0)},o(i){j(e.$$.fragment,i),t=!1},d(i){pe(e,i)}}}function zN(n){let e,t=[],i=new Map,r,o,s,l=xn(n[0])?"\xA0":"Navigation bar",a,c,u=n[1];const f=d=>d[13];for(let d=0;d<u.length;d+=1){let m=M0(n,u,d),g=f(m);i.set(g,t[d]=A0(g,m))}let h=n[3]&&P0(n);return{c(){e=R("div");for(let d=0;d<t.length;d+=1)t[d].c();r=oe(),h&&h.c(),o=oe(),s=R("div"),a=Be(l),_(s,"class","jse-navigation-bar-space svelte-1blb1xo"),_(e,"class","jse-navigation-bar svelte-1blb1xo")},m(d,m){$(d,e,m);for(let g=0;g<t.length;g+=1)t[g].m(e,null);E(e,r),h&&h.m(e,null),E(e,o),E(e,s),E(s,a),n[8](e),c=!0},p(d,[m]){m&50&&(u=d[1],Ee(),t=pl(t,m,f,1,d,u,i,e,xc,A0,r,M0),Te()),d[3]?h?(h.p(d,m),m&8&&A(h,1)):(h=P0(d),h.c(),A(h,1),h.m(e,o)):h&&(Ee(),j(h,1,1,()=>{h=null}),Te()),(!c||m&1)&&l!==(l=xn(d[0])?"\xA0":"Navigation bar")&&St(a,l)},i(d){if(!c){for(let m=0;m<u.length;m+=1)A(t[m]);A(h),c=!0}},o(d){for(let m=0;m<t.length;m+=1)j(t[m]);j(h),c=!1},d(d){d&&Z(e);for(let m=0;m<t.length;m+=1)t[m].d();h&&h.d(),n[8](null)}}}function qN(n,e,t){let i,r;const o=$n("jsoneditor:NavigationBar");let{json:s}=e,{documentState:l}=e,{onSelect:a}=e,c;function u(){setTimeout(()=>{if(c&&c.scrollTo){const m=c.scrollWidth-c.clientWidth;m>0&&(o("scrollTo ",m),c.scrollTo({left:m,behavior:"smooth"}))}})}function f(m){o("get items for path",m);const g=Ke(s,m);if(Array.isArray(g))return T6(0,g.length).map(String);if(qn(g)){const p=Object.keys(g).slice(0);return p.sort(qd),p}else return[]}function h(m){o("select path",JSON.stringify(m)),a(pn(s,m,m))}function d(m){pt[m?"unshift":"push"](()=>{c=m,t(2,c)})}return n.$$set=m=>{"json"in m&&t(0,s=m.json),"documentState"in m&&t(6,l=m.documentState),"onSelect"in m&&t(7,a=m.onSelect)},n.$$.update=()=>{n.$$.dirty&64&&t(1,i=l.selection?l.selection.focusPath:[]),n.$$.dirty&3&&t(3,r=xn(Ke(s,i))),n.$$.dirty&2&&u()},[s,i,c,r,f,h,l,a,d]}class WN extends Xe{constructor(e){super(),Qe(this,e,qN,zN,Et,{json:0,documentState:6,onSelect:7})}}function I0(n){let e,t,i,r,o,s,l,a,c,u,f,h,d,m=n[3]!==-1?`${n[3]+1}/`:"",g,y,p,v,k,b,S,O,I,L,P,D,H,F,q,U=!n[4]&&N0(n);const B=[KN,UN],Q=[];function re(x,N){return x[2]?0:1}l=re(n),a=Q[l]=B[l](n),k=new wt({props:{data:D8}}),O=new wt({props:{data:b8}}),P=new wt({props:{data:wl}});let le=n[0]&&!n[4]&&D0(n);return{c(){e=R("div"),t=R("form"),U&&U.c(),i=oe(),r=R("div"),o=R("div"),s=R("div"),a.c(),c=oe(),u=R("label"),f=R("input"),h=oe(),d=R("div"),g=Be(m),y=Be(n[10]),p=oe(),v=R("button"),ye(k.$$.fragment),b=oe(),S=R("button"),ye(O.$$.fragment),I=oe(),L=R("button"),ye(P.$$.fragment),D=oe(),le&&le.c(),_(s,"class","jse-search-icon svelte-10nesp9"),_(f,"class","jse-search-input svelte-10nesp9"),_(f,"title","Enter text to search"),_(f,"type","text"),_(f,"placeholder","Find"),_(u,"class","jse-search-input-label svelte-10nesp9"),_(u,"about","jse-search input"),_(d,"class","jse-search-count svelte-10nesp9"),Ne(d,"jse-visible",n[8]!==""),_(v,"type","button"),_(v,"class","jse-search-next svelte-10nesp9"),_(v,"title","Go to next search result (Enter)"),_(S,"type","button"),_(S,"class","jse-search-previous svelte-10nesp9"),_(S,"title","Go to previous search result (Shift+Enter)"),_(L,"type","button"),_(L,"class","jse-search-clear svelte-10nesp9"),_(L,"title","Close search box (Esc)"),_(o,"class","jse-search-section svelte-10nesp9"),_(r,"class","jse-search-contents svelte-10nesp9"),_(t,"class","jse-search-form svelte-10nesp9"),_(e,"class","jse-search-box svelte-10nesp9")},m(x,N){$(x,e,N),E(e,t),U&&U.m(t,null),E(t,i),E(t,r),E(r,o),E(o,s),Q[l].m(s,null),E(o,c),E(o,u),E(u,f),_i(f,n[8]),E(o,h),E(o,d),E(d,g),E(d,y),E(o,p),E(o,v),me(k,v,null),E(o,b),E(o,S),me(O,S,null),E(o,I),E(o,L),me(P,L,null),E(r,D),le&&le.m(r,null),H=!0,F||(q=[we(f,"input",n[21]),dl(GN.call(null,f)),we(v,"click",n[22]),we(S,"click",n[23]),we(L,"click",n[24]),we(t,"submit",n[12]),we(t,"keydown",n[13])],F=!0)},p(x,N){x[4]?U&&(Ee(),j(U,1,1,()=>{U=null}),Te()):U?(U.p(x,N),N&16&&A(U,1)):(U=N0(x),U.c(),A(U,1),U.m(t,i));let ie=l;l=re(x),l===ie?Q[l].p(x,N):(Ee(),j(Q[ie],1,1,()=>{Q[ie]=null}),Te(),a=Q[l],a?a.p(x,N):(a=Q[l]=B[l](x),a.c()),A(a,1),a.m(s,null)),N&256&&f.value!==x[8]&&_i(f,x[8]),(!H||N&8)&&m!==(m=x[3]!==-1?`${x[3]+1}/`:"")&&St(g,m),(!H||N&1024)&&St(y,x[10]),N&256&&Ne(d,"jse-visible",x[8]!==""),x[0]&&!x[4]?le?le.p(x,N):(le=D0(x),le.c(),le.m(r,null)):le&&(le.d(1),le=null)},i(x){H||(A(U),A(a),A(k.$$.fragment,x),A(O.$$.fragment,x),A(P.$$.fragment,x),H=!0)},o(x){j(U),j(a),j(k.$$.fragment,x),j(O.$$.fragment,x),j(P.$$.fragment,x),H=!1},d(x){x&&Z(e),U&&U.d(),Q[l].d(),pe(k),pe(O),pe(P),le&&le.d(),F=!1,on(q)}}}function N0(n){let e,t,i,r,o;return t=new wt({props:{data:n[0]?Yi:xr}}),{c(){e=R("button"),ye(t.$$.fragment),_(e,"type","button"),_(e,"class","jse-replace-toggle svelte-10nesp9"),_(e,"title","Toggle visibility of replace options (Ctrl+H)")},m(s,l){$(s,e,l),me(t,e,null),i=!0,r||(o=we(e,"click",n[11]),r=!0)},p(s,l){const a={};l&1&&(a.data=s[0]?Yi:xr),t.$set(a)},i(s){i||(A(t.$$.fragment,s),i=!0)},o(s){j(t.$$.fragment,s),i=!1},d(s){s&&Z(e),pe(t),r=!1,o()}}}function UN(n){let e,t;return e=new wt({props:{data:id}}),{c(){ye(e.$$.fragment)},m(i,r){me(e,i,r),t=!0},p:xe,i(i){t||(A(e.$$.fragment,i),t=!0)},o(i){j(e.$$.fragment,i),t=!1},d(i){pe(e,i)}}}function KN(n){let e,t;return e=new wt({props:{data:p8,spin:!0}}),{c(){ye(e.$$.fragment)},m(i,r){me(e,i,r),t=!0},p:xe,i(i){t||(A(e.$$.fragment,i),t=!0)},o(i){j(e.$$.fragment,i),t=!1},d(i){pe(e,i)}}}function D0(n){let e,t,i,r,o,s,l,a;return{c(){e=R("div"),t=R("input"),i=oe(),r=R("button"),r.textContent="Replace",o=oe(),s=R("button"),s.textContent="All",_(t,"class","jse-replace-input svelte-10nesp9"),_(t,"title","Enter replacement text"),_(t,"type","text"),_(t,"placeholder","Replace"),_(r,"type","button"),_(r,"title","Replace current occurrence (Ctrl+Enter)"),_(r,"class","svelte-10nesp9"),_(s,"type","button"),_(s,"title","Replace all occurrences"),_(s,"class","svelte-10nesp9"),_(e,"class","jse-replace-section svelte-10nesp9")},m(c,u){$(c,e,u),E(e,t),_i(t,n[9]),E(e,i),E(e,r),E(e,o),E(e,s),l||(a=[we(t,"input",n[25]),we(r,"click",n[14]),we(s,"click",n[15])],l=!0)},p(c,u){u&512&&t.value!==c[9]&&_i(t,c[9])},d(c){c&&Z(e),l=!1,on(a)}}}function JN(n){let e,t,i=n[1]&&I0(n);return{c(){i&&i.c(),e=Nt()},m(r,o){i&&i.m(r,o),$(r,e,o),t=!0},p(r,[o]){r[1]?i?(i.p(r,o),o&2&&A(i,1)):(i=I0(r),i.c(),A(i,1),i.m(e.parentNode,e)):i&&(Ee(),j(i,1,1,()=>{i=null}),Te())},i(r){t||(A(i),t=!0)},o(r){j(i),t=!1},d(r){i&&i.d(r),r&&Z(e)}}}function GN(n){n.select()}function QN(n,e,t){let i,r,{show:o=!1}=e,{searching:s}=e,{resultCount:l=0}=e,{activeIndex:a=0}=e,{showReplace:c=!1}=e,{readOnly:u=!1}=e,{onChange:f=Vt}=e,{onPrevious:h=Vt}=e,{onNext:d=Vt}=e,{onReplace:m=Vt}=e,{onReplaceAll:g=Vt}=e,{onClose:y=Vt}=e,p="",v="",k="";function b(){p!==""&&f(p)}function S(){t(0,c=!c&&!u)}function O(B){B.preventDefault(),p!==v?(v=p,r.cancel(),f(p)):d()}function I(B){B.stopPropagation();const Q=hs(B);Q==="Enter"&&(B.preventDefault(),d()),Q==="Shift+Enter"&&(B.preventDefault(),h()),(Q==="Ctrl+Enter"||Q==="Command+Enter")&&(B.preventDefault(),c?L():d()),Q==="Ctrl+H"&&(B.preventDefault(),S()),Q==="Escape"&&(B.preventDefault(),y())}function L(){u||m(p,k)}function P(){u||g(p,k)}function D(){p=this.value,t(8,p)}const H=()=>d(),F=()=>h(),q=()=>y();function U(){k=this.value,t(9,k)}return n.$$set=B=>{"show"in B&&t(1,o=B.show),"searching"in B&&t(2,s=B.searching),"resultCount"in B&&t(16,l=B.resultCount),"activeIndex"in B&&t(3,a=B.activeIndex),"showReplace"in B&&t(0,c=B.showReplace),"readOnly"in B&&t(4,u=B.readOnly),"onChange"in B&&t(17,f=B.onChange),"onPrevious"in B&&t(5,h=B.onPrevious),"onNext"in B&&t(6,d=B.onNext),"onReplace"in B&&t(18,m=B.onReplace),"onReplaceAll"in B&&t(19,g=B.onReplaceAll),"onClose"in B&&t(7,y=B.onClose)},n.$$.update=()=>{n.$$.dirty&65536&&t(10,i=l>=cf?`${cf-1}+`:String(l)),n.$$.dirty&131072&&t(20,r=Fc(f,By)),n.$$.dirty&1048832&&r(p),n.$$.dirty&2&&o&&b()},[c,o,s,a,u,h,d,y,p,k,i,S,O,I,L,P,l,f,m,g,r,D,H,F,q,U]}class XN extends Xe{constructor(e){super(),Qe(this,e,QN,JN,Et,{show:1,searching:2,resultCount:16,activeIndex:3,showReplace:0,readOnly:4,onChange:17,onPrevious:5,onNext:6,onReplace:18,onReplaceAll:19,onClose:7})}}const{window:YN}=Cc;function R0(n){let e,t,i;function r(s){n[70](s)}let o={json:n[7],selection:n[13].selection,readOnly:n[0],historyState:n[19],onExpandAll:n[37],onCollapseAll:n[38],onUndo:n[33],onRedo:n[34],onSort:n[35],onTransform:n[36],onContextMenu:n[42],onCopy:n[31],onRenderMenu:n[4]};return n[16]!==void 0&&(o.showSearch=n[16]),e=new AN({props:o}),pt.push(()=>Fn(e,"showSearch",r)),{c(){ye(e.$$.fragment)},m(s,l){me(e,s,l),i=!0},p(s,l){const a={};l[0]&128&&(a.json=s[7]),l[0]&8192&&(a.selection=s[13].selection),l[0]&1&&(a.readOnly=s[0]),l[0]&524288&&(a.historyState=s[19]),l[0]&16&&(a.onRenderMenu=s[4]),!t&&l[0]&65536&&(t=!0,a.showSearch=s[16],zn(()=>t=!1)),e.$set(a)},i(s){i||(A(e.$$.fragment,s),i=!0)},o(s){j(e.$$.fragment,s),i=!1},d(s){pe(e,s)}}}function j0(n){let e,t;return e=new WN({props:{json:n[7],documentState:n[13],onSelect:n[45]}}),{c(){ye(e.$$.fragment)},m(i,r){me(e,i,r),t=!0},p(i,r){const o={};r[0]&128&&(o.json=i[7]),r[0]&8192&&(o.documentState=i[13]),e.$set(o)},i(i){t||(A(e.$$.fragment,i),t=!0)},o(i){j(e.$$.fragment,i),t=!1},d(i){pe(e,i)}}}function ZN(n){let e;return{c(){e=R("div"),e.innerHTML=`<div class="jse-loading-space svelte-15tyejh"></div> 
      <div class="jse-loading svelte-15tyejh">loading...</div>`,_(e,"class","jse-contents svelte-15tyejh")},m(t,i){$(t,e,i)},p:xe,i:xe,o:xe,d(t){t&&Z(e)}}}function $N(n){let e,t,i,r,o,s,l,a,c;const u=[tD,eD],f=[];function h(d,m){return d[7]===void 0?0:1}return r=h(n),o=f[r]=u[r](n),{c(){e=R("label"),t=R("input"),i=oe(),o.c(),s=Nt(),_(t,"type","text"),t.readOnly="readonly",_(t,"tabindex","-1"),_(t,"class","jse-hidden-input svelte-15tyejh"),_(e,"class","jse-hidden-input-label svelte-15tyejh")},m(d,m){$(d,e,m),E(e,t),n[71](t),$(d,i,m),f[r].m(d,m),$(d,s,m),l=!0,a||(c=we(t,"paste",n[32]),a=!0)},p(d,m){let g=r;r=h(d),r===g?f[r].p(d,m):(Ee(),j(f[g],1,1,()=>{f[g]=null}),Te(),o=f[r],o?o.p(d,m):(o=f[r]=u[r](d),o.c()),A(o,1),o.m(s.parentNode,s))},i(d){l||(A(o),l=!0)},o(d){j(o),l=!1},d(d){d&&Z(e),n[71](null),d&&Z(i),f[r].d(d),d&&Z(s),a=!1,c()}}}function eD(n){var d,m,g,y;let e,t,i,r,o,s,l,a,c,u;t=new XN({props:{show:n[16],resultCount:((m=(d=n[14])==null?void 0:d.items)==null?void 0:m.length)||0,activeIndex:((g=n[14])==null?void 0:g.activeIndex)||0,showReplace:n[17],searching:n[18],readOnly:n[0],onChange:n[24],onNext:n[25],onPrevious:n[26],onReplace:n[27],onReplaceAll:n[28],onClose:n[29]}}),o=new zd({props:{value:n[7],path:n[23],expandedMap:n[13].expandedMap,enforceStringMap:n[13].enforceStringMap,visibleSectionsMap:n[13].visibleSectionsMap,validationErrorsMap:n[21],searchResultItemsMap:(y=n[14])==null?void 0:y.itemsMap,selection:n[13].selection,context:n[10],onDragSelectionStart:Vt}});let f=n[15]&&L0(n),h=n[20]&&B0(n);return c=new Gv({props:{validationErrors:n[9],selectError:n[30]}}),{c(){e=R("div"),ye(t.$$.fragment),i=oe(),r=R("div"),ye(o.$$.fragment),s=oe(),f&&f.c(),l=oe(),h&&h.c(),a=oe(),ye(c.$$.fragment),_(e,"class","jse-search-box-container svelte-15tyejh"),_(r,"class","jse-contents svelte-15tyejh"),_(r,"data-jsoneditor-scrollable-contents",!0)},m(p,v){$(p,e,v),me(t,e,null),$(p,i,v),$(p,r,v),me(o,r,null),n[72](r),$(p,s,v),f&&f.m(p,v),$(p,l,v),h&&h.m(p,v),$(p,a,v),me(c,p,v),u=!0},p(p,v){var O,I,L,P;const k={};v[0]&65536&&(k.show=p[16]),v[0]&16384&&(k.resultCount=((I=(O=p[14])==null?void 0:O.items)==null?void 0:I.length)||0),v[0]&16384&&(k.activeIndex=((L=p[14])==null?void 0:L.activeIndex)||0),v[0]&131072&&(k.showReplace=p[17]),v[0]&262144&&(k.searching=p[18]),v[0]&1&&(k.readOnly=p[0]),t.$set(k);const b={};v[0]&128&&(b.value=p[7]),v[0]&8192&&(b.expandedMap=p[13].expandedMap),v[0]&8192&&(b.enforceStringMap=p[13].enforceStringMap),v[0]&8192&&(b.visibleSectionsMap=p[13].visibleSectionsMap),v[0]&2097152&&(b.validationErrorsMap=p[21]),v[0]&16384&&(b.searchResultItemsMap=(P=p[14])==null?void 0:P.itemsMap),v[0]&8192&&(b.selection=p[13].selection),v[0]&1024&&(b.context=p[10]),o.$set(b),p[15]?f?(f.p(p,v),v[0]&32768&&A(f,1)):(f=L0(p),f.c(),A(f,1),f.m(l.parentNode,l)):f&&(Ee(),j(f,1,1,()=>{f=null}),Te()),p[20]?h?(h.p(p,v),v[0]&1048576&&A(h,1)):(h=B0(p),h.c(),A(h,1),h.m(a.parentNode,a)):h&&(Ee(),j(h,1,1,()=>{h=null}),Te());const S={};v[0]&512&&(S.validationErrors=p[9]),c.$set(S)},i(p){u||(A(t.$$.fragment,p),A(o.$$.fragment,p),A(f),A(h),A(c.$$.fragment,p),u=!0)},o(p){j(t.$$.fragment,p),j(o.$$.fragment,p),j(f),j(h),j(c.$$.fragment,p),u=!1},d(p){p&&Z(e),pe(t),p&&Z(i),p&&Z(r),pe(o),n[72](null),p&&Z(s),f&&f.d(p),p&&Z(l),h&&h.d(p),p&&Z(a),pe(c,p)}}}function tD(n){let e,t,i,r;const o=[iD,nD],s=[];function l(a,c){return a[8]===""||a[8]===void 0?0:1}return e=l(n),t=s[e]=o[e](n),{c(){t.c(),i=Nt()},m(a,c){s[e].m(a,c),$(a,i,c),r=!0},p(a,c){let u=e;e=l(a),e===u?s[e].p(a,c):(Ee(),j(s[u],1,1,()=>{s[u]=null}),Te(),t=s[e],t?t.p(a,c):(t=s[e]=o[e](a),t.c()),A(t,1),t.m(i.parentNode,i))},i(a){r||(A(t),r=!0)},o(a){j(t),r=!1},d(a){s[e].d(a),a&&Z(i)}}}function L0(n){let e,t;return e=new Co({props:{type:"info",message:`You pasted a JSON ${Array.isArray(n[15].contents)?"array":"object"} as text`,actions:[{icon:ed,text:"Paste as JSON instead",onMouseDown:n[43]},{text:"Leave as is",onClick:n[44]}]}}),{c(){ye(e.$$.fragment)},m(i,r){me(e,i,r),t=!0},p(i,r){const o={};r[0]&32768&&(o.message=`You pasted a JSON ${Array.isArray(i[15].contents)?"array":"object"} as text`),e.$set(o)},i(i){t||(A(e.$$.fragment,i),t=!0)},o(i){j(e.$$.fragment,i),t=!1},d(i){pe(e,i)}}}function B0(n){let e,t;return e=new Co({props:{type:"success",message:"The loaded JSON document was invalid but is successfully repaired.",actions:n[0]?[]:[{icon:If,text:"Ok",onClick:n[5]},{icon:La,text:"Repair manually instead",onClick:n[3]}]}}),{c(){ye(e.$$.fragment)},m(i,r){me(e,i,r),t=!0},p(i,r){const o={};r[0]&9&&(o.actions=i[0]?[]:[{icon:If,text:"Ok",onClick:i[5]},{icon:La,text:"Repair manually instead",onClick:i[3]}]),e.$set(o)},i(i){t||(A(e.$$.fragment,i),t=!0)},o(i){j(e.$$.fragment,i),t=!1},d(i){pe(e,i)}}}function nD(n){let e,t,i,r=vc(n[8],tm)+"",o,s;return e=new Co({props:{type:"error",message:"The loaded JSON document is invalid and could not be repaired automatically.",actions:n[0]?[]:[{icon:La,text:"Repair manually",onClick:n[3]}]}}),{c(){ye(e.$$.fragment),t=oe(),i=R("div"),o=Be(r),_(i,"class","jse-preview svelte-15tyejh")},m(l,a){me(e,l,a),$(l,t,a),$(l,i,a),E(i,o),s=!0},p(l,a){const c={};a[0]&9&&(c.actions=l[0]?[]:[{icon:La,text:"Repair manually",onClick:l[3]}]),e.$set(c),(!s||a[0]&256)&&r!==(r=vc(l[8],tm)+"")&&St(o,r)},i(l){s||(A(e.$$.fragment,l),s=!0)},o(l){j(e.$$.fragment,l),s=!1},d(l){pe(e,l),l&&Z(t),l&&Z(i)}}}function iD(n){let e,t;return e=new NN({props:{readOnly:n[0]}}),{c(){ye(e.$$.fragment)},m(i,r){me(e,i,r),t=!0},p(i,r){const o={};r[0]&1&&(o.readOnly=i[0]),e.$set(o)},i(i){t||(A(e.$$.fragment,i),t=!0)},o(i){j(e.$$.fragment,i),t=!1},d(i){pe(e,i)}}}function rD(n){let e,t,i,r,o,s,l,a,c=n[1]&&R0(n),u=n[2]&&j0(n);const f=[$N,ZN],h=[];function d(m,g){return m[22]?1:0}return r=d(n),o=h[r]=f[r](n),{c(){e=R("div"),c&&c.c(),t=oe(),u&&u.c(),i=oe(),o.c(),_(e,"class","jse-tree-mode svelte-15tyejh"),Ne(e,"no-main-menu",!n[1])},m(m,g){$(m,e,g),c&&c.m(e,null),E(e,t),u&&u.m(e,null),E(e,i),h[r].m(e,null),n[73](e),s=!0,l||(a=[we(YN,"mousedown",n[46]),we(e,"keydown",n[39]),we(e,"mousedown",n[40]),we(e,"contextmenu",n[41])],l=!0)},p(m,g){m[1]?c?(c.p(m,g),g[0]&2&&A(c,1)):(c=R0(m),c.c(),A(c,1),c.m(e,t)):c&&(Ee(),j(c,1,1,()=>{c=null}),Te()),m[2]?u?(u.p(m,g),g[0]&4&&A(u,1)):(u=j0(m),u.c(),A(u,1),u.m(e,i)):u&&(Ee(),j(u,1,1,()=>{u=null}),Te()),o.p(m,g),g[0]&2&&Ne(e,"no-main-menu",!m[1])},i(m){s||(A(c),A(u),A(o),s=!0)},o(m){j(c),j(u),j(o),s=!1},d(m){m&&Z(e),c&&c.d(),u&&u.d(),h[r].d(),n[73](null),l=!1,on(a)}}}function Io(n){return n.length===0?!0:n.length===1&&n[0]==="0"}function la(){return!0}function oD(n,e,t){let i;const r=$n("jsoneditor:TreeMode"),o=typeof window>"u";r("isSSR:",o);const{open:s}=si("simple-modal"),l=ja(),a=ja(),{openAbsolutePopup:c,closeAbsolutePopup:u}=si("absolute-popup");let f,h,d,m=!1;const g=_I();let{readOnly:y=!1}=e,{externalContent:p}=e,{mainMenuBar:v=!0}=e,{navigationBar:k=!0}=e,{escapeControlCharacters:b=!1}=e,{escapeUnicodeCharacters:S=!1}=e,{validator:O=null}=e,{indentation:I=2}=e,{onError:L}=e,{onChange:P}=e,{onRenderValue:D}=e,{onRequestRepair:H=Vt}=e,{onRenderMenu:F=Vt}=e,{onClassName:q}=e,{onFocus:U}=e,{onBlur:B}=e,{onSortModal:Q}=e,{onTransformModal:re}=e,le=!1;Uv({onMount:ki,onDestroy:lo,getWindow:()=>Zs(d),hasFocus:()=>le&&document.hasFocus()||Mf(d),onFocus:()=>{m=!0,U&&U()},onBlur:()=>{m=!1,B&&B()}});let x,N;const ie=[];let ne;function z(V){r("updateSelection",V);const ue=typeof V=="function"?V(w.selection):V;Ht(ue,w.selection)||t(13,w={...w,selection:ue})}let w=k1({json:x,expand:ee(x)}),C,J,se;function ee(V){return Qm({json:V},nm)?Io:la}let ge=!1,ve=!1,Pe=!1,ze="";async function Me(V){r("search text updated",V),t(69,ze=V),await hn(),await ke()}async function ae(){t(14,C=C?YI(C):void 0),await ke()}async function Re(){t(14,C=C?ZI(C):void 0),await ke()}async function Le(V,ue){const _e=C==null?void 0:C.activeItem;if(r("handleReplace",{replacementText:ue,activeItem:_e}),!_e)return;const{operations:Ce,newSelection:st}=$I(x,w,ue,_e);nn(Ce,(bt,sn)=>({state:{...sn,selection:st}})),await hn(),await ke()}async function rt(V,ue){r("handleReplaceAll",{text:V,replacementText:ue});const{operations:_e,newSelection:Ce}=e9(x,w,V,ue);nn(_e,(st,bt)=>({state:{...bt,selection:Ce}})),await hn(),await ke()}function Oe(){t(16,ge=!1),t(17,ve=!1),Me(""),ti()}async function ke(){const V=C==null?void 0:C.activeItem;if(r("focusActiveSearchResult",C),V){const ue=V.path;t(13,w={...Yu(x,w,ue),selection:void 0}),await hn(),await et(ue)}}function ot(){if(ze===""){r("clearing search result"),C!==void 0&&t(14,C=void 0);return}t(18,Pe=!0),setTimeout(()=>{r("searching...",ze);const V=e_(ze,x,w,cf);t(14,C=XI(x,V,C)),t(18,Pe=!1)})}function lt(V){r("select validation error",V),z(Zt(V.path,!1)),et(V.path)}const at=II({onChange:V=>{t(19,mt=V)}});let mt=at.getState();function It(V=()=>!0){r("expand");const ue={...w,expandedMap:{},visibleSectionsMap:{}};t(13,w=Ti(x,ue,ie,V))}const de=I6(ot,lk);let T=!1,W=[],X;const te=zw(fI);function be(V,ue){const _e=ue?te(V,ue):[];Ht(_e,W)||(r("validationErrors changed:",_e),t(9,W=_e))}function Ae(){return r("validate"),ne?{parseError:ne,isRepairable:!1}:(be(x,O),{validationErrors:W})}function Je(){return x}function je(){return w}function Tt(V){V.json!==void 0&&M(V.json),V.text!==void 0&&G(V.text)}function M(V){if(V===void 0)return;const ue=!Ht(x,V);if(r("update external json",{isChanged:ue,currentlyText:x===void 0}),!ue)return;const _e=w,Ce=x,st=N,bt=T;t(7,x=V),t(13,w=Ti(x,w,ie,ee(x))),t(8,N=void 0),t(20,T=!1),K(x),he({previousJson:Ce,previousState:_e,previousText:st,previousTextIsRepaired:bt})}function G(V){if(V===void 0||p.json!==void 0||V===N)return;r("update external text");const ue=x,_e=w,Ce=N,st=T;try{t(7,x=JSON.parse(V)),t(13,w=Ti(x,w,ie,ee(x))),t(8,N=V),t(20,T=!1),ne=void 0,K(x)}catch(bt){try{t(7,x=JSON.parse(Ir(V))),t(13,w=Ti(x,w,ie,ee(x))),t(8,N=V),t(20,T=!0),ne=void 0,K(x)}catch{t(7,x=void 0),t(8,N=p.text),t(20,T=!1),ne=Yh(N,bt.message||bt.toString()),K(x)}}he({previousJson:ue,previousState:_e,previousText:Ce,previousTextIsRepaired:st})}function K(V){w.selection!==void 0&&(w.selection&&uo(V,w.selection.anchorPath)&&uo(V,w.selection.focusPath)||(r("clearing selection: path does not exist anymore",w.selection),t(13,w={...w,selection:void 0})))}function he({previousJson:V,previousState:ue,previousText:_e,previousTextIsRepaired:Ce}){V===void 0&&_e===void 0||(x!==void 0?V!==void 0?at.add({undo:{patch:[{op:"replace",path:"",value:V}],state:vr(ue),json:void 0,text:_e,textIsRepaired:Ce},redo:{patch:[{op:"replace",path:"",value:x}],state:vr(w),json:void 0,text:N,textIsRepaired:T}}):at.add({undo:{patch:void 0,json:void 0,text:_e,state:vr(ue),textIsRepaired:Ce},redo:{patch:void 0,json:x,state:vr(w),text:N,textIsRepaired:T}}):V!==void 0&&at.add({undo:{patch:void 0,json:V,state:vr(ue),text:_e,textIsRepaired:Ce},redo:{patch:void 0,json:void 0,text:N,textIsRepaired:T,state:vr(w)}}))}function fe(){r("createDefaultSelection"),t(13,w={...w,selection:pn(x||{},[],[])})}function Ie(V,ue){if(r("patch",V,ue),x===void 0)throw new Error("Cannot apply patch: no JSON");const _e=x,Ce=w,st=N,bt=T,sn=QI(x,V),Sn=EI(x,w,V),fn=os(x,V),Mo=zI(Sn.documentState,fn,!1);r("patch updatedSelection",fn);const Ao=typeof ue=="function"?ue(Sn.json,Mo):void 0;t(7,x=Ao&&Ao.json!==void 0?Ao.json:Sn.json);const Kd=Ao&&Ao.state!==void 0?Ao.state:Mo;return t(13,w=Kd),t(8,N=void 0),t(20,T=!1),K(x),at.add({undo:{patch:sn,json:void 0,text:st,state:vr(Ce),textIsRepaired:bt},redo:{patch:V,json:void 0,state:vr(Kd),text:N,textIsRepaired:T}}),{json:x,previousJson:_e,undo:sn,redo:V}}function Ge(V){return Ft(V)||mn(V)||Bt(V)}function nt(){y||!w.selection||z(gi(w.selection.focusPath,!0))}function it(){y||!w.selection||z(Zt(w.selection.focusPath,!0))}function ft(){if(y||!Bt(w.selection))return;const V=w.selection.focusPath,ue=Fe(V),_e=Ke(x,V),Ce=!Ol(_e,w.enforceStringMap,ue),st=Ce?String(_e):yl(String(_e));r("handleToggleEnforceString",{enforceString:Ce,value:_e,updatedValue:st}),nn([{op:"replace",path:Fe(V),value:st}],(bt,sn)=>({state:xI(sn,ue,Ce)}))}function Mt(){return T&&x!==void 0&&Ud(x),{json:x,text:N}}async function Ye(V=!0){if(y||!Ge(w.selection))return;const ue=V?I:null,_e=x1(x,w.selection,ue);if(_e==null)return;r("cut",{selection:w.selection,clipboard:_e,indent:V});try{await navigator.clipboard.writeText(_e)}catch(bt){L(bt)}const{operations:Ce,newSelection:st}=A1(x,w.selection);nn(Ce,(bt,sn)=>({state:{...sn,selection:st}}))}async function yt(V=!0){const ue=V?I:null,_e=x1(x,w.selection,ue);if(_e!=null){r("copy",{clipboard:_e,indent:V});try{await navigator.clipboard.writeText(_e)}catch(Ce){L(Ce)}}}function ht(V){if(V.preventDefault(),y)return;const ue=V.clipboardData.getData("text/plain");try{ce(ue)}catch{We(ue,Ce=>{r("repaired pasted text: ",Ce),ce(Ce)})}}function Dt(){s(l9,{},{...Ta,styleWindow:{width:"450px"}},{onClose:()=>ti()})}function ce(V){if(x!==void 0){w.selection||fe();const ue=M1(x,w.selection,V);r("paste",{clipboardText:V,operations:ue,selection:w.selection}),nn(ue,(_e,Ce)=>{let st=Ce;return ue.filter(bt=>(Vy(bt)||zy(bt))&&xn(bt.value)).forEach(bt=>{const sn=tr(x,bt.path);st=yr(_e,st,sn)}),{state:st}})}else r("paste text",{clipboardText:V}),f_(V,(ue,_e)=>{if(ue)return{state:yr(ue,_e,[])}})}function We(V,ue){s(g9,{text:V,onParse:Xh,onRepair:B6,onApply:ue,onRenderMenu:F},{...Ta,styleWindow:{width:"600px",height:"500px"},styleContent:{padding:0,height:"100%"}},{onClose:()=>ti()})}function _t(){if(y||!w.selection)return;const V=mn(w.selection)||Bt(w.selection)?pn(x,w.selection.anchorPath,w.selection.focusPath):w.selection;if(rn(w.selection.focusPath))r("remove root",{selection:w.selection}),P({text:"",json:void 0},{text:N,json:x},{contentErrors:Ae(),patchResult:null});else{const{operations:ue,newSelection:_e}=A1(x,V);r("remove",{operations:ue,selection:w.selection,newSelection:_e}),nn(ue,(Ce,st)=>({state:{...st,selection:_e}}))}}function vt(){if(y||!Ge(w.selection)||rn(w.selection.focusPath))return;r("duplicate",{selection:w.selection});const V=UI(x,$w(w.selection));nn(V)}function xt(){if(y||!w.selection||!Ft(w.selection)&&!Bt(w.selection)||rn(w.selection.focusPath))return;r("extract",{selection:w.selection});const V=KI(x,w.selection);nn(V,(ue,_e)=>{if(xn(ue))return{state:yr(ue,_e,[])}})}function At(V){if(y||!w.selection)return;const ue=GI(x,w.selection,V);if(x!==void 0){const _e=JSON.stringify(ue),Ce=M1(x,w.selection,_e);r("handleInsert",{type:V,operations:Ce,newValue:ue,data:_e});const st=gt(Ce.filter(bt=>bt.op==="add"||bt.op==="replace"));nn(Ce,(bt,sn)=>{if(st){const Sn=tr(bt,st.path);if(xn(ue))return{state:{...Ti(bt,sn,Sn,la),selection:er(Sn)}};if(ue===""){const fn=rn(Sn)?null:Ke(bt,Rt(Sn));return r("test A",Sn,er(Sn)),{state:Yu(bt,{...w,selection:qn(fn)?gi(Sn,!0):Zt(Sn,!0)},Sn)}}return}}),r("after patch"),st&&ue===""&&hn().then(()=>{setTimeout(()=>yi("",!0))})}else{r("handleInsert",{type:V,newValue:ue});const _e=[];Ud(ue,(Ce,st)=>({state:{...yr(Ce,st,_e),selection:er(_e)}}))}}function qt(V){mn(w.selection)&&z(Zt(w.selection.focusPath,!1)),At(V)}function un(V){if(!(y||!w.selection)){if(!Ca(w.selection)){L(new Error(`Cannot convert current selection to ${V}`));return}try{const ue=w.selection.anchorPath,_e=Ke(x,ue),Ce=z6(_e,V);if(Ce===_e)return;const st=[{op:"replace",path:Fe(ue),value:Ce}];r("handleConvert",{selection:w.selection,path:ue,type:V,operations:st}),nn(st,(bt,sn)=>({state:yr(bt,sn,w.selection.focusPath)}))}catch(ue){L(ue)}}}function Ct(){const V=S1(x,w,!1),ue=Rt(w.selection.focusPath);!rn(V.focusPath)&&Ht(ue,Rt(V.focusPath))?z(mr(V.focusPath)):z(er(ue)),r("insert before",{selection:w.selection,selectionBefore:V,parentPath:ue}),hn().then(Pl)}function Mn(){const V=Ft(w.selection)?gt(w.selection.paths):w.selection.focusPath;r("insert after",V),z(mr(V)),hn().then(Pl)}function yi(V,ue){const _e=Zs(d).document.activeElement;_e.isContentEditable&&(_e.textContent=ue?V:_e.textContent+V,Fv(_e))}async function Wt(V){if(!(y||!w.selection)){if(mn(w.selection)){const ue=!w.selection.edit;z({...w.selection,edit:!0}),await hn(),setTimeout(()=>yi(V,ue));return}if(V==="{")At("object");else if(V==="[")At("array");else if(Bt(w.selection)){if(!xn(Ke(x,w.selection.focusPath))){const ue=!w.selection.edit;z({...w.selection,edit:!0}),await hn(),setTimeout(()=>yi(V,ue))}}else await Ue(V)}}async function Ue(V){if(y||!w.selection)return;At("value");const ue=!qs(w.selection),_e=w.selection.focusPath,Ce=Ke(x,Rt(_e));Array.isArray(Ce)||!Ce||Bt(w.selection)?z(Zt(_e,!0)):z(gi(_e,!0)),await hn(),setTimeout(()=>yi(V,ue))}function dt(){if(y||!at.getState().canUndo)return;const V=at.undo();if(!V)return;const ue={json:x,text:N};t(7,x=V.undo.patch?ro(x,V.undo.patch):V.undo.json),t(13,w=V.undo.state),t(8,N=V.undo.text),t(20,T=V.undo.textIsRepaired),r("undo",{item:V,json:x,documentState:w});const _e={json:x,previousJson:ue.json,redo:V.undo.patch,undo:V.redo.patch};ci(ue,_e),ti(),w.selection&&et(w.selection.focusPath,!1)}function ei(){if(y||!at.getState().canRedo)return;const V=at.redo();if(!V)return;const ue={json:x,text:N};t(7,x=V.redo.patch?ro(x,V.redo.patch):V.redo.json),t(13,w=V.redo.state),t(8,N=V.redo.text),t(20,T=V.redo.textIsRepaired),r("redo",{item:V,json:x,documentState:w});const _e={json:x,previousJson:ue.json,redo:V.redo.patch,undo:V.undo.patch};ci(ue,_e),ti(),w.selection&&et(w.selection.focusPath,!1)}function ai(V){y||(le=!0,Q({id:l,json:x,selectedPath:V,onSort:async ue=>{r("onSort",V,ue),nn(ue,(_e,Ce)=>({state:{...yr(_e,Ce,V),selection:Zt(V,!1)}}))},onClose:()=>{le=!1,ti()}}))}function qi(){if(!w.selection)return;const V=C1(x,w.selection);ai(V)}function To(){ai([])}function xi({id:V,selectedPath:ue,onTransform:_e,onClose:Ce}){le=!0,re({id:V||a,json:x,selectedPath:ue,onTransform:_e?st=>{_e({operations:st,json:x,transformedJson:ro(x,st)})}:st=>{r("onTransform",ue,st),nn(st,(bt,sn)=>({state:{...yr(bt,sn,ue),selection:Zt(ue,!1)}}))},onClose:()=>{le=!1,ti(),Ce&&Ce()}})}function cu(){if(!w.selection)return;const V=C1(x,w.selection);xi({selectedPath:V})}function Y(){xi({selectedPath:[]})}async function et(V,ue=!0){t(13,w=Yu(x,w,Rt(V))),await hn();const _e=jt(V);if(_e){r("scrollTo",{path:V,elem:_e,refContents:f});const Ce=f.getBoundingClientRect(),st=_e.getBoundingClientRect();if(!ue&&st.bottom>Ce.top&&st.top<Ce.bottom)return;const bt=-(Ce.height/4);g(_e,{container:f,offset:bt,duration:sk})}}function jt(V){return f?f.querySelector(`div[data-path="${Af(V)}"]`):null}function Nn(V){const ue=jt(V);if(!ue||!f)return;const _e=f.getBoundingClientRect(),Ce=ue.getBoundingClientRect(),st=20,bt=xn(Ke(x,V))?st:Ce.height;Ce.top<_e.top+st?g(ue,{container:f,offset:-st,duration:0}):Ce.top+bt>_e.bottom-st&&g(ue,{container:f,offset:-(_e.height-bt-st),duration:0})}function ci(V,ue){N!==void 0?P({text:N,json:void 0},V,{contentErrors:Ae(),patchResult:ue}):x!==void 0&&P({text:void 0,json:x},V,{contentErrors:Ae(),patchResult:ue})}function nn(V,ue){if(y)return;r("handlePatch",V,ue);const _e={json:x,text:N},Ce=Ie(V,ue);return t(15,se=void 0),ci(_e,Ce),Ce}function Ud(V,ue){const _e=w,Ce=x,st=N,bt={json:x,text:N},sn=T,Sn=Ti(x,w,ie,Io),fn=typeof ue=="function"?ue(V,Sn):void 0;t(7,x=fn&&fn.json!==void 0?fn.json:V),t(13,w=fn&&fn.state!==void 0?fn.state:Sn),t(8,N=void 0),t(20,T=!1),K(x),he({previousJson:Ce,previousState:_e,previousText:st,previousTextIsRepaired:sn}),ci(bt,null)}function f_(V,ue){r("handleChangeText");const _e=w,Ce=x,st=N,bt={json:x,text:N},sn=T;try{t(7,x=JSON.parse(V)),t(13,w=Ti(x,w,ie,Io)),t(8,N=void 0),t(20,T=!1)}catch{try{t(7,x=JSON.parse(Ir(V))),t(13,w=Ti(x,w,ie,Io)),t(8,N=V),t(20,T=!0)}catch{t(7,x=void 0),t(13,w=k1({json:x,expand:Io})),t(8,N=V),t(20,T=!1)}}if(typeof ue=="function"){const fn=ue(x,w);t(7,x=fn&&fn.json?fn.json:x),t(13,w=fn&&fn.state?fn.state:w)}K(x),he({previousJson:Ce,previousState:_e,previousText:st,previousTextIsRepaired:sn}),ci(bt,null)}function yr(V,ue,_e){const Ce=Ke(V,_e),bt=!Qm({json:Ce},nm)?la:Io;return Ti(V,ue,_e,bt)}function Al(V,ue,_e=!1){r("expand",{path:V,expanded:ue,recursive:_e}),ue?_e?t(13,w=Ti(x,w,V,la)):t(13,w=CI(w,V)):t(13,w=Ww(w,V)),w.selection&&!ue&&RI(w.selection,V)&&z(void 0),setTimeout(()=>{Mf(d)||ti()})}function h_(){Al([],!0,!0)}function d_(){Al([],!1,!0)}function uu(V){r("openFind",{findAndReplace:V}),t(16,ge=!1),t(17,ve=!1),hn().then(()=>{t(16,ge=!0),t(17,ve=V)})}function m_(V,ue){r("handleExpandSection",V,ue);const _e=Fe(V);t(13,w=OI(x,w,_e,ue))}function p_(V){r("pasted json as text",V),t(15,se=V)}function g_(V){const ue=hs(V).replace(/^Command\+/,"Ctrl+"),_e=V.shiftKey;if(ue==="Ctrl+X"&&(V.preventDefault(),Ye(!0)),ue==="Ctrl+Shift+X"&&(V.preventDefault(),Ye(!1)),ue==="Ctrl+C"&&(V.preventDefault(),yt(!0)),ue==="Ctrl+Shift+C"&&(V.preventDefault(),yt(!1)),ue==="Ctrl+D"&&(V.preventDefault(),vt()),(ue==="Delete"||ue==="Backspace")&&(V.preventDefault(),_t()),ue==="Insert"&&(V.preventDefault(),At("structure")),ue==="Ctrl+A"&&(V.preventDefault(),z(qI())),ue==="Ctrl+Q"&&Pl(V),ue==="Up"||ue==="Shift+Up"){V.preventDefault();const Ce=w.selection?S1(x,w,_e,!0)||w.selection:oa(x,w);z(Ce),Nn(Ce.focusPath)}if(ue==="Down"||ue==="Shift+Down"){V.preventDefault();const Ce=w.selection?LI(x,w,_e,!0)||w.selection:oa(x,w);z(Ce),Nn(Ce.focusPath)}if(ue==="Left"||ue==="Shift+Left"){V.preventDefault();const Ce=w.selection?FI(x,w,_e,!y)||w.selection:oa(x,w);z(Ce),Nn(Ce.focusPath)}if(ue==="Right"||ue==="Shift+Right"){V.preventDefault();const Ce=w.selection?VI(x,w,_e,!y)||w.selection:oa(x,w);z(Ce),Nn(Ce.focusPath)}if(ue==="Enter"&&w.selection){if(!y&&Ft(w.selection)&&w.selection.paths.length===1){const Ce=w.selection.focusPath,st=Ke(x,Rt(Ce));Array.isArray(st)&&z(Zt(Ce,!1))}if(!y&&mn(w.selection)&&(V.preventDefault(),z({...w.selection,edit:!0})),Bt(w.selection)){V.preventDefault();const Ce=Ke(x,w.selection.focusPath);xn(Ce)?Al(w.selection.focusPath,!0):y||z({...w.selection,edit:!0})}}if(ue.length===(ue.startsWith("Shift+")?7:1)&&w.selection){V.preventDefault(),Wt(V.key);return}if(ue==="Enter"&&(Ni(w.selection)||_n(w.selection))){V.preventDefault(),Wt("");return}if(ue==="Ctrl+Enter"&&Bt(w.selection)){const Ce=Ke(x,w.selection.focusPath);Lh(Ce)&&window.open(String(Ce),"_blank")}if(ue==="Escape"&&w.selection&&(V.preventDefault(),z(void 0)),ue==="Ctrl+F"&&(V.preventDefault(),uu(!1)),ue==="Ctrl+H"&&(V.preventDefault(),uu(!0)),ue==="Ctrl+Z"){V.preventDefault();const Ce=document.activeElement;Ce&&Ce.blur&&Ce.focus?(Ce.blur(),setTimeout(()=>{dt(),setTimeout(()=>Ce.select())})):dt()}if(ue==="Ctrl+Shift+Z"){V.preventDefault();const Ce=document.activeElement;Ce&&Ce.blur&&Ce.focus?(Ce.blur(),setTimeout(()=>{ei(),setTimeout(()=>Ce.select())})):ei()}}function y_(V){r("handleMouseDown",V),setTimeout(()=>{setTimeout(()=>{!m&&!Bv(V.target,"BUTTON")&&(ti(),!w.selection&&x===void 0&&(N===""||N===void 0)&&fe())})})}function gs({anchor:V,left:ue,top:_e,width:Ce,height:st,offsetTop:bt,offsetLeft:sn,showTip:Sn}){const fn={json:x,documentState:w,showTip:Sn,onEditKey:nt,onEditValue:it,onToggleEnforceString:ft,onCut:Ye,onCopy:yt,onPaste:Dt,onRemove:_t,onDuplicate:vt,onExtract:xt,onInsertBefore:Ct,onInsert:qt,onConvert:un,onInsertAfter:Mn,onSort:qi,onTransform:cu,onCloseContextMenu(){u(Mo),ti()}};le=!0;const Mo=c(T9,fn,{left:ue,top:_e,offsetTop:bt,offsetLeft:sn,width:Ce,height:st,anchor:V,closeOnOuterClick:!0,onClose:()=>{le=!1,ti()}})}function Pl(V){if(!(y||qs(w.selection))){if(V&&(V.stopPropagation(),V.preventDefault()),V&&V.type==="contextmenu"&&V.target!==h)gs({left:V.clientX,top:V.clientY,width:Os,height:xs,showTip:!1});else{const ue=f==null?void 0:f.querySelector(".jse-context-menu-button.jse-selected");if(ue)gs({anchor:ue,offsetTop:2,width:Os,height:xs,showTip:!1});else{const _e=f==null?void 0:f.getBoundingClientRect();_e&&gs({top:_e.top+2,left:_e.left+2,width:Os,height:xs,showTip:!1})}}return!1}}function v_(V){y||gs({anchor:t8(V.target,"BUTTON"),offsetTop:0,width:Os,height:xs,showTip:!0})}async function b_(){r("apply pasted json",se);const{path:V,contents:ue}=se;z(Zt(V,!1)),await hn();const _e=[{op:"replace",path:Fe(V),value:ue}];nn(_e,(Ce,st)=>({state:yr(Ce,st,V)}))}function w_(){r("clear pasted json"),t(15,se=void 0)}function __(V){z(V),ti(),et(V.focusPath)}function ti(){r("focus"),h&&(h.focus(),h.select())}function k_(V){!bl(V.target,_e=>_e===d)&&qs(w.selection)&&(r("click outside the editor, stop edit mode"),z(_e=>mn(_e)?{..._e,edit:!1}:Bt(_e)?{..._e,edit:!1}:_e),m&&h&&(h.focus(),h.blur()),hn().then(()=>{setTimeout(()=>{h&&h.blur()})}))}function S_(V){i&&i.onDrag(V)}function C_(){i&&i.onDragEnd()}let fu;function x_(V){ge=V,t(16,ge)}function O_(V){pt[V?"unshift":"push"](()=>{h=V,t(11,h)})}function E_(V){pt[V?"unshift":"push"](()=>{f=V,t(6,f)})}function T_(V){pt[V?"unshift":"push"](()=>{d=V,t(12,d)})}return n.$$set=V=>{"readOnly"in V&&t(0,y=V.readOnly),"externalContent"in V&&t(47,p=V.externalContent),"mainMenuBar"in V&&t(1,v=V.mainMenuBar),"navigationBar"in V&&t(2,k=V.navigationBar),"escapeControlCharacters"in V&&t(48,b=V.escapeControlCharacters),"escapeUnicodeCharacters"in V&&t(49,S=V.escapeUnicodeCharacters),"validator"in V&&t(50,O=V.validator),"indentation"in V&&t(51,I=V.indentation),"onError"in V&&t(52,L=V.onError),"onChange"in V&&t(53,P=V.onChange),"onRenderValue"in V&&t(54,D=V.onRenderValue),"onRequestRepair"in V&&t(3,H=V.onRequestRepair),"onRenderMenu"in V&&t(4,F=V.onRenderMenu),"onClassName"in V&&t(55,q=V.onClassName),"onFocus"in V&&t(56,U=V.onFocus),"onBlur"in V&&t(57,B=V.onBlur),"onSortModal"in V&&t(58,Q=V.onSortModal),"onTransformModal"in V&&t(59,re=V.onTransformModal)},n.$$.update=()=>{n.$$.dirty[1]&393216&&t(68,J=Nv({escapeControlCharacters:b,escapeUnicodeCharacters:S})),n.$$.dirty[1]&65536&&Tt(p),n.$$.dirty[0]&128|n.$$.dirty[2]&128&&de(ze,x),n.$$.dirty[0]&384,n.$$.dirty[0]&128|n.$$.dirty[1]&524288&&be(x,O),n.$$.dirty[0]&512&&t(21,X=uI(W)),n.$$.dirty[0]&64&&(i=f?bI(f):void 0),n.$$.dirty[0]&1|n.$$.dirty[1]&25165824|n.$$.dirty[2]&64&&t(10,fu={readOnly:y,normalization:J,getJson:Je,getDocumentState:je,findElement:jt,focus:ti,onPatch:nn,onInsert:At,onExpand:Al,onSelect:z,onFind:uu,onExpandSection:m_,onPasteJson:p_,onRenderValue:D,onContextMenu:gs,onClassName:q||(()=>{}),onDrag:S_,onDragEnd:C_}),n.$$.dirty[0]&1024&&r("context changed",fu)},[y,v,k,H,F,Mt,f,x,N,W,fu,h,d,w,C,se,ge,ve,Pe,mt,T,X,o,ie,Me,ae,Re,Le,rt,Oe,lt,yt,ht,dt,ei,To,Y,h_,d_,g_,y_,Pl,v_,b_,w_,__,k_,p,b,S,O,I,L,P,D,q,U,B,Q,re,It,Ae,Je,Ie,xi,et,jt,ti,J,ze,x_,O_,E_,T_]}class Wd extends Xe{constructor(e){super(),Qe(this,e,oD,rD,Et,{readOnly:0,externalContent:47,mainMenuBar:1,navigationBar:2,escapeControlCharacters:48,escapeUnicodeCharacters:49,validator:50,indentation:51,onError:52,onChange:53,onRenderValue:54,onRequestRepair:3,onRenderMenu:4,onClassName:55,onFocus:56,onBlur:57,onSortModal:58,onTransformModal:59,expand:60,validate:61,getJson:62,patch:63,acceptAutoRepair:5,openTransformModal:64,scrollTo:65,findElement:66,focus:67},null,[-1,-1,-1,-1,-1])}get expand(){return this.$$.ctx[60]}get validate(){return this.$$.ctx[61]}get getJson(){return this.$$.ctx[62]}get patch(){return this.$$.ctx[63]}get acceptAutoRepair(){return this.$$.ctx[5]}get openTransformModal(){return this.$$.ctx[64]}get scrollTo(){return this.$$.ctx[65]}get findElement(){return this.$$.ctx[66]}get focus(){return this.$$.ctx[67]}}const sD=`
<p>
  Enter a JavaScript function to filter, sort, or transform the data.
</p>
`,lD={id:"javascript",name:"JavaScript",description:sD,createQuery:aD,executeQuery:cD};function aD(n,e){const{filter:t,sort:i,projection:r}=e,o=[];if(t&&t.path&&t.relation&&t.value){const s=`item => item${Jr(t.path)}`,l=typeof NI(t.value)=="string"?`'${t.value}'`:t.value;o.push(`  data = data.filter(${s} ${t.relation} ${l})
`)}if(i&&i.path&&i.direction&&(i.direction==="desc"?o.push(`  data = data.slice().sort((a, b) => {
    // sort descending
    const valueA = a${Jr(i.path)}
    const valueB = b${Jr(i.path)}
    return valueA > valueB ? -1 : valueA < valueB ? 1 : 0
  })
`):o.push(`  data = data.slice().sort((a, b) => {
    // sort ascending
    const valueA = a${Jr(i.path)}
    const valueB = b${Jr(i.path)}
    return valueA > valueB ? 1 : valueA < valueB ? -1 : 0
  })
`)),r&&r.paths)if(r.paths.length>1){const s=r.paths.map(l=>{const a=l[l.length-1]||"item",c=`item${Jr(l)}`;return`    ${JSON.stringify(a)}: ${c}`});o.push(`  data = data.map(item => ({
${s.join(`,
`)}})
  )
`)}else{const s=`item${Jr(r.paths[0])}`;o.push(`  data = data.map(item => ${s})
`)}return o.push(`  return data
`),`function query (data) {
${o.join("")}}`}function cD(n,e){const i=new Function(`"use strict";

`+e+`

if (typeof query !== "function") {
  throw new Error("Cannot execute query: expecting a function named 'query' but is undefined")
}

return query;
`)()(n);return i!==void 0?i:null}function uD(n){let e,t,i,r,o,s;return t=new wt({props:{data:n[0]===!0?bc:wc}}),{c(){e=R("div"),ye(t.$$.fragment),_(e,"class","jse-boolean-toggle svelte-zs5o25"),_(e,"title",i=n[1]?`Boolean value ${n[0]}`:"Click to toggle this boolean value")},m(l,a){$(l,e,a),me(t,e,null),r=!0,o||(s=we(e,"mousedown",n[2]),o=!0)},p(l,[a]){const c={};a&1&&(c.data=l[0]===!0?bc:wc),t.$set(c),(!r||a&3&&i!==(i=l[1]?`Boolean value ${l[0]}`:"Click to toggle this boolean value"))&&_(e,"title",i)},i(l){r||(A(t.$$.fragment,l),r=!0)},o(l){j(t.$$.fragment,l),r=!1},d(l){l&&Z(e),pe(t),o=!1,s()}}}function fD(n,e,t){let{path:i}=e,{value:r}=e,{readOnly:o}=e,{onPatch:s}=e,{focus:l}=e;function a(c){c.stopPropagation(),!o&&(s([{op:"replace",path:Fe(i),value:!r}]),setTimeout(l))}return n.$$set=c=>{"path"in c&&t(3,i=c.path),"value"in c&&t(0,r=c.value),"readOnly"in c&&t(1,o=c.readOnly),"onPatch"in c&&t(4,s=c.onPatch),"focus"in c&&t(5,l=c.focus)},[r,o,a,i,s,l]}class hD extends Xe{constructor(e){super(),Qe(this,e,fD,uD,Et,{path:3,value:0,readOnly:1,onPatch:4,focus:5})}}const dD="modulepreload",mD=function(n){return"/"+n},F0={},pD=function(e,t,i){return!t||t.length===0?e():Promise.all(t.map(r=>{if(r=mD(r),r in F0)return;F0[r]=!0;const o=r.endsWith(".css"),s=o?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${r}"]${s}`))return;const l=document.createElement("link");if(l.rel=o?"stylesheet":dD,o||(l.as="script",l.crossOrigin=""),l.href=r,document.head.appendChild(l),o)return new Promise((a,c)=>{l.addEventListener("load",a),l.addEventListener("error",()=>c(new Error(`Unable to preload CSS for ${r}`)))})})).then(()=>e())};function gD(n){let e;return{c(){e=R("div"),_(e,"class","jse-color-picker-popup svelte-1las40j")},m(t,i){$(t,e,i),n[4](e)},p:xe,i:xe,o:xe,d(t){t&&Z(e),n[4](null)}}}function yD(n,e,t){let{color:i}=e,{onChange:r}=e,{showOnTop:o}=e,s,l;ki(async()=>{const c=(await pD(()=>import("./vanilla-picker.bc2093b3.js"),[])).default;l=new c({parent:s,color:i,popup:o?"top":"bottom",onDone(u){const h=u.rgba[3]===1?u.hex.substring(0,7):u.hex;r(h)}}),l.show()}),lo(()=>{l&&l.destroy()});function a(c){pt[c?"unshift":"push"](()=>{s=c,t(0,s)})}return n.$$set=c=>{"color"in c&&t(1,i=c.color),"onChange"in c&&t(2,r=c.onChange),"showOnTop"in c&&t(3,o=c.showOnTop)},[s,i,r,o,a]}class vD extends Xe{constructor(e){super(),Qe(this,e,yD,gD,tn,{color:1,onChange:2,showOnTop:3})}}function bD(n){let e,t,i,r;return{c(){e=R("button"),_(e,"class","jse-color-picker-button svelte-fk1u9y"),ni(e,"background",n[2]),_(e,"title",t=n[1]?`Color ${n[0]}`:"Click to open a color picker")},m(o,s){$(o,e,s),i||(r=we(e,"click",n[3]),i=!0)},p(o,[s]){s&4&&ni(e,"background",o[2]),s&3&&t!==(t=o[1]?`Color ${o[0]}`:"Click to open a color picker")&&_(e,"title",t)},i:xe,o:xe,d(o){o&&Z(e),i=!1,r()}}}function wD(n,e,t){let i;const{openAbsolutePopup:r}=si("absolute-popup");let{path:o}=e,{value:s}=e,{readOnly:l}=e,{onPatch:a}=e,{focus:c}=e;function u(d){a([{op:"replace",path:Fe(o),value:d}]),f()}function f(){c()}function h(d){if(l)return;const m=300,g=d.target.getBoundingClientRect().top,p=Zs(d.target).innerHeight-g<m&&g>m;r(vD,{color:s,onChange:u,showOnTop:p},{anchor:d.target,closeOnOuterClick:!0,onClose:f,offsetTop:18,offsetLeft:-8,height:m})}return n.$$set=d=>{"path"in d&&t(4,o=d.path),"value"in d&&t(0,s=d.value),"readOnly"in d&&t(1,l=d.readOnly),"onPatch"in d&&t(5,a=d.onPatch),"focus"in d&&t(6,c=d.focus)},n.$$.update=()=>{n.$$.dirty&1&&t(2,i=Zy(s))},[s,l,i,h,o,a,c]}class _D extends Xe{constructor(e){super(),Qe(this,e,wD,bD,Et,{path:4,value:0,readOnly:1,onPatch:5,focus:6})}}function Oh(n){const e=jh(n);return ss("jse-value","jse-"+e,{"jse-url":Lh(n),"jse-empty":typeof n=="string"&&n.length===0})}function kD(n){let e,t;return e=new r_({props:{value:n[1].escapeValue(n[0]),onChange:n[3],onCancel:n[4],onPaste:n[5],onFind:n[2],onValueClass:n[6]}}),{c(){ye(e.$$.fragment)},m(i,r){me(e,i,r),t=!0},p(i,[r]){const o={};r&3&&(o.value=i[1].escapeValue(i[0])),r&4&&(o.onFind=i[2]),e.$set(o)},i(i){t||(A(e.$$.fragment,i),t=!0)},o(i){j(e.$$.fragment,i),t=!1},d(i){pe(e,i)}}}function SD(n,e,t){let{path:i}=e,{value:r}=e,{normalization:o}=e,{enforceString:s}=e,{onPatch:l}=e,{onPasteJson:a}=e,{onSelect:c}=e,{onFind:u}=e,{focus:f}=e;function h(p){return s?p:yl(p)}function d(p,v){l([{op:"replace",path:Fe(i),value:h(o.unescapeValue(p))}],(k,b)=>{const S=v===io.NEXT_INSIDE?BI(k,b,i)||b.selection:Zt(i,!1);return{state:{...b,selection:S}}}),v!==io.SELF&&f()}function m(){c(Zt(i,!1)),f()}function g(p){try{const v=JSON.parse(p);xn(v)&&a({path:i,contents:v})}catch{}}function y(p){return Oh(h(o.unescapeValue(p)))}return n.$$set=p=>{"path"in p&&t(7,i=p.path),"value"in p&&t(0,r=p.value),"normalization"in p&&t(1,o=p.normalization),"enforceString"in p&&t(8,s=p.enforceString),"onPatch"in p&&t(9,l=p.onPatch),"onPasteJson"in p&&t(10,a=p.onPasteJson),"onSelect"in p&&t(11,c=p.onSelect),"onFind"in p&&t(2,u=p.onFind),"focus"in p&&t(12,f=p.focus)},[r,o,u,d,m,g,y,i,s,l,a,c,f]}class CD extends Xe{constructor(e){super(),Qe(this,e,SD,kD,Et,{path:7,value:0,normalization:1,enforceString:8,onPatch:9,onPasteJson:10,onSelect:11,onFind:2,focus:12})}}function xD(n){let e=po(n[1].escapeValue(n[0]))+"",t;return{c(){t=Be(e)},m(i,r){$(i,t,r)},p(i,r){r&3&&e!==(e=po(i[1].escapeValue(i[0]))+"")&&St(t,e)},i:xe,o:xe,d(i){i&&Z(t)}}}function OD(n){let e,t;return e=new i_({props:{text:n[1].escapeValue(n[0]),searchResultItems:n[2]}}),{c(){ye(e.$$.fragment)},m(i,r){me(e,i,r),t=!0},p(i,r){const o={};r&3&&(o.text=i[1].escapeValue(i[0])),r&4&&(o.searchResultItems=i[2]),e.$set(o)},i(i){t||(A(e.$$.fragment,i),t=!0)},o(i){j(e.$$.fragment,i),t=!1},d(i){pe(e,i)}}}function ED(n){let e,t,i,r,o,s,l,a;const c=[OD,xD],u=[];function f(h,d){return h[2]?0:1}return t=f(n),i=u[t]=c[t](n),{c(){e=R("div"),i.c(),_(e,"data-type","selectable-value"),_(e,"class",r=Pn(Oh(n[0]))+" svelte-wuf5jd"),_(e,"title",o=n[3]?"Ctrl+Click or Ctrl+Enter to open url in new window":null)},m(h,d){$(h,e,d),u[t].m(e,null),s=!0,l||(a=[we(e,"click",n[4]),we(e,"dblclick",n[5])],l=!0)},p(h,[d]){let m=t;t=f(h),t===m?u[t].p(h,d):(Ee(),j(u[m],1,1,()=>{u[m]=null}),Te(),i=u[t],i?i.p(h,d):(i=u[t]=c[t](h),i.c()),A(i,1),i.m(e,null)),(!s||d&1&&r!==(r=Pn(Oh(h[0]))+" svelte-wuf5jd"))&&_(e,"class",r),(!s||d&8&&o!==(o=h[3]?"Ctrl+Click or Ctrl+Enter to open url in new window":null))&&_(e,"title",o)},i(h){s||(A(i),s=!0)},o(h){j(i),s=!1},d(h){h&&Z(e),u[t].d(),l=!1,on(a)}}}function TD(n,e,t){let i,{path:r}=e,{value:o}=e,{readOnly:s}=e,{normalization:l}=e,{onSelect:a}=e,{searchResultItems:c}=e;function u(h){typeof o=="string"&&i&&h.ctrlKey&&(h.preventDefault(),h.stopPropagation(),window.open(o,"_blank"))}function f(h){s||(h.preventDefault(),a(Zt(r,!0)))}return n.$$set=h=>{"path"in h&&t(6,r=h.path),"value"in h&&t(0,o=h.value),"readOnly"in h&&t(7,s=h.readOnly),"normalization"in h&&t(1,l=h.normalization),"onSelect"in h&&t(8,a=h.onSelect),"searchResultItems"in h&&t(2,c=h.searchResultItems)},n.$$.update=()=>{n.$$.dirty&1&&t(3,i=Lh(o))},[o,l,c,i,u,f,r,s,a]}class MD extends Xe{constructor(e){super(),Qe(this,e,TD,ED,Et,{path:6,value:0,readOnly:7,normalization:1,onSelect:8,searchResultItems:2})}}function AD(n){let e,t,i,r,o,s;return t=new wt({props:{data:k9}}),{c(){e=R("div"),ye(t.$$.fragment),_(e,"class","jse-timestamp svelte-1u00zub")},m(l,a){$(l,e,a),me(t,e,null),r=!0,o||(s=dl(i=o_.call(null,e,{text:n[0],...n[1]})),o=!0)},p(l,[a]){i&&Pi(i.update)&&a&1&&i.update.call(null,{text:l[0],...l[1]})},i(l){r||(A(t.$$.fragment,l),r=!0)},o(l){j(t.$$.fragment,l),r=!1},d(l){l&&Z(e),pe(t),o=!1,s()}}}function PD(n,e,t){let i;const r=si("absolute-popup");let{value:o}=e;return n.$$set=s=>{"value"in s&&t(2,o=s.value)},n.$$.update=()=>{n.$$.dirty&4&&t(0,i=`Time: ${new Date(o).toString()}`)},[i,r,o]}class ID extends Xe{constructor(e){super(),Qe(this,e,PD,AD,Et,{value:2})}}function ND({path:n,value:e,readOnly:t,enforceString:i,searchResultItems:r,isEditing:o,normalization:s,onPatch:l,onPasteJson:a,onSelect:c,onFind:u,focus:f}){const h=[];return!o&&bS(e)&&h.push({component:hD,props:{path:n,value:e,readOnly:t,onPatch:l,focus:f}}),!o&&_S(e)&&h.push({component:_D,props:{path:n,value:e,readOnly:t,onPatch:l,focus:f}}),o&&h.push({component:CD,props:{path:n,value:e,enforceString:i,normalization:s,onPatch:l,onPasteJson:a,onSelect:c,onFind:u,focus:f}}),o||h.push({component:MD,props:{path:n,value:e,readOnly:t,normalization:s,searchResultItems:r,onSelect:c}}),!o&&wS(e)&&h.push({component:ID,props:{value:e}}),h}const Ei={};function DD(n,e){const t=n.getBoundingClientRect(),i=e.getBoundingClientRect(),r={};return r.top=t.top<0,r.left=t.left<0,r.bottom=t.bottom+i.height>(window.innerHeight||document.documentElement.clientHeight),r.right=t.right>(window.innerWidth||document.documentElement.clientWidth),r.any=r.top||r.left||r.bottom||r.right,r}function RD(n){let e,t=n[0](n[1],n[2])+"",i;return{c(){e=R("div"),_(e,"class",i="item "+n[3]+" svelte-3e0qet")},m(r,o){$(r,e,o),e.innerHTML=t},p(r,[o]){o&7&&t!==(t=r[0](r[1],r[2])+"")&&(e.innerHTML=t),o&8&&i!==(i="item "+r[3]+" svelte-3e0qet")&&_(e,"class",i)},i:xe,o:xe,d(r){r&&Z(e)}}}function jD(n,e,t){let{isActive:i=!1}=e,{isFirst:r=!1}=e,{isHover:o=!1}=e,{isSelectable:s=!1}=e,{getOptionLabel:l=void 0}=e,{item:a=void 0}=e,{filterText:c=""}=e,u="";return n.$$set=f=>{"isActive"in f&&t(4,i=f.isActive),"isFirst"in f&&t(5,r=f.isFirst),"isHover"in f&&t(6,o=f.isHover),"isSelectable"in f&&t(7,s=f.isSelectable),"getOptionLabel"in f&&t(0,l=f.getOptionLabel),"item"in f&&t(1,a=f.item),"filterText"in f&&t(2,c=f.filterText)},n.$$.update=()=>{if(n.$$.dirty&242){const f=[];i&&f.push("active"),r&&f.push("first"),o&&f.push("hover"),a.isGroupHeader&&f.push("groupHeader"),a.isGroupItem&&f.push("groupItem"),s||f.push("notSelectable"),t(3,u=f.join(" "))}},[l,a,c,u,i,r,o,s]}class a_ extends Xe{constructor(e){super(),Qe(this,e,jD,RD,tn,{isActive:4,isFirst:5,isHover:6,isSelectable:7,getOptionLabel:0,item:1,filterText:2})}}function V0(n,e,t){const i=n.slice();return i[41]=e[t],i[42]=t,i}function LD(n){let e,t,i=n[1],r=[];for(let l=0;l<i.length;l+=1)r[l]=q0(V0(n,i,l));const o=l=>j(r[l],1,1,()=>{r[l]=null});let s=null;return i.length||(s=H0(n)),{c(){for(let l=0;l<r.length;l+=1)r[l].c();e=Nt(),s&&s.c()},m(l,a){for(let c=0;c<r.length;c+=1)r[c].m(l,a);$(l,e,a),s&&s.m(l,a),t=!0},p(l,a){if(a[0]&114390){i=l[1];let c;for(c=0;c<i.length;c+=1){const u=V0(l,i,c);r[c]?(r[c].p(u,a),A(r[c],1)):(r[c]=q0(u),r[c].c(),A(r[c],1),r[c].m(e.parentNode,e))}for(Ee(),c=i.length;c<r.length;c+=1)o(c);Te(),!i.length&&s?s.p(l,a):i.length?s&&(s.d(1),s=null):(s=H0(l),s.c(),s.m(e.parentNode,e))}},i(l){if(!t){for(let a=0;a<i.length;a+=1)A(r[a]);t=!0}},o(l){r=r.filter(Boolean);for(let a=0;a<r.length;a+=1)j(r[a]);t=!1},d(l){Vn(r,l),l&&Z(e),s&&s.d(l)}}}function BD(n){let e,t,i;var r=n[3];function o(s){return{props:{items:s[1],itemHeight:s[8],$$slots:{default:[HD,({item:l,i:a})=>({41:l,42:a}),({item:l,i:a})=>[0,(l?1024:0)|(a?2048:0)]]},$$scope:{ctx:s}}}}return r&&(e=new r(o(n))),{c(){e&&ye(e.$$.fragment),t=Nt()},m(s,l){e&&me(e,s,l),$(s,t,l),i=!0},p(s,l){const a={};if(l[0]&2&&(a.items=s[1]),l[0]&256&&(a.itemHeight=s[8]),l[0]&9814|l[1]&11264&&(a.$$scope={dirty:l,ctx:s}),r!==(r=s[3])){if(e){Ee();const c=e;j(c.$$.fragment,1,0,()=>{pe(c,1)}),Te()}r?(e=new r(o(s)),ye(e.$$.fragment),A(e.$$.fragment,1),me(e,t.parentNode,t)):e=null}else r&&e.$set(a)},i(s){i||(e&&A(e.$$.fragment,s),i=!0)},o(s){e&&j(e.$$.fragment,s),i=!1},d(s){s&&Z(t),e&&pe(e,s)}}}function H0(n){let e,t=!n[11]&&z0(n);return{c(){t&&t.c(),e=Nt()},m(i,r){t&&t.m(i,r),$(i,e,r)},p(i,r){i[11]?t&&(t.d(1),t=null):t?t.p(i,r):(t=z0(i),t.c(),t.m(e.parentNode,e))},d(i){t&&t.d(i),i&&Z(e)}}}function z0(n){let e,t;return{c(){e=R("div"),t=Be(n[12]),_(e,"class","empty svelte-1uyqfml")},m(i,r){$(i,e,r),E(e,t)},p(i,r){r[0]&4096&&St(t,i[12])},d(i){i&&Z(e)}}}function FD(n){let e,t,i,r,o,s;var l=n[4];function a(h){return{props:{item:h[41],filterText:h[13],getOptionLabel:h[6],isFirst:Eh(h[42]),isActive:_c(h[41],h[9],h[10]),isHover:kc(h[2],h[41],h[42],h[1]),isSelectable:wo(h[41])}}}l&&(t=new l(a(n)));function c(){return n[29](n[42])}function u(){return n[30](n[42])}function f(...h){return n[31](n[41],n[42],...h)}return{c(){e=R("div"),t&&ye(t.$$.fragment),i=oe(),_(e,"class","listItem"),_(e,"tabindex","-1")},m(h,d){$(h,e,d),t&&me(t,e,null),E(e,i),r=!0,o||(s=[we(e,"mouseover",c),we(e,"focus",u),we(e,"click",f)],o=!0)},p(h,d){n=h;const m={};if(d[0]&2&&(m.item=n[41]),d[0]&8192&&(m.filterText=n[13]),d[0]&64&&(m.getOptionLabel=n[6]),d[0]&1538&&(m.isActive=_c(n[41],n[9],n[10])),d[0]&6&&(m.isHover=kc(n[2],n[41],n[42],n[1])),d[0]&2&&(m.isSelectable=wo(n[41])),l!==(l=n[4])){if(t){Ee();const g=t;j(g.$$.fragment,1,0,()=>{pe(g,1)}),Te()}l?(t=new l(a(n)),ye(t.$$.fragment),A(t.$$.fragment,1),me(t,e,i)):t=null}else l&&t.$set(m)},i(h){r||(t&&A(t.$$.fragment,h),r=!0)},o(h){t&&j(t.$$.fragment,h),r=!1},d(h){h&&Z(e),t&&pe(t),o=!1,on(s)}}}function VD(n){let e,t=n[7](n[41])+"",i;return{c(){e=R("div"),i=Be(t),_(e,"class","listGroupTitle svelte-1uyqfml")},m(r,o){$(r,e,o),E(e,i)},p(r,o){o[0]&130&&t!==(t=r[7](r[41])+"")&&St(i,t)},i:xe,o:xe,d(r){r&&Z(e)}}}function q0(n){let e,t,i,r;const o=[VD,FD],s=[];function l(a,c){return a[41].isGroupHeader&&!a[41].isSelectable?0:1}return e=l(n),t=s[e]=o[e](n),{c(){t.c(),i=Nt()},m(a,c){s[e].m(a,c),$(a,i,c),r=!0},p(a,c){let u=e;e=l(a),e===u?s[e].p(a,c):(Ee(),j(s[u],1,1,()=>{s[u]=null}),Te(),t=s[e],t?t.p(a,c):(t=s[e]=o[e](a),t.c()),A(t,1),t.m(i.parentNode,i))},i(a){r||(A(t),r=!0)},o(a){j(t),r=!1},d(a){s[e].d(a),a&&Z(i)}}}function HD(n){let e,t,i,r,o;var s=n[4];function l(f){return{props:{item:f[41],filterText:f[13],getOptionLabel:f[6],isFirst:Eh(f[42]),isActive:_c(f[41],f[9],f[10]),isHover:kc(f[2],f[41],f[42],f[1]),isSelectable:wo(f[41])}}}s&&(t=new s(l(n)));function a(){return n[26](n[42])}function c(){return n[27](n[42])}function u(...f){return n[28](n[41],n[42],...f)}return{c(){e=R("div"),t&&ye(t.$$.fragment),_(e,"class","listItem")},m(f,h){$(f,e,h),t&&me(t,e,null),i=!0,r||(o=[we(e,"mouseover",a),we(e,"focus",c),we(e,"click",u)],r=!0)},p(f,h){n=f;const d={};if(h[1]&1024&&(d.item=n[41]),h[0]&8192&&(d.filterText=n[13]),h[0]&64&&(d.getOptionLabel=n[6]),h[1]&2048&&(d.isFirst=Eh(n[42])),h[0]&1536|h[1]&1024&&(d.isActive=_c(n[41],n[9],n[10])),h[0]&6|h[1]&3072&&(d.isHover=kc(n[2],n[41],n[42],n[1])),h[1]&1024&&(d.isSelectable=wo(n[41])),s!==(s=n[4])){if(t){Ee();const m=t;j(m.$$.fragment,1,0,()=>{pe(m,1)}),Te()}s?(t=new s(l(n)),ye(t.$$.fragment),A(t.$$.fragment,1),me(t,e,null)):t=null}else s&&t.$set(d)},i(f){i||(t&&A(t.$$.fragment,f),i=!0)},o(f){t&&j(t.$$.fragment,f),i=!1},d(f){f&&Z(e),t&&pe(t),r=!1,on(o)}}}function zD(n){let e,t,i,r,o,s;const l=[BD,LD],a=[];function c(u,f){return u[5]?0:1}return t=c(n),i=a[t]=l[t](n),{c(){e=R("div"),i.c(),_(e,"class","listContainer svelte-1uyqfml"),_(e,"style",n[14]),Ne(e,"virtualList",n[5])},m(u,f){$(u,e,f),a[t].m(e,null),n[32](e),r=!0,o||(s=[we(window,"keydown",n[17]),we(window,"resize",n[18])],o=!0)},p(u,f){let h=t;t=c(u),t===h?a[t].p(u,f):(Ee(),j(a[h],1,1,()=>{a[h]=null}),Te(),i=a[t],i?i.p(u,f):(i=a[t]=l[t](u),i.c()),A(i,1),i.m(e,null)),(!r||f[0]&16384)&&_(e,"style",u[14]),f[0]&32&&Ne(e,"virtualList",u[5])},i(u){r||(A(i),r=!0)},o(u){j(i),r=!1},d(u){u&&Z(e),a[t].d(),n[32](null),o=!1,on(s)}}}function _c(n,e,t){return e&&e[t]===n[t]}function Eh(n){return n===0}function kc(n,e,t,i){return wo(e)&&(n===t||i.length===1)}function wo(n){return n.isGroupHeader&&n.isSelectable||n.selectable||!n.hasOwnProperty("selectable")}function qD(n,e,t){const i=ml();let{container:r=void 0}=e,{VirtualList:o=null}=e,{Item:s=a_}=e,{isVirtualList:l=!1}=e,{items:a=[]}=e,{labelIdentifier:c="label"}=e,{getOptionLabel:u=(ee,ge)=>{if(ee)return ee.isCreator?`Create "${ge}"`:ee[c]}}=e,{getGroupHeaderLabel:f=null}=e,{itemHeight:h=40}=e,{hoverItemIndex:d=0}=e,{value:m=void 0}=e,{optionIdentifier:g="value"}=e,{hideEmptyState:y=!1}=e,{noOptionsMessage:p="No options"}=e,{isMulti:v=!1}=e,{activeItemIndex:k=0}=e,{filterText:b=""}=e,{parent:S=null}=e,{listPlacement:O=null}=e,{listAutoWidth:I=null}=e,{listOffset:L=5}=e,P=0,D=!1,H;ki(()=>{if(a.length>0&&!v&&m){const ee=a.findIndex(ge=>ge[g]===m[g]);ee&&t(2,d=ee)}le("active"),r.addEventListener("scroll",()=>{clearTimeout(P),P=setTimeout(()=>{D=!1},100)},!1)}),Ny(()=>{a||t(1,a=[]),a!==H&&a.length>0&&t(2,d=0),H=a});function F(ee){ee.isCreator||i("itemSelected",ee)}function q(ee){D||t(2,d=ee)}function U(ee){const{item:ge,i:ve,event:Pe}=ee;if(Pe.stopPropagation(),m&&!v&&m[g]===ge[g])return B();ge.isCreator?i("itemCreated",b):wo(ge)&&(t(19,k=ve),t(2,d=ve),F(ge))}function B(){i("closeList")}async function Q(ee){if(l)return;let ge=!0;for(;ge;)ee>0&&d===a.length-1?t(2,d=0):ee<0&&d===0?t(2,d=a.length-1):t(2,d=d+ee),ge=!wo(a[d]);await hn(),le("hover")}function re(ee){switch(ee.key){case"Escape":ee.preventDefault(),B();break;case"ArrowDown":ee.preventDefault(),a.length&&Q(1);break;case"ArrowUp":ee.preventDefault(),a.length&&Q(-1);break;case"Enter":if(ee.preventDefault(),a.length===0)break;const ge=a[d];if(m&&!v&&m[g]===ge[g]){B();break}ge.isCreator?i("itemCreated",b):(t(19,k=d),F(a[d]));break;case"Tab":if(ee.preventDefault(),a.length===0||m&&m[g]===a[d][g])return B();t(19,k=d),F(a[d]);break}}function le(ee){if(l||!r)return;let ge;const ve=r.querySelector(`.listItem .${ee}`);ve&&(ge=r.getBoundingClientRect().bottom-ve.getBoundingClientRect().bottom),t(0,r.scrollTop-=ge,r)}let x;function N(){const{height:ee,width:ge}=S.getBoundingClientRect();t(14,x=""),t(14,x+=`min-width:${ge}px;width:${I?"auto":"100%"};`),O==="top"||O==="auto"&&DD(S,r).bottom?t(14,x+=`bottom:${ee+L}px;`):t(14,x+=`top:${ee+L}px;`)}const ie=ee=>q(ee),ne=ee=>q(ee),z=(ee,ge,ve)=>U({item:ee,i:ge,event:ve}),w=ee=>q(ee),C=ee=>q(ee),J=(ee,ge,ve)=>U({item:ee,i:ge,event:ve});function se(ee){pt[ee?"unshift":"push"](()=>{r=ee,t(0,r)})}return n.$$set=ee=>{"container"in ee&&t(0,r=ee.container),"VirtualList"in ee&&t(3,o=ee.VirtualList),"Item"in ee&&t(4,s=ee.Item),"isVirtualList"in ee&&t(5,l=ee.isVirtualList),"items"in ee&&t(1,a=ee.items),"labelIdentifier"in ee&&t(20,c=ee.labelIdentifier),"getOptionLabel"in ee&&t(6,u=ee.getOptionLabel),"getGroupHeaderLabel"in ee&&t(7,f=ee.getGroupHeaderLabel),"itemHeight"in ee&&t(8,h=ee.itemHeight),"hoverItemIndex"in ee&&t(2,d=ee.hoverItemIndex),"value"in ee&&t(9,m=ee.value),"optionIdentifier"in ee&&t(10,g=ee.optionIdentifier),"hideEmptyState"in ee&&t(11,y=ee.hideEmptyState),"noOptionsMessage"in ee&&t(12,p=ee.noOptionsMessage),"isMulti"in ee&&t(21,v=ee.isMulti),"activeItemIndex"in ee&&t(19,k=ee.activeItemIndex),"filterText"in ee&&t(13,b=ee.filterText),"parent"in ee&&t(22,S=ee.parent),"listPlacement"in ee&&t(23,O=ee.listPlacement),"listAutoWidth"in ee&&t(24,I=ee.listAutoWidth),"listOffset"in ee&&t(25,L=ee.listOffset)},n.$$.update=()=>{n.$$.dirty[0]&4194305&&S&&r&&N()},[r,a,d,o,s,l,u,f,h,m,g,y,p,b,x,q,U,re,N,k,c,v,S,O,I,L,ie,ne,z,w,C,J,se]}class WD extends Xe{constructor(e){super(),Qe(this,e,qD,zD,tn,{container:0,VirtualList:3,Item:4,isVirtualList:5,items:1,labelIdentifier:20,getOptionLabel:6,getGroupHeaderLabel:7,itemHeight:8,hoverItemIndex:2,value:9,optionIdentifier:10,hideEmptyState:11,noOptionsMessage:12,isMulti:21,activeItemIndex:19,filterText:13,parent:22,listPlacement:23,listAutoWidth:24,listOffset:25},null,[-1,-1])}}function UD(n){let e,t=n[0](n[1])+"";return{c(){e=R("div"),_(e,"class","selection svelte-pu1q1n")},m(i,r){$(i,e,r),e.innerHTML=t},p(i,[r]){r&3&&t!==(t=i[0](i[1])+"")&&(e.innerHTML=t)},i:xe,o:xe,d(i){i&&Z(e)}}}function KD(n,e,t){let{getSelectionLabel:i=void 0}=e,{item:r=void 0}=e;return n.$$set=o=>{"getSelectionLabel"in o&&t(0,i=o.getSelectionLabel),"item"in o&&t(1,r=o.item)},[i,r]}class JD extends Xe{constructor(e){super(),Qe(this,e,KD,UD,tn,{getSelectionLabel:0,item:1})}}function W0(n,e,t){const i=n.slice();return i[9]=e[t],i[11]=t,i}function U0(n){let e,t,i;function r(...o){return n[6](n[11],...o)}return{c(){e=R("div"),e.innerHTML='<svg width="100%" height="100%" viewBox="-2 -2 50 50" focusable="false" aria-hidden="true" role="presentation" class="svelte-liu9pa"><path d="M34.923,37.251L24,26.328L13.077,37.251L9.436,33.61l10.923-10.923L9.436,11.765l3.641-3.641L24,19.047L34.923,8.124 l3.641,3.641L27.641,22.688L38.564,33.61L34.923,37.251z"></path></svg>',_(e,"class","multiSelectItem_clear svelte-liu9pa")},m(o,s){$(o,e,s),t||(i=we(e,"click",r),t=!0)},p(o,s){n=o},d(o){o&&Z(e),t=!1,i()}}}function K0(n){let e,t,i=n[4](n[9])+"",r,o,s,l,a,c=!n[2]&&!n[3]&&U0(n);function u(...f){return n[7](n[11],...f)}return{c(){e=R("div"),t=R("div"),r=oe(),c&&c.c(),o=oe(),_(t,"class","multiSelectItem_label svelte-liu9pa"),_(e,"class",s="multiSelectItem "+(n[1]===n[11]?"active":"")+" "+(n[2]?"disabled":"")+" svelte-liu9pa")},m(f,h){$(f,e,h),E(e,t),t.innerHTML=i,E(e,r),c&&c.m(e,null),E(e,o),l||(a=we(e,"click",u),l=!0)},p(f,h){n=f,h&17&&i!==(i=n[4](n[9])+"")&&(t.innerHTML=i),!n[2]&&!n[3]?c?c.p(n,h):(c=U0(n),c.c(),c.m(e,o)):c&&(c.d(1),c=null),h&6&&s!==(s="multiSelectItem "+(n[1]===n[11]?"active":"")+" "+(n[2]?"disabled":"")+" svelte-liu9pa")&&_(e,"class",s)},d(f){f&&Z(e),c&&c.d(),l=!1,a()}}}function GD(n){let e,t=n[0],i=[];for(let r=0;r<t.length;r+=1)i[r]=K0(W0(n,t,r));return{c(){for(let r=0;r<i.length;r+=1)i[r].c();e=Nt()},m(r,o){for(let s=0;s<i.length;s+=1)i[s].m(r,o);$(r,e,o)},p(r,[o]){if(o&63){t=r[0];let s;for(s=0;s<t.length;s+=1){const l=W0(r,t,s);i[s]?i[s].p(l,o):(i[s]=K0(l),i[s].c(),i[s].m(e.parentNode,e))}for(;s<i.length;s+=1)i[s].d(1);i.length=t.length}},i:xe,o:xe,d(r){Vn(i,r),r&&Z(e)}}}function QD(n,e,t){const i=ml();let{value:r=[]}=e,{activeValue:o=void 0}=e,{isDisabled:s=!1}=e,{multiFullItemClearable:l=!1}=e,{getSelectionLabel:a=void 0}=e;function c(h,d){d.stopPropagation(),i("multiItemClear",{i:h})}const u=(h,d)=>c(h,d),f=(h,d)=>l?c(h,d):{};return n.$$set=h=>{"value"in h&&t(0,r=h.value),"activeValue"in h&&t(1,o=h.activeValue),"isDisabled"in h&&t(2,s=h.isDisabled),"multiFullItemClearable"in h&&t(3,l=h.multiFullItemClearable),"getSelectionLabel"in h&&t(4,a=h.getSelectionLabel)},[r,o,s,l,a,c,u,f]}class XD extends Xe{constructor(e){super(),Qe(this,e,QD,GD,tn,{value:0,activeValue:1,isDisabled:2,multiFullItemClearable:3,getSelectionLabel:4})}}function J0(n,e,t){const i=n.slice();return i[23]=e[t],i}const YD=n=>({item:n&32,i:n&32,hoverItemIndex:n&2}),G0=n=>({item:n[23].data,i:n[23].index,hoverItemIndex:n[1]});function ZD(n){let e;return{c(){e=Be("Missing template")},m(t,i){$(t,e,i)},d(t){t&&Z(e)}}}function Q0(n,e){let t,i,r;const o=e[15].default,s=Ri(o,e,e[14],G0),l=s||ZD();return{key:n,first:null,c(){t=R("svelte-virtual-list-row"),l&&l.c(),i=oe(),sf(t,"class","svelte-g2cagw"),this.first=t},m(a,c){$(a,t,c),l&&l.m(t,null),E(t,i),r=!0},p(a,c){e=a,s&&s.p&&(!r||c&16418)&&Li(s,o,e,e[14],r?ji(o,e[14],c,YD):Bi(e[14]),G0)},i(a){r||(A(l,a),r=!0)},o(a){j(l,a),r=!1},d(a){a&&Z(t),l&&l.d(a)}}}function $D(n){let e,t,i=[],r=new Map,o,s,l,a,c=n[5];const u=f=>f[23].index;for(let f=0;f<c.length;f+=1){let h=J0(n,c,f),d=u(h);r.set(d,i[f]=Q0(d,h))}return{c(){e=R("svelte-virtual-list-viewport"),t=R("svelte-virtual-list-contents");for(let f=0;f<i.length;f+=1)i[f].c();ni(t,"padding-top",n[6]+"px"),ni(t,"padding-bottom",n[7]+"px"),sf(t,"class","svelte-g2cagw"),ni(e,"height",n[0]),sf(e,"class","svelte-g2cagw"),ao(()=>n[18].call(e))},m(f,h){$(f,e,h),E(e,t);for(let d=0;d<i.length;d+=1)i[d].m(t,null);n[16](t),n[17](e),o=L_(e,n[18].bind(e)),s=!0,l||(a=we(e,"scroll",n[8]),l=!0)},p(f,[h]){h&16418&&(c=f[5],Ee(),i=pl(i,h,u,1,f,c,r,t,xc,Q0,null,J0),Te()),(!s||h&64)&&ni(t,"padding-top",f[6]+"px"),(!s||h&128)&&ni(t,"padding-bottom",f[7]+"px"),(!s||h&1)&&ni(e,"height",f[0])},i(f){if(!s){for(let h=0;h<c.length;h+=1)A(i[h]);s=!0}},o(f){for(let h=0;h<i.length;h+=1)j(i[h]);s=!1},d(f){f&&Z(e);for(let h=0;h<i.length;h+=1)i[h].d();n[16](null),n[17](null),o(),l=!1,a()}}}function eR(n,e,t){let{$$slots:i={},$$scope:r}=e,{items:o=void 0}=e,{height:s="100%"}=e,{itemHeight:l=40}=e,{hoverItemIndex:a=0}=e,{start:c=0}=e,{end:u=0}=e,f=[],h,d,m,g=0,y,p,v=0,k=0,b;async function S(D,H,F){const{scrollTop:q}=d;await hn();let U=v-q,B=c;for(;U<H&&B<D.length;){let re=h[B-c];re||(t(10,u=B+1),await hn(),re=h[B-c]),U+=f[B]=F||re.offsetHeight,B+=1}t(10,u=B);const Q=D.length-u;b=(v+U)/u,t(7,k=Q*b),f.length=D.length,d&&t(3,d.scrollTop=0,d)}async function O(){const{scrollTop:D}=d,H=c;for(let B=0;B<h.length;B+=1)f[c+B]=l||h[B].offsetHeight;let F=0,q=0;for(;F<o.length;){const B=f[F]||b;if(q+B>D){t(9,c=F),t(6,v=q);break}q+=B,F+=1}for(;F<o.length&&(q+=f[F]||b,F+=1,!(q>D+g)););t(10,u=F);const U=o.length-u;for(b=q/u;F<o.length;)f[F++]=b;if(t(7,k=U*b),c<H){await hn();let B=0,Q=0;for(let le=c;le<H;le+=1)h[le-c]&&(B+=f[le],Q+=l||h[le-c].offsetHeight);const re=Q-B;d.scrollTo(0,D+re)}}ki(()=>{h=m.getElementsByTagName("svelte-virtual-list-row"),t(13,p=!0)});function I(D){pt[D?"unshift":"push"](()=>{m=D,t(4,m)})}function L(D){pt[D?"unshift":"push"](()=>{d=D,t(3,d)})}function P(){g=this.offsetHeight,t(2,g)}return n.$$set=D=>{"items"in D&&t(11,o=D.items),"height"in D&&t(0,s=D.height),"itemHeight"in D&&t(12,l=D.itemHeight),"hoverItemIndex"in D&&t(1,a=D.hoverItemIndex),"start"in D&&t(9,c=D.start),"end"in D&&t(10,u=D.end),"$$scope"in D&&t(14,r=D.$$scope)},n.$$.update=()=>{n.$$.dirty&3584&&t(5,y=o.slice(c,u).map((D,H)=>({index:H+c,data:D}))),n.$$.dirty&14340&&p&&S(o,g,l)},[s,a,g,d,m,y,v,k,O,c,u,o,l,p,r,i,I,L,P]}class tR extends Xe{constructor(e){super(),Qe(this,e,eR,$D,tn,{items:11,height:0,itemHeight:12,hoverItemIndex:1,start:9,end:10})}}function nR(n){let e,t;return{c(){e=hr("svg"),t=hr("path"),_(t,"fill","currentColor"),_(t,"d",`M34.923,37.251L24,26.328L13.077,37.251L9.436,33.61l10.923-10.923L9.436,11.765l3.641-3.641L24,19.047L34.923,8.124
    l3.641,3.641L27.641,22.688L38.564,33.61L34.923,37.251z`),_(e,"width","100%"),_(e,"height","100%"),_(e,"viewBox","-2 -2 50 50"),_(e,"focusable","false"),_(e,"aria-hidden","true"),_(e,"role","presentation")},m(i,r){$(i,e,r),E(e,t)},p:xe,i:xe,o:xe,d(i){i&&Z(e)}}}class iR extends Xe{constructor(e){super(),Qe(this,e,null,nR,tn,{})}}function rR(n,e,t){let i;return function(){let o=this,s=arguments,l=function(){i=null,t||n.apply(o,s)},a=t&&!i;clearTimeout(i),i=setTimeout(l,e),a&&n.apply(o,s)}}function X0(n,e,t){const i=n.slice();return i[103]=e[t],i}function Y0(n){let e,t,i,r,o;return{c(){e=R("span"),t=Be(n[33]),i=oe(),r=R("span"),o=Be(n[32]),_(e,"id","aria-selection"),_(r,"id","aria-context")},m(s,l){$(s,e,l),E(e,t),$(s,i,l),$(s,r,l),E(r,o)},p(s,l){l[1]&4&&St(t,s[33]),l[1]&2&&St(o,s[32])},d(s){s&&Z(e),s&&Z(i),s&&Z(r)}}}function Z0(n){let e,t,i;const r=[n[18]];var o=n[17];function s(l){let a={};for(let c=0;c<r.length;c+=1)a=Wr(a,r[c]);return{props:a}}return o&&(e=new o(s())),{c(){e&&ye(e.$$.fragment),t=Nt()},m(l,a){e&&me(e,l,a),$(l,t,a),i=!0},p(l,a){const c=a[0]&262144?_o(r,[Oc(l[18])]):{};if(o!==(o=l[17])){if(e){Ee();const u=e;j(u.$$.fragment,1,0,()=>{pe(u,1)}),Te()}o?(e=new o(s()),ye(e.$$.fragment),A(e.$$.fragment,1),me(e,t.parentNode,t)):e=null}else o&&e.$set(c)},i(l){i||(e&&A(e.$$.fragment,l),i=!0)},o(l){e&&j(e.$$.fragment,l),i=!1},d(l){l&&Z(t),e&&pe(e,l)}}}function $0(n){let e,t,i;var r=n[26];function o(s){return{props:{value:s[2],getSelectionLabel:s[12],activeValue:s[30],isDisabled:s[9],multiFullItemClearable:s[8]}}}return r&&(e=new r(o(n)),e.$on("multiItemClear",n[38]),e.$on("focus",n[40])),{c(){e&&ye(e.$$.fragment),t=Nt()},m(s,l){e&&me(e,s,l),$(s,t,l),i=!0},p(s,l){const a={};if(l[0]&4&&(a.value=s[2]),l[0]&4096&&(a.getSelectionLabel=s[12]),l[0]&1073741824&&(a.activeValue=s[30]),l[0]&512&&(a.isDisabled=s[9]),l[0]&256&&(a.multiFullItemClearable=s[8]),r!==(r=s[26])){if(e){Ee();const c=e;j(c.$$.fragment,1,0,()=>{pe(c,1)}),Te()}r?(e=new r(o(s)),e.$on("multiItemClear",s[38]),e.$on("focus",s[40]),ye(e.$$.fragment),A(e.$$.fragment,1),me(e,t.parentNode,t)):e=null}else r&&e.$set(a)},i(s){i||(e&&A(e.$$.fragment,s),i=!0)},o(s){e&&j(e.$$.fragment,s),i=!1},d(s){s&&Z(t),e&&pe(e,s)}}}function ey(n){let e,t,i,r,o;var s=n[25];function l(a){return{props:{item:a[2],getSelectionLabel:a[12]}}}return s&&(t=new s(l(n))),{c(){e=R("div"),t&&ye(t.$$.fragment),_(e,"class","selectedItem svelte-17l1npl")},m(a,c){$(a,e,c),t&&me(t,e,null),i=!0,r||(o=we(e,"focus",n[40]),r=!0)},p(a,c){const u={};if(c[0]&4&&(u.item=a[2]),c[0]&4096&&(u.getSelectionLabel=a[12]),s!==(s=a[25])){if(t){Ee();const f=t;j(f.$$.fragment,1,0,()=>{pe(f,1)}),Te()}s?(t=new s(l(a)),ye(t.$$.fragment),A(t.$$.fragment,1),me(t,e,null)):t=null}else s&&t.$set(u)},i(a){i||(t&&A(t.$$.fragment,a),i=!0)},o(a){t&&j(t.$$.fragment,a),i=!1},d(a){a&&Z(e),t&&pe(t),r=!1,o()}}}function ty(n){let e,t,i,r,o;var s=n[23];function l(a){return{}}return s&&(t=new s(l())),{c(){e=R("div"),t&&ye(t.$$.fragment),_(e,"class","clearSelect svelte-17l1npl"),_(e,"aria-hidden","true")},m(a,c){$(a,e,c),t&&me(t,e,null),i=!0,r||(o=we(e,"click",D_(n[27])),r=!0)},p(a,c){if(s!==(s=a[23])){if(t){Ee();const u=t;j(u.$$.fragment,1,0,()=>{pe(u,1)}),Te()}s?(t=new s(l()),ye(t.$$.fragment),A(t.$$.fragment,1),me(t,e,null)):t=null}},i(a){i||(t&&A(t.$$.fragment,a),i=!0)},o(a){t&&j(t.$$.fragment,a),i=!1},d(a){a&&Z(e),t&&pe(t),r=!1,o()}}}function ny(n){let e;function t(o,s){return o[22]?sR:oR}let i=t(n),r=i(n);return{c(){e=R("div"),r.c(),_(e,"class","indicator svelte-17l1npl"),_(e,"aria-hidden","true")},m(o,s){$(o,e,s),r.m(e,null)},p(o,s){i===(i=t(o))&&r?r.p(o,s):(r.d(1),r=i(o),r&&(r.c(),r.m(e,null)))},d(o){o&&Z(e),r.d()}}}function oR(n){let e,t;return{c(){e=hr("svg"),t=hr("path"),_(t,"d",`M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747
          3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0
          1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502
          0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0
          0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z`),_(e,"width","100%"),_(e,"height","100%"),_(e,"viewBox","0 0 20 20"),_(e,"focusable","false"),_(e,"aria-hidden","true"),_(e,"class","svelte-17l1npl")},m(i,r){$(i,e,r),E(e,t)},p:xe,d(i){i&&Z(e)}}}function sR(n){let e,t;return{c(){e=new B_(!1),t=Nt(),e.a=t},m(i,r){e.m(n[22],i,r),$(i,t,r)},p(i,r){r[0]&4194304&&e.p(i[22])},d(i){i&&Z(t),i&&e.d()}}}function iy(n){let e;return{c(){e=R("div"),e.innerHTML='<svg class="spinner_icon svelte-17l1npl" viewBox="25 25 50 50"><circle class="spinner_path svelte-17l1npl" cx="50" cy="50" r="20" fill="none" stroke="currentColor" stroke-width="5" stroke-miterlimit="10"></circle></svg>',_(e,"class","spinner svelte-17l1npl")},m(t,i){$(t,e,i)},d(t){t&&Z(e)}}}function ry(n){let e,t,i,r;const o=[n[34]];function s(c){n[84](c)}var l=n[24];function a(c){let u={};for(let f=0;f<o.length;f+=1)u=Wr(u,o[f]);return c[28]!==void 0&&(u.hoverItemIndex=c[28]),{props:u}}return l&&(e=new l(a(n)),pt.push(()=>Fn(e,"hoverItemIndex",s)),e.$on("itemSelected",n[43]),e.$on("itemCreated",n[44]),e.$on("closeList",n[45])),{c(){e&&ye(e.$$.fragment),i=Nt()},m(c,u){e&&me(e,c,u),$(c,i,u),r=!0},p(c,u){const f=u[1]&8?_o(o,[Oc(c[34])]):{};if(!t&&u[0]&268435456&&(t=!0,f.hoverItemIndex=c[28],zn(()=>t=!1)),l!==(l=c[24])){if(e){Ee();const h=e;j(h.$$.fragment,1,0,()=>{pe(h,1)}),Te()}l?(e=new l(a(c)),pt.push(()=>Fn(e,"hoverItemIndex",s)),e.$on("itemSelected",c[43]),e.$on("itemCreated",c[44]),e.$on("closeList",c[45]),ye(e.$$.fragment),A(e.$$.fragment,1),me(e,i.parentNode,i)):e=null}else l&&e.$set(f)},i(c){r||(e&&A(e.$$.fragment,c),r=!0)},o(c){e&&j(e.$$.fragment,c),r=!1},d(c){c&&Z(i),e&&pe(e,c)}}}function oy(n){let e,t,i;return{c(){e=R("input"),_(e,"name",t=n[16].name),_(e,"type","hidden"),e.value=i=n[2]?n[12](n[2]):null,_(e,"class","svelte-17l1npl")},m(r,o){$(r,e,o)},p(r,o){o[0]&65536&&t!==(t=r[16].name)&&_(e,"name",t),o[0]&4100&&i!==(i=r[2]?r[12](r[2]):null)&&(e.value=i)},d(r){r&&Z(e)}}}function sy(n){let e,t=n[2],i=[];for(let r=0;r<t.length;r+=1)i[r]=ly(X0(n,t,r));return{c(){for(let r=0;r<i.length;r+=1)i[r].c();e=Nt()},m(r,o){for(let s=0;s<i.length;s+=1)i[s].m(r,o);$(r,e,o)},p(r,o){if(o[0]&69636){t=r[2];let s;for(s=0;s<t.length;s+=1){const l=X0(r,t,s);i[s]?i[s].p(l,o):(i[s]=ly(l),i[s].c(),i[s].m(e.parentNode,e))}for(;s<i.length;s+=1)i[s].d(1);i.length=t.length}},d(r){Vn(i,r),r&&Z(e)}}}function ly(n){let e,t,i;return{c(){e=R("input"),_(e,"name",t=n[16].name),_(e,"type","hidden"),e.value=i=n[103]?n[12](n[103]):null,_(e,"class","svelte-17l1npl")},m(r,o){$(r,e,o)},p(r,o){o[0]&65536&&t!==(t=r[16].name)&&_(e,"name",t),o[0]&4100&&i!==(i=r[103]?r[12](r[103]):null)&&(e.value=i)},d(r){r&&Z(e)}}}function lR(n){let e,t,i,r,o,s,l,a,c,u,f,h,d,m,g,y,p,v,k=n[1]&&Y0(n),b=n[17]&&Z0(n),S=n[35]&&$0(n),O=[{readOnly:l=!n[13]},n[31],{placeholder:n[36]},{style:n[14]},{disabled:n[9]}],I={};for(let B=0;B<O.length;B+=1)I=Wr(I,O[B]);let L=!n[7]&&n[29]&&ey(n),P=n[37]&&ty(n),D=!n[37]&&(n[20]||n[19]&&!n[2]||!n[13]&&!n[9]&&!n[4]&&(n[29]&&!n[15]||!n[29]))&&ny(n),H=n[4]&&iy(),F=n[5]&&ry(n),q=(!n[7]||n[7]&&!n[35])&&oy(n),U=n[7]&&n[35]&&sy(n);return{c(){e=R("div"),t=R("span"),k&&k.c(),i=oe(),b&&b.c(),r=oe(),S&&S.c(),o=oe(),s=R("input"),a=oe(),L&&L.c(),c=oe(),P&&P.c(),u=oe(),D&&D.c(),f=oe(),H&&H.c(),h=oe(),F&&F.c(),d=oe(),q&&q.c(),m=oe(),U&&U.c(),_(t,"aria-live","polite"),_(t,"aria-atomic","false"),_(t,"aria-relevant","additions text"),_(t,"class","a11yText svelte-17l1npl"),Gd(s,I),Ne(s,"svelte-17l1npl",!0),_(e,"class",g="selectContainer "+n[21]+" svelte-17l1npl"),_(e,"style",n[11]),Ne(e,"hasError",n[10]),Ne(e,"multiSelect",n[7]),Ne(e,"disabled",n[9]),Ne(e,"focused",n[1])},m(B,Q){$(B,e,Q),E(e,t),k&&k.m(t,null),E(e,i),b&&b.m(e,null),E(e,r),S&&S.m(e,null),E(e,o),E(e,s),s.autofocus&&s.focus(),n[82](s),_i(s,n[3]),E(e,a),L&&L.m(e,null),E(e,c),P&&P.m(e,null),E(e,u),D&&D.m(e,null),E(e,f),H&&H.m(e,null),E(e,h),F&&F.m(e,null),E(e,d),q&&q.m(e,null),E(e,m),U&&U.m(e,null),n[85](e),y=!0,p||(v=[we(window,"click",n[41]),we(window,"focusin",n[41]),we(window,"keydown",n[39]),we(s,"focus",n[40]),we(s,"input",n[83]),we(e,"click",n[42])],p=!0)},p(B,Q){B[1]?k?k.p(B,Q):(k=Y0(B),k.c(),k.m(t,null)):k&&(k.d(1),k=null),B[17]?b?(b.p(B,Q),Q[0]&131072&&A(b,1)):(b=Z0(B),b.c(),A(b,1),b.m(e,r)):b&&(Ee(),j(b,1,1,()=>{b=null}),Te()),B[35]?S?(S.p(B,Q),Q[1]&16&&A(S,1)):(S=$0(B),S.c(),A(S,1),S.m(e,o)):S&&(Ee(),j(S,1,1,()=>{S=null}),Te()),Gd(s,I=_o(O,[(!y||Q[0]&8192&&l!==(l=!B[13]))&&{readOnly:l},Q[1]&1&&B[31],(!y||Q[1]&32)&&{placeholder:B[36]},(!y||Q[0]&16384)&&{style:B[14]},(!y||Q[0]&512)&&{disabled:B[9]}])),Q[0]&8&&s.value!==B[3]&&_i(s,B[3]),Ne(s,"svelte-17l1npl",!0),!B[7]&&B[29]?L?(L.p(B,Q),Q[0]&536871040&&A(L,1)):(L=ey(B),L.c(),A(L,1),L.m(e,c)):L&&(Ee(),j(L,1,1,()=>{L=null}),Te()),B[37]?P?(P.p(B,Q),Q[1]&64&&A(P,1)):(P=ty(B),P.c(),A(P,1),P.m(e,u)):P&&(Ee(),j(P,1,1,()=>{P=null}),Te()),!B[37]&&(B[20]||B[19]&&!B[2]||!B[13]&&!B[9]&&!B[4]&&(B[29]&&!B[15]||!B[29]))?D?D.p(B,Q):(D=ny(B),D.c(),D.m(e,f)):D&&(D.d(1),D=null),B[4]?H||(H=iy(),H.c(),H.m(e,h)):H&&(H.d(1),H=null),B[5]?F?(F.p(B,Q),Q[0]&32&&A(F,1)):(F=ry(B),F.c(),A(F,1),F.m(e,d)):F&&(Ee(),j(F,1,1,()=>{F=null}),Te()),!B[7]||B[7]&&!B[35]?q?q.p(B,Q):(q=oy(B),q.c(),q.m(e,m)):q&&(q.d(1),q=null),B[7]&&B[35]?U?U.p(B,Q):(U=sy(B),U.c(),U.m(e,null)):U&&(U.d(1),U=null),(!y||Q[0]&2097152&&g!==(g="selectContainer "+B[21]+" svelte-17l1npl"))&&_(e,"class",g),(!y||Q[0]&2048)&&_(e,"style",B[11]),Q[0]&2098176&&Ne(e,"hasError",B[10]),Q[0]&2097280&&Ne(e,"multiSelect",B[7]),Q[0]&2097664&&Ne(e,"disabled",B[9]),Q[0]&2097154&&Ne(e,"focused",B[1])},i(B){y||(A(b),A(S),A(L),A(P),A(F),y=!0)},o(B){j(b),j(S),j(L),j(P),j(F),y=!1},d(B){B&&Z(e),k&&k.d(),b&&b.d(),S&&S.d(),n[82](null),L&&L.d(),P&&P.d(),D&&D.d(),H&&H.d(),F&&F.d(),q&&q.d(),U&&U.d(),n[85](null),p=!1,on(v)}}}function ay(n){return n.map((e,t)=>({index:t,value:e,label:`${e}`}))}function aR(n,e,t){let i,r,o,s,l,a,c,u;const f=ml();let{id:h=null}=e,{container:d=void 0}=e,{input:m=void 0}=e,{isMulti:g=!1}=e,{multiFullItemClearable:y=!1}=e,{isDisabled:p=!1}=e,{isCreatable:v=!1}=e,{isFocused:k=!1}=e,{value:b=null}=e,{filterText:S=""}=e,{placeholder:O="Select..."}=e,{placeholderAlwaysShow:I=!1}=e,{items:L=null}=e,{itemFilter:P=(Y,et,jt)=>`${Y}`.toLowerCase().includes(et.toLowerCase())}=e,{groupBy:D=void 0}=e,{groupFilter:H=Y=>Y}=e,{isGroupHeaderSelectable:F=!1}=e,{getGroupHeaderLabel:q=Y=>Y[U]||Y.id}=e,{labelIdentifier:U="label"}=e,{getOptionLabel:B=(Y,et)=>Y.isCreator?`Create "${et}"`:Y[U]}=e,{optionIdentifier:Q="value"}=e,{loadOptions:re=void 0}=e,{hasError:le=!1}=e,{containerStyles:x=""}=e,{getSelectionLabel:N=Y=>Y?Y[U]:null}=e,{createGroupHeaderItem:ie=Y=>({value:Y,label:Y})}=e,{createItem:ne=Y=>({value:Y,label:Y})}=e;const z=()=>i;let{isSearchable:w=!0}=e,{inputStyles:C=""}=e,{isClearable:J=!0}=e,{isWaiting:se=!1}=e,{listPlacement:ee="auto"}=e,{listOpen:ge=!1}=e,{isVirtualList:ve=!1}=e,{loadOptionsInterval:Pe=300}=e,{noOptionsMessage:ze="No options"}=e,{hideEmptyState:Me=!1}=e,{inputAttributes:ae={}}=e,{listAutoWidth:Re=!0}=e,{itemHeight:Le=40}=e,{Icon:rt=void 0}=e,{iconProps:Oe={}}=e,{showChevron:ke=!1}=e,{showIndicator:ot=!1}=e,{containerClasses:lt=""}=e,{indicatorSvg:at=void 0}=e,{listOffset:mt=5}=e,{ClearIcon:It=iR}=e,{Item:de=a_}=e,{List:T=WD}=e,{Selection:W=JD}=e,{MultiSelection:X=XD}=e,{VirtualList:te=tR}=e;function be(Y){if(Y.loadOptions&&Y.filterText.length>0)return;if(!Y.items)return[];Y.items&&Y.items.length>0&&typeof Y.items[0]!="object"&&(Y.items=ay(Y.items));let et=Y.items.filter(jt=>{let Nn=P(B(jt,Y.filterText),Y.filterText,jt);return Nn&&Y.isMulti&&Y.value&&Array.isArray(Y.value)&&(Nn=!Y.value.some(ci=>ci[Y.optionIdentifier]===jt[Y.optionIdentifier])),Nn});return Y.groupBy&&(et=it(et)),Y.isCreatable&&(et=Ae(et,Y.filterText)),et}function Ae(Y,et){if(et.length===0)return Y;const jt=ne(et);return Y[0]&&et===Y[0][U]?Y:(jt.isCreator=!0,[...Y,jt])}let{selectedValue:Je=null}=e,je,Tt,M,G,K,he;const fe=rR(async()=>{t(4,se=!0);let Y=await re(S).catch(et=>{console.warn("svelte-select loadOptions error :>> ",et),f("error",{type:"loadOptions",details:et})});Y&&!Y.cancelled&&(Y?(Y&&Y.length>0&&typeof Y[0]!="object"&&(Y=ay(Y)),t(81,i=[...Y]),f("loaded",{items:i})):t(81,i=[]),v&&t(81,i=Ae(i,S)),t(4,se=!1),t(1,k=!0),t(5,ge=!0))},Pe);function Ie(){typeof b=="string"?t(2,b={[Q]:b,label:b}):g&&Array.isArray(b)&&b.length>0&&t(2,b=b.map(Y=>typeof Y=="string"?{value:Y,label:Y}:Y))}let Ge;function nt(){t(31,Ge=Object.assign({autocapitalize:"none",autocomplete:"off",autocorrect:"off",spellcheck:!1,tabindex:0,type:"text","aria-autocomplete":"list"},ae)),h&&t(31,Ge.id=h,Ge),w||t(31,Ge.readonly=!0,Ge)}function it(Y){const et=[],jt={};Y.forEach(ci=>{const nn=D(ci);et.includes(nn)||(et.push(nn),jt[nn]=[],nn&&jt[nn].push(Object.assign(ie(nn,ci),{id:nn,isGroupHeader:!0,isSelectable:F}))),jt[nn].push(Object.assign({isGroupItem:!!nn},ci))});const Nn=[];return H(et).forEach(ci=>{Nn.push(...jt[ci])}),Nn}function ft(){if(g){JSON.stringify(b)!==JSON.stringify(Tt)&&Dt()&&f("select",b);return}(!Tt||JSON.stringify(b[Q])!==JSON.stringify(Tt[Q]))&&f("select",b)}function Mt(){k||ge?xt():m&&m.blur()}function Ye(){b&&(Array.isArray(b)?t(2,b=[...b]):t(2,b=[b]))}function yt(){b&&t(2,b=null)}function ht(){S.length!==0&&(t(1,k=!0),t(5,ge=!0),re?fe():(t(5,ge=!0),g&&t(30,je=void 0)))}Ny(async()=>{t(77,Tt=b),t(78,M=S),t(79,G=k),t(80,K=g)});function Dt(){let Y=!0;if(b){const et=[],jt=[];b.forEach(Nn=>{et.includes(Nn[Q])?Y=!1:(et.push(Nn[Q]),jt.push(Nn))}),Y||t(2,b=jt)}return Y}function ce(Y){let et=Y?Y[Q]:b[Q];return L.find(jt=>jt[Q]===et)}function We(Y){!Y||Y.length===0||Y.some(et=>typeof et!="object")||!b||(g?b.some(et=>!et||!et[Q]):!b[Q])||(Array.isArray(b)?t(2,b=b.map(et=>ce(et)||et)):t(2,b=ce()||b))}function _t(Y){const{detail:et}=Y,jt=b[et?et.i:b.length-1];b.length===1?t(2,b=void 0):t(2,b=b.filter(Nn=>Nn!==jt)),f("clear",jt)}function vt(Y){if(!!k)switch(Y.key){case"ArrowDown":Y.preventDefault(),t(5,ge=!0),t(30,je=void 0);break;case"ArrowUp":Y.preventDefault(),t(5,ge=!0),t(30,je=void 0);break;case"Tab":ge||t(1,k=!1);break;case"Backspace":if(!g||S.length>0)return;if(g&&b&&b.length>0){if(_t(je!==void 0?je:b.length-1),je===0||je===void 0)break;t(30,je=b.length>je?je-1:void 0)}break;case"ArrowLeft":if(!g||S.length>0)return;je===void 0?t(30,je=b.length-1):b.length>je&&je!==0&&t(30,je-=1);break;case"ArrowRight":if(!g||S.length>0||je===void 0)return;je===b.length-1?t(30,je=void 0):je<b.length-1&&t(30,je+=1);break}}function xt(){t(1,k=!0),m&&m.focus()}function At(Y){if(!d)return;const et=Y.path&&Y.path.length>0?Y.path[0]:Y.target;d.contains(et)||d.contains(Y.relatedTarget)||(t(1,k=!1),t(5,ge=!1),t(30,je=void 0),m&&m.blur())}function qt(){p||(t(1,k=!0),t(5,ge=!ge))}function un(){t(2,b=void 0),t(5,ge=!1),f("clear",b),xt()}ki(()=>{k&&m&&m.focus()});function Ct(Y){const{detail:et}=Y;if(et){t(3,S="");const jt=Object.assign({},et);(!jt.isGroupHeader||jt.isSelectable)&&(g?t(2,b=b?b.concat([jt]):[jt]):t(2,b=jt),t(2,b),setTimeout(()=>{t(5,ge=!1),t(30,je=void 0)}))}}function Mn(Y){const{detail:et}=Y;g?(t(2,b=b||[]),t(2,b=[...b,ne(et)])):t(2,b=ne(et)),f("itemCreated",et),t(3,S=""),t(5,ge=!1),t(30,je=void 0)}function yi(){t(3,S=""),t(5,ge=!1)}let{ariaValues:Wt=Y=>`Option ${Y}, selected.`}=e,{ariaListOpen:Ue=(Y,et)=>`You are currently focused on option ${Y}. There are ${et} results available.`}=e,{ariaFocused:dt=()=>"Select is focused, type to refine list, press down to open the menu."}=e;function ei(){let Y;return g&&b.length>0?Y=b.map(et=>N(et)).join(", "):Y=N(b),Wt(Y)}function ai(){if(!k||!i||i.length===0)return"";let Y=i[he];if(ge&&Y){let et=N(Y),jt=i?i.length:0;return Ue(et,jt)}else return dt()}function qi(Y){pt[Y?"unshift":"push"](()=>{m=Y,t(6,m)})}function To(){S=this.value,t(3,S)}function xi(Y){he=Y,t(28,he)}function cu(Y){pt[Y?"unshift":"push"](()=>{d=Y,t(0,d)})}return n.$$set=Y=>{"id"in Y&&t(46,h=Y.id),"container"in Y&&t(0,d=Y.container),"input"in Y&&t(6,m=Y.input),"isMulti"in Y&&t(7,g=Y.isMulti),"multiFullItemClearable"in Y&&t(8,y=Y.multiFullItemClearable),"isDisabled"in Y&&t(9,p=Y.isDisabled),"isCreatable"in Y&&t(47,v=Y.isCreatable),"isFocused"in Y&&t(1,k=Y.isFocused),"value"in Y&&t(2,b=Y.value),"filterText"in Y&&t(3,S=Y.filterText),"placeholder"in Y&&t(48,O=Y.placeholder),"placeholderAlwaysShow"in Y&&t(49,I=Y.placeholderAlwaysShow),"items"in Y&&t(50,L=Y.items),"itemFilter"in Y&&t(51,P=Y.itemFilter),"groupBy"in Y&&t(52,D=Y.groupBy),"groupFilter"in Y&&t(53,H=Y.groupFilter),"isGroupHeaderSelectable"in Y&&t(54,F=Y.isGroupHeaderSelectable),"getGroupHeaderLabel"in Y&&t(55,q=Y.getGroupHeaderLabel),"labelIdentifier"in Y&&t(56,U=Y.labelIdentifier),"getOptionLabel"in Y&&t(57,B=Y.getOptionLabel),"optionIdentifier"in Y&&t(58,Q=Y.optionIdentifier),"loadOptions"in Y&&t(59,re=Y.loadOptions),"hasError"in Y&&t(10,le=Y.hasError),"containerStyles"in Y&&t(11,x=Y.containerStyles),"getSelectionLabel"in Y&&t(12,N=Y.getSelectionLabel),"createGroupHeaderItem"in Y&&t(60,ie=Y.createGroupHeaderItem),"createItem"in Y&&t(61,ne=Y.createItem),"isSearchable"in Y&&t(13,w=Y.isSearchable),"inputStyles"in Y&&t(14,C=Y.inputStyles),"isClearable"in Y&&t(15,J=Y.isClearable),"isWaiting"in Y&&t(4,se=Y.isWaiting),"listPlacement"in Y&&t(63,ee=Y.listPlacement),"listOpen"in Y&&t(5,ge=Y.listOpen),"isVirtualList"in Y&&t(64,ve=Y.isVirtualList),"loadOptionsInterval"in Y&&t(65,Pe=Y.loadOptionsInterval),"noOptionsMessage"in Y&&t(66,ze=Y.noOptionsMessage),"hideEmptyState"in Y&&t(67,Me=Y.hideEmptyState),"inputAttributes"in Y&&t(16,ae=Y.inputAttributes),"listAutoWidth"in Y&&t(68,Re=Y.listAutoWidth),"itemHeight"in Y&&t(69,Le=Y.itemHeight),"Icon"in Y&&t(17,rt=Y.Icon),"iconProps"in Y&&t(18,Oe=Y.iconProps),"showChevron"in Y&&t(19,ke=Y.showChevron),"showIndicator"in Y&&t(20,ot=Y.showIndicator),"containerClasses"in Y&&t(21,lt=Y.containerClasses),"indicatorSvg"in Y&&t(22,at=Y.indicatorSvg),"listOffset"in Y&&t(70,mt=Y.listOffset),"ClearIcon"in Y&&t(23,It=Y.ClearIcon),"Item"in Y&&t(71,de=Y.Item),"List"in Y&&t(24,T=Y.List),"Selection"in Y&&t(25,W=Y.Selection),"MultiSelection"in Y&&t(26,X=Y.MultiSelection),"VirtualList"in Y&&t(72,te=Y.VirtualList),"selectedValue"in Y&&t(73,Je=Y.selectedValue),"ariaValues"in Y&&t(74,Wt=Y.ariaValues),"ariaListOpen"in Y&&t(75,Ue=Y.ariaListOpen),"ariaFocused"in Y&&t(76,dt=Y.ariaFocused)},n.$$.update=()=>{n.$$.dirty[0]&140|n.$$.dirty[1]&405340160&&t(81,i=be({loadOptions:re,filterText:S,items:L,value:b,isMulti:g,optionIdentifier:Q,groupBy:D,isCreatable:v})),n.$$.dirty[2]&2048&&Je&&console.warn("selectedValue is no longer used. Please use value instead."),n.$$.dirty[1]&524288&&We(L),n.$$.dirty[0]&4&&b&&Ie(),n.$$.dirty[0]&73728&&(ae||!w)&&nt(),n.$$.dirty[0]&128|n.$$.dirty[2]&262144&&(g&&Ye(),K&&!g&&yt()),n.$$.dirty[0]&132&&g&&b&&b.length>1&&Dt(),n.$$.dirty[0]&4&&b&&ft(),n.$$.dirty[0]&132|n.$$.dirty[2]&32768&&!b&&g&&Tt&&f("select",b),n.$$.dirty[0]&2|n.$$.dirty[2]&131072&&k!==G&&Mt(),n.$$.dirty[0]&8|n.$$.dirty[2]&65536&&S!==M&&ht(),n.$$.dirty[0]&12&&t(29,r=b&&S.length===0),n.$$.dirty[0]&536904208&&t(37,o=r&&J&&!p&&!se),n.$$.dirty[0]&132|n.$$.dirty[1]&393216&&t(36,s=I&&g?O:b?"":O),n.$$.dirty[0]&132&&t(35,l=g&&b&&b.length>0),n.$$.dirty[0]&141|n.$$.dirty[1]&218103808|n.$$.dirty[2]&526326&&t(34,a={Item:de,filterText:S,optionIdentifier:Q,noOptionsMessage:ze,hideEmptyState:Me,isVirtualList:ve,VirtualList:te,value:b,isMulti:g,getGroupHeaderLabel:q,items:i,itemHeight:Le,getOptionLabel:B,listPlacement:ee,parent:d,listAutoWidth:Re,listOffset:mt}),n.$$.dirty[0]&132&&t(33,c=b?ei():""),n.$$.dirty[0]&268435490|n.$$.dirty[2]&524288&&t(32,u=ai())},[d,k,b,S,se,ge,m,g,y,p,le,x,N,w,C,J,ae,rt,Oe,ke,ot,lt,at,It,T,W,X,un,he,r,je,Ge,u,c,a,l,s,o,_t,vt,xt,At,qt,Ct,Mn,yi,h,v,O,I,L,P,D,H,F,q,U,B,Q,re,ie,ne,z,ee,ve,Pe,ze,Me,Re,Le,mt,de,te,Je,Wt,Ue,dt,Tt,M,G,K,i,qi,To,xi,cu]}class Zr extends Xe{constructor(e){super(),Qe(this,e,aR,lR,tn,{id:46,container:0,input:6,isMulti:7,multiFullItemClearable:8,isDisabled:9,isCreatable:47,isFocused:1,value:2,filterText:3,placeholder:48,placeholderAlwaysShow:49,items:50,itemFilter:51,groupBy:52,groupFilter:53,isGroupHeaderSelectable:54,getGroupHeaderLabel:55,labelIdentifier:56,getOptionLabel:57,optionIdentifier:58,loadOptions:59,hasError:10,containerStyles:11,getSelectionLabel:12,createGroupHeaderItem:60,createItem:61,getFilteredItems:62,isSearchable:13,inputStyles:14,isClearable:15,isWaiting:4,listPlacement:63,listOpen:5,isVirtualList:64,loadOptionsInterval:65,noOptionsMessage:66,hideEmptyState:67,inputAttributes:16,listAutoWidth:68,itemHeight:69,Icon:17,iconProps:18,showChevron:19,showIndicator:20,containerClasses:21,indicatorSvg:22,listOffset:70,ClearIcon:23,Item:71,List:24,Selection:25,MultiSelection:26,VirtualList:72,selectedValue:73,handleClear:27,ariaValues:74,ariaListOpen:75,ariaFocused:76},null,[-1,-1,-1,-1])}get getFilteredItems(){return this.$$.ctx[62]}get handleClear(){return this.$$.ctx[27]}}function cR(n){let e,t,i,r,o,s,l,a,c,u,f,h,d,m,g,y,p,v,k,b,S,O,I,L,P,D,H,F,q,U,B,Q,re,le,x;function N(ve){n[18](ve)}let ie={containerClasses:"jse-filter-path",showIndicator:!0,items:n[6]};n[0]!==void 0&&(ie.value=n[0]),l=new Zr({props:ie}),pt.push(()=>Fn(l,"value",N));function ne(ve){n[19](ve)}let z={containerClasses:"jse-filter-relation",showIndicator:!0,items:n[8]};n[1]!==void 0&&(z.value=n[1]),u=new Zr({props:z}),pt.push(()=>Fn(u,"value",ne));function w(ve){n[21](ve)}let C={containerClasses:"jse-sort-path",showIndicator:!0,items:n[6]};n[3]!==void 0&&(C.value=n[3]),b=new Zr({props:C}),pt.push(()=>Fn(b,"value",w));function J(ve){n[22](ve)}let se={containerClasses:"jse-sort-direction",showIndicator:!0,items:n[9]};n[4]!==void 0&&(se.value=n[4]),I=new Zr({props:se}),pt.push(()=>Fn(I,"value",J));function ee(ve){n[23](ve)}let ge={containerClasses:"jse-projection-paths",isMulti:!0,showIndicator:!0,items:n[7]};return n[5]!==void 0&&(ge.value=n[5]),B=new Zr({props:ge}),pt.push(()=>Fn(B,"value",ee)),{c(){e=R("table"),t=R("tr"),i=R("th"),i.textContent="Filter",r=oe(),o=R("td"),s=R("div"),ye(l.$$.fragment),c=oe(),ye(u.$$.fragment),h=oe(),d=R("input"),m=oe(),g=R("tr"),y=R("th"),y.textContent="Sort",p=oe(),v=R("td"),k=R("div"),ye(b.$$.fragment),O=oe(),ye(I.$$.fragment),P=oe(),D=R("tr"),H=R("th"),H.textContent="Pick",F=oe(),q=R("td"),U=R("div"),ye(B.$$.fragment),_(i,"class","svelte-1pbg0mn"),_(d,"class","jse-filter-value svelte-1pbg0mn"),_(s,"class","jse-horizontal svelte-1pbg0mn"),_(y,"class","svelte-1pbg0mn"),_(k,"class","jse-horizontal svelte-1pbg0mn"),_(H,"class","svelte-1pbg0mn"),_(U,"class","jse-horizontal svelte-1pbg0mn"),_(e,"class","jse-transform-wizard svelte-1pbg0mn")},m(ve,Pe){$(ve,e,Pe),E(e,t),E(t,i),E(t,r),E(t,o),E(o,s),me(l,s,null),E(s,c),me(u,s,null),E(s,h),E(s,d),_i(d,n[2]),E(e,m),E(e,g),E(g,y),E(g,p),E(g,v),E(v,k),me(b,k,null),E(k,O),me(I,k,null),E(e,P),E(e,D),E(D,H),E(D,F),E(D,q),E(q,U),me(B,U,null),re=!0,le||(x=we(d,"input",n[20]),le=!0)},p(ve,Pe){const ze={};Pe[0]&64&&(ze.items=ve[6]),!a&&Pe[0]&1&&(a=!0,ze.value=ve[0],zn(()=>a=!1)),l.$set(ze);const Me={};!f&&Pe[0]&2&&(f=!0,Me.value=ve[1],zn(()=>f=!1)),u.$set(Me),Pe[0]&4&&d.value!==ve[2]&&_i(d,ve[2]);const ae={};Pe[0]&64&&(ae.items=ve[6]),!S&&Pe[0]&8&&(S=!0,ae.value=ve[3],zn(()=>S=!1)),b.$set(ae);const Re={};!L&&Pe[0]&16&&(L=!0,Re.value=ve[4],zn(()=>L=!1)),I.$set(Re);const Le={};Pe[0]&128&&(Le.items=ve[7]),!Q&&Pe[0]&32&&(Q=!0,Le.value=ve[5],zn(()=>Q=!1)),B.$set(Le)},i(ve){re||(A(l.$$.fragment,ve),A(u.$$.fragment,ve),A(b.$$.fragment,ve),A(I.$$.fragment,ve),A(B.$$.fragment,ve),re=!0)},o(ve){j(l.$$.fragment,ve),j(u.$$.fragment,ve),j(b.$$.fragment,ve),j(I.$$.fragment,ve),j(B.$$.fragment,ve),re=!1},d(ve){ve&&Z(e),pe(l),pe(u),pe(b),pe(I),pe(B),le=!1,x()}}}function uR(n,e,t){let i,r,o,s,l;var a,c,u,f,h,d,m;const g=$n("jsoneditor:TransformWizard");let{json:y}=e,{queryOptions:p={}}=e,{onChange:v}=e;const k=["==","!=","<","<=",">",">="].map(w=>({value:w,label:w})),b=[{value:"asc",label:"ascending"},{value:"desc",label:"descending"}];let S=!((a=p==null?void 0:p.filter)===null||a===void 0)&&a.path?H(p.filter.path):null,O=!((c=p==null?void 0:p.filter)===null||c===void 0)&&c.relation?k.find(w=>w.value===p.filter.relation):null,I=((u=p==null?void 0:p.filter)===null||u===void 0?void 0:u.value)||"",L=!((f=p==null?void 0:p.sort)===null||f===void 0)&&f.path?H(p.sort.path):null,P=!((h=p==null?void 0:p.sort)===null||h===void 0)&&h.direction?b.find(w=>w.value===p.sort.direction):null,D=!((d=p==null?void 0:p.projection)===null||d===void 0)&&d.paths?p.projection.paths.map(H):null;function H(w){return{value:w,label:rn(w)?"(whole item)":Br(w)}}function F(w){var C;Ht((C=p==null?void 0:p.filter)===null||C===void 0?void 0:C.path,w)||(g("changeFilterPath",w),t(10,p=Mi(p,["filter","path"],w,!0)),v(p))}function q(w){var C;Ht((C=p==null?void 0:p.filter)===null||C===void 0?void 0:C.relation,w)||(g("changeFilterRelation",w),t(10,p=Mi(p,["filter","relation"],w,!0)),v(p))}function U(w){var C;Ht((C=p==null?void 0:p.filter)===null||C===void 0?void 0:C.value,w)||(g("changeFilterValue",w),t(10,p=Mi(p,["filter","value"],w,!0)),v(p))}function B(w){var C;Ht((C=p==null?void 0:p.sort)===null||C===void 0?void 0:C.path,w)||(g("changeSortPath",w),t(10,p=Mi(p,["sort","path"],w,!0)),v(p))}function Q(w){var C;Ht((C=p==null?void 0:p.sort)===null||C===void 0?void 0:C.direction,w)||(g("changeSortDirection",w),t(10,p=Mi(p,["sort","direction"],w,!0)),v(p))}function re(w){var C;Ht((C=p==null?void 0:p.projection)===null||C===void 0?void 0:C.paths,w)||(g("changeProjectionPaths",w),t(10,p=Mi(p,["projection","paths"],w,!0)),v(p))}function le(w){S=w,t(0,S)}function x(w){O=w,t(1,O)}function N(){I=this.value,t(2,I)}function ie(w){L=w,t(3,L)}function ne(w){P=w,t(4,P)}function z(w){D=w,t(5,D)}return n.$$set=w=>{"json"in w&&t(11,y=w.json),"queryOptions"in w&&t(10,p=w.queryOptions),"onChange"in w&&t(12,v=w.onChange)},n.$$.update=()=>{n.$$.dirty[0]&2048&&t(17,i=Array.isArray(y)),n.$$.dirty[0]&133120&&t(16,r=i?Ef(y):[]),n.$$.dirty[0]&133120&&t(15,o=i?Ef(y,!0):[]),n.$$.dirty[0]&65536&&t(6,s=r.map(H)),n.$$.dirty[0]&32768&&t(7,l=o?o.map(H):[]),n.$$.dirty[0]&17472&&!(t(14,m=p==null?void 0:p.filter)===null||m===void 0)&&m.path&&s.find(w=>{var C;return Ht(w.value,(C=p==null?void 0:p.filter)===null||C===void 0?void 0:C.path)}),n.$$.dirty[0]&1&&F((S==null?void 0:S.value)||null),n.$$.dirty[0]&2&&q((O==null?void 0:O.value)||null),n.$$.dirty[0]&4&&U(I||null),n.$$.dirty[0]&8&&B((L==null?void 0:L.value)||null),n.$$.dirty[0]&16&&Q((P==null?void 0:P.value)||null),n.$$.dirty[0]&32&&re(D?D.map(w=>w.value):null)},[S,O,I,L,P,D,s,l,k,b,p,y,v,a,m,o,r,i,le,x,N,ie,ne,z]}class fR extends Xe{constructor(e){super(),Qe(this,e,uR,cR,Et,{json:11,queryOptions:10,onChange:12},null,[-1,-1])}}function cy(n,e,t){const i=n.slice();return i[5]=e[t],i}function hR(n){let e,t;return e=new wt({props:{data:wc}}),{c(){ye(e.$$.fragment)},m(i,r){me(e,i,r),t=!0},p:xe,i(i){t||(A(e.$$.fragment,i),t=!0)},o(i){j(e.$$.fragment,i),t=!1},d(i){pe(e,i)}}}function dR(n){let e,t;return e=new wt({props:{data:bc}}),{c(){ye(e.$$.fragment)},m(i,r){me(e,i,r),t=!0},p:xe,i(i){t||(A(e.$$.fragment,i),t=!0)},o(i){j(e.$$.fragment,i),t=!1},d(i){pe(e,i)}}}function uy(n){let e,t,i,r,o=n[5].name+"",s,l,a,c,u,f;const h=[dR,hR],d=[];function m(y,p){return y[5].id===y[0]?0:1}t=m(n),i=d[t]=h[t](n);function g(){return n[4](n[5])}return{c(){e=R("button"),i.c(),r=oe(),s=Be(o),l=oe(),_(e,"type","button"),_(e,"class","jse-query-language svelte-ifjr8a"),_(e,"title",a=`Select ${n[5].name} as query language`),Ne(e,"selected",n[5].id===n[0])},m(y,p){$(y,e,p),d[t].m(e,null),E(e,r),E(e,s),E(e,l),c=!0,u||(f=we(e,"click",g),u=!0)},p(y,p){n=y;let v=t;t=m(n),t===v?d[t].p(n,p):(Ee(),j(d[v],1,1,()=>{d[v]=null}),Te(),i=d[t],i?i.p(n,p):(i=d[t]=h[t](n),i.c()),A(i,1),i.m(e,r)),(!c||p&2)&&o!==(o=n[5].name+"")&&St(s,o),(!c||p&2&&a!==(a=`Select ${n[5].name} as query language`))&&_(e,"title",a),p&3&&Ne(e,"selected",n[5].id===n[0])},i(y){c||(A(i),c=!0)},o(y){j(i),c=!1},d(y){y&&Z(e),d[t].d(),u=!1,f()}}}function mR(n){let e,t,i,r=n[1],o=[];for(let l=0;l<r.length;l+=1)o[l]=uy(cy(n,r,l));const s=l=>j(o[l],1,1,()=>{o[l]=null});return{c(){e=R("div"),t=R("div");for(let l=0;l<o.length;l+=1)o[l].c();_(t,"class","jse-select-query-language-container svelte-ifjr8a"),_(e,"class","jse-select-query-language svelte-ifjr8a")},m(l,a){$(l,e,a),E(e,t);for(let c=0;c<o.length;c+=1)o[c].m(t,null);i=!0},p(l,[a]){if(a&7){r=l[1];let c;for(c=0;c<r.length;c+=1){const u=cy(l,r,c);o[c]?(o[c].p(u,a),A(o[c],1)):(o[c]=uy(u),o[c].c(),A(o[c],1),o[c].m(t,null))}for(Ee(),c=r.length;c<o.length;c+=1)s(c);Te()}},i(l){if(!i){for(let a=0;a<r.length;a+=1)A(o[a]);i=!0}},o(l){o=o.filter(Boolean);for(let a=0;a<o.length;a+=1)j(o[a]);i=!1},d(l){l&&Z(e),Vn(o,l)}}}function pR(n,e,t){let{queryLanguages:i}=e,{queryLanguageId:r}=e,{onChangeQueryLanguage:o}=e;function s(a){t(0,r=a),o(a)}const l=a=>s(a.id);return n.$$set=a=>{"queryLanguages"in a&&t(1,i=a.queryLanguages),"queryLanguageId"in a&&t(0,r=a.queryLanguageId),"onChangeQueryLanguage"in a&&t(3,o=a.onChangeQueryLanguage)},[r,i,s,o,l]}class gR extends Xe{constructor(e){super(),Qe(this,e,pR,mR,tn,{queryLanguages:1,queryLanguageId:0,onChangeQueryLanguage:3})}}function fy(n){let e,t,i,r,o;return t=new wt({props:{data:E8}}),{c(){e=R("button"),ye(t.$$.fragment),_(e,"type","button"),_(e,"class","jse-config svelte-1djqugc"),_(e,"title","Select a query language")},m(s,l){$(s,e,l),me(t,e,null),n[6](e),i=!0,r||(o=we(e,"click",n[3]),r=!0)},p:xe,i(s){i||(A(t.$$.fragment,s),i=!0)},o(s){j(t.$$.fragment,s),i=!1},d(s){s&&Z(e),pe(t),n[6](null),r=!1,o()}}}function yR(n){let e,t,i,r,o,s,l,a,c,u=n[0].length>1&&fy(n);return s=new wt({props:{data:wl}}),{c(){e=R("div"),t=R("div"),t.textContent="Transform",i=oe(),u&&u.c(),r=oe(),o=R("button"),ye(s.$$.fragment),_(t,"class","jse-title svelte-1djqugc"),_(o,"type","button"),_(o,"class","jse-close svelte-1djqugc"),_(e,"class","jse-header svelte-1djqugc")},m(f,h){$(f,e,h),E(e,t),E(e,i),u&&u.m(e,null),E(e,r),E(e,o),me(s,o,null),l=!0,a||(c=we(o,"click",n[2]),a=!0)},p(f,[h]){f[0].length>1?u?(u.p(f,h),h&1&&A(u,1)):(u=fy(f),u.c(),A(u,1),u.m(e,r)):u&&(Ee(),j(u,1,1,()=>{u=null}),Te())},i(f){l||(A(u),A(s.$$.fragment,f),l=!0)},o(f){j(u),j(s.$$.fragment,f),l=!1},d(f){f&&Z(e),u&&u.d(),pe(s),a=!1,c()}}}function vR(n,e,t){let{queryLanguages:i}=e,{queryLanguageId:r}=e,{onChangeQueryLanguage:o}=e,s,l;const{close:a}=si("simple-modal"),{openAbsolutePopup:c,closeAbsolutePopup:u}=si("absolute-popup");function f(){l=c(gR,{queryLanguages:i,queryLanguageId:r,onChangeQueryLanguage:m=>{u(l),o(m)}},{position:"bottom",offsetTop:-2,offsetLeft:0,anchor:s,closeOnOuterClick:!0})}function h(d){pt[d?"unshift":"push"](()=>{s=d,t(1,s)})}return n.$$set=d=>{"queryLanguages"in d&&t(0,i=d.queryLanguages),"queryLanguageId"in d&&t(4,r=d.queryLanguageId),"onChangeQueryLanguage"in d&&t(5,o=d.onChangeQueryLanguage)},[i,s,a,f,r,o,h]}class bR extends Xe{constructor(e){super(),Qe(this,e,vR,yR,Et,{queryLanguages:0,queryLanguageId:4,onChangeQueryLanguage:5})}}function hy(n){let e,t,i,r,o;const s=[_R,wR],l=[];function a(c,u){return u[0]&512&&(e=null),e==null&&(e=!!Array.isArray(c[9])),e?0:1}return t=a(n,[-1,-1]),i=l[t]=s[t](n),{c(){i.c(),r=Nt()},m(c,u){l[t].m(c,u),$(c,r,u),o=!0},p(c,u){let f=t;t=a(c,u),t===f?l[t].p(c,u):(Ee(),j(l[f],1,1,()=>{l[f]=null}),Te(),i=l[t],i?i.p(c,u):(i=l[t]=s[t](c),i.c()),A(i,1),i.m(r.parentNode,r))},i(c){o||(A(i),o=!0)},o(c){j(i),o=!1},d(c){l[t].d(c),c&&Z(r)}}}function wR(n){let e;return{c(){e=Be("(Only available for arrays, not for objects)")},m(t,i){$(t,e,i)},p:xe,i:xe,o:xe,d(t){t&&Z(e)}}}function _R(n){let e,t;return e=new fR({props:{queryOptions:n[7],json:n[9],onChange:n[16]}}),{c(){ye(e.$$.fragment)},m(i,r){me(e,i,r),t=!0},p(i,r){const o={};r[0]&128&&(o.queryOptions=i[7]),r[0]&512&&(o.json=i[9]),e.$set(o)},i(i){t||(A(e.$$.fragment,i),t=!0)},o(i){j(e.$$.fragment,i),t=!1},d(i){pe(e,i)}}}function dy(n){let e,t;return e=new Wd({props:{externalContent:n[14],readOnly:!0,mainMenuBar:!1,navigationBar:!1,escapeControlCharacters:n[2],escapeUnicodeCharacters:n[3],onRenderValue:n[5],onError:console.error,onChange:Vt,onFocus:Vt,onBlur:Vt,onSortModal:Vt,onTransformModal:Vt,onClassName:n[6]}}),{c(){ye(e.$$.fragment)},m(i,r){me(e,i,r),t=!0},p(i,r){const o={};r[0]&16384&&(o.externalContent=i[14]),r[0]&4&&(o.escapeControlCharacters=i[2]),r[0]&8&&(o.escapeUnicodeCharacters=i[3]),r[0]&32&&(o.onRenderValue=i[5]),r[0]&64&&(o.onClassName=i[6]),e.$set(o)},i(i){t||(A(e.$$.fragment,i),t=!0)},o(i){j(e.$$.fragment,i),t=!1},d(i){pe(e,i)}}}function kR(n){let e,t=n[12].toString()+"",i;return{c(){e=R("div"),i=Be(t),_(e,"class","jse-preview jse-error svelte-mr4kda")},m(r,o){$(r,e,o),E(e,i)},p(r,o){o[0]&4096&&t!==(t=r[12].toString()+"")&&St(i,t)},i:xe,o:xe,d(r){r&&Z(e)}}}function SR(n){let e,t;return e=new Wd({props:{externalContent:n[13],readOnly:!0,mainMenuBar:!1,navigationBar:!1,escapeControlCharacters:n[2],escapeUnicodeCharacters:n[3],onRenderValue:n[5],onError:console.error,onChange:Vt,onFocus:Vt,onBlur:Vt,onSortModal:Vt,onTransformModal:Vt,onClassName:n[6]}}),{c(){ye(e.$$.fragment)},m(i,r){me(e,i,r),t=!0},p(i,r){const o={};r[0]&8192&&(o.externalContent=i[13]),r[0]&4&&(o.escapeControlCharacters=i[2]),r[0]&8&&(o.escapeUnicodeCharacters=i[3]),r[0]&32&&(o.onRenderValue=i[5]),r[0]&64&&(o.onClassName=i[6]),e.$set(o)},i(i){t||(A(e.$$.fragment,i),t=!0)},o(i){j(e.$$.fragment,i),t=!1},d(i){pe(e,i)}}}function CR(n){let e,t,i,r,o,s,l,a,c=n[15](n[0]).description+"",u,f,h,d,m,g,y,p,v,k,b,S,O,I,L,P,D,H,F,q,U,B,Q,re,le,x,N,ie,ne,z,w,C,J,se,ee,ge,ve,Pe,ze;e=new bR({props:{queryLanguages:n[4],queryLanguageId:n[0],onChangeQueryLanguage:n[21]}}),k=new wt({props:{data:n[10]?Yi:xr}});let Me=n[10]&&hy(n);Q=new wt({props:{data:n[11]?Yi:xr}});let ae=n[11]&&dy(n);const Re=[SR,kR],Le=[];function rt(Oe,ke){return Oe[12]?1:0}return z=rt(n),w=Le[z]=Re[z](n),{c(){ye(e.$$.fragment),t=oe(),i=R("div"),r=R("div"),o=R("div"),s=R("div"),s.innerHTML='<div class="jse-label-inner svelte-mr4kda">Language</div>',l=oe(),a=R("div"),u=oe(),f=R("div"),f.innerHTML='<div class="jse-label-inner svelte-mr4kda">Path</div>',h=oe(),d=R("input"),g=oe(),y=R("div"),p=R("div"),v=R("button"),ye(k.$$.fragment),b=Be(`
                Wizard`),S=oe(),Me&&Me.c(),O=oe(),I=R("div"),I.innerHTML='<div class="jse-label-inner svelte-mr4kda">Query</div>',L=oe(),P=R("textarea"),D=oe(),H=R("div"),F=R("div"),q=R("div"),U=R("div"),B=R("button"),ye(Q.$$.fragment),re=Be(`
                  Original`),le=oe(),ae&&ae.c(),x=oe(),N=R("div"),ie=R("div"),ie.innerHTML='<div class="jse-label-inner svelte-mr4kda">Preview</div>',ne=oe(),w.c(),C=oe(),J=R("div"),se=R("button"),ee=Be("Transform"),_(s,"class","jse-label svelte-mr4kda"),_(a,"class","jse-description svelte-mr4kda"),_(f,"class","jse-label svelte-mr4kda"),_(d,"class","jse-path svelte-mr4kda"),_(d,"type","text"),d.readOnly=!0,_(d,"title","Selected path"),d.value=m=rn(n[1])?"(whole document)":Br(n[1]),_(v,"type","button"),_(v,"class","svelte-mr4kda"),_(p,"class","jse-label-inner svelte-mr4kda"),_(y,"class","jse-label svelte-mr4kda"),_(I,"class","jse-label svelte-mr4kda"),_(P,"class","jse-query svelte-mr4kda"),_(P,"spellcheck","false"),P.value=n[8],_(o,"class","jse-query-contents svelte-mr4kda"),_(B,"type","button"),_(B,"class","svelte-mr4kda"),_(U,"class","jse-label-inner svelte-mr4kda"),_(q,"class","jse-label svelte-mr4kda"),_(F,"class","jse-original-data svelte-mr4kda"),Ne(F,"jse-hide",!n[11]),_(ie,"class","jse-label svelte-mr4kda"),_(N,"class","jse-preview-data svelte-mr4kda"),_(H,"class","jse-data-contents svelte-mr4kda"),Ne(H,"jse-hide-original-data",!n[11]),_(r,"class","jse-main-contents svelte-mr4kda"),_(se,"type","button"),_(se,"class","jse-primary svelte-mr4kda"),se.disabled=ge=!!n[12],_(J,"class","jse-actions svelte-mr4kda"),_(i,"class","jse-contents svelte-mr4kda")},m(Oe,ke){me(e,Oe,ke),$(Oe,t,ke),$(Oe,i,ke),E(i,r),E(r,o),E(o,s),E(o,l),E(o,a),a.innerHTML=c,E(o,u),E(o,f),E(o,h),E(o,d),E(o,g),E(o,y),E(y,p),E(p,v),me(k,v,null),E(v,b),E(o,S),Me&&Me.m(o,null),E(o,O),E(o,I),E(o,L),E(o,P),E(r,D),E(r,H),E(H,F),E(F,q),E(q,U),E(U,B),me(Q,B,null),E(B,re),E(F,le),ae&&ae.m(F,null),E(H,x),E(H,N),E(N,ie),E(N,ne),Le[z].m(N,null),E(i,C),E(i,J),E(J,se),E(se,ee),ve=!0,Pe||(ze=[we(v,"click",n[19]),we(P,"input",n[17]),we(B,"click",n[20]),we(se,"click",n[18]),dl(OR.call(null,se))],Pe=!0)},p(Oe,ke){const ot={};ke[0]&16&&(ot.queryLanguages=Oe[4]),ke[0]&1&&(ot.queryLanguageId=Oe[0]),e.$set(ot),(!ve||ke[0]&1)&&c!==(c=Oe[15](Oe[0]).description+"")&&(a.innerHTML=c),(!ve||ke[0]&2&&m!==(m=rn(Oe[1])?"(whole document)":Br(Oe[1]))&&d.value!==m)&&(d.value=m);const lt={};ke[0]&1024&&(lt.data=Oe[10]?Yi:xr),k.$set(lt),Oe[10]?Me?(Me.p(Oe,ke),ke[0]&1024&&A(Me,1)):(Me=hy(Oe),Me.c(),A(Me,1),Me.m(o,O)):Me&&(Ee(),j(Me,1,1,()=>{Me=null}),Te()),(!ve||ke[0]&256)&&(P.value=Oe[8]);const at={};ke[0]&2048&&(at.data=Oe[11]?Yi:xr),Q.$set(at),Oe[11]?ae?(ae.p(Oe,ke),ke[0]&2048&&A(ae,1)):(ae=dy(Oe),ae.c(),A(ae,1),ae.m(F,null)):ae&&(Ee(),j(ae,1,1,()=>{ae=null}),Te()),ke[0]&2048&&Ne(F,"jse-hide",!Oe[11]);let mt=z;z=rt(Oe),z===mt?Le[z].p(Oe,ke):(Ee(),j(Le[mt],1,1,()=>{Le[mt]=null}),Te(),w=Le[z],w?w.p(Oe,ke):(w=Le[z]=Re[z](Oe),w.c()),A(w,1),w.m(N,null)),ke[0]&2048&&Ne(H,"jse-hide-original-data",!Oe[11]),(!ve||ke[0]&4096&&ge!==(ge=!!Oe[12]))&&(se.disabled=ge)},i(Oe){ve||(A(e.$$.fragment,Oe),A(k.$$.fragment,Oe),A(Me),A(Q.$$.fragment,Oe),A(ae),A(w),ve=!0)},o(Oe){j(e.$$.fragment,Oe),j(k.$$.fragment,Oe),j(Me),j(Q.$$.fragment,Oe),j(ae),j(w),ve=!1},d(Oe){pe(e,Oe),Oe&&Z(t),Oe&&Z(i),pe(k),Me&&Me.d(),pe(Q),ae&&ae.d(),Le[z].d(),Pe=!1,on(ze)}}}function xR(n){let e,t,i;return t=new Hv({props:{$$slots:{default:[CR]},$$scope:{ctx:n}}}),{c(){e=R("div"),ye(t.$$.fragment),_(e,"class","jse-modal jse-transform svelte-mr4kda")},m(r,o){$(r,e,o),me(t,e,null),i=!0},p(r,o){const s={};o[0]&32767|o[1]&8&&(s.$$scope={dirty:o,ctx:r}),t.$set(s)},i(r){i||(A(t.$$.fragment,r),i=!0)},o(r){j(t.$$.fragment,r),i=!1},d(r){r&&Z(e),pe(t)}}}function OR(n){n.focus()}function ER(n,e,t){let i,r;const o=$n("jsoneditor:TransformModal");let{id:s="transform-modal-"+Ma()}=e,{json:l}=e,{selectedPath:a=[]}=e,{escapeControlCharacters:c}=e,{escapeUnicodeCharacters:u}=e,{queryLanguages:f}=e,{queryLanguageId:h}=e,{onChangeQueryLanguage:d}=e,{onRenderValue:m}=e,{onClassName:g}=e,{onTransform:y}=e;const{close:p}=si("simple-modal"),v=`${s}:${Fe(a)}`,k=Ei[v]||{};let b=Ei.showWizard!==!1,S=Ei.showOriginal!==!1,O=k.queryOptions||{},I=h===k.queryLanguageId&&k.query?k.query:H(h).createQuery(l,k.queryOptions||{}),L=k.isManual||!1,P,D={text:""};function H(N){return f.find(ie=>ie.id===N)||f[0]}function F(N){t(7,O=N),t(8,I=H(h).createQuery(l,N)),t(27,L=!1),o("updateQueryByWizard",{queryOptions:O,query:I,isManual:L})}function q(N){t(8,I=N.target.value),t(27,L=!0),o("handleChangeQuery",{query:I,isManual:L})}function U(N,ie){try{o("previewTransform",{query:ie});const ne=H(h).executeQuery(N,ie);t(13,D={json:ne}),t(12,P=void 0)}catch(ne){t(13,D={text:""}),t(12,P=ne)}}const B=Fc(U,By);function Q(){try{o("handleTransform",{query:I});const N=H(h).executeQuery(i,I);y([{op:"replace",path:Fe(a),value:N}]),p()}catch(N){console.error(N),t(13,D={text:""}),t(12,P=N.toString())}}function re(){t(10,b=!b),t(26,Ei.showWizard=b,Ei)}function le(){t(11,S=!S),t(26,Ei.showOriginal=S,Ei)}function x(N){o("handleChangeQueryLanguage",N),t(0,h=N),d(N);const ie=H(h);t(8,I=ie.createQuery(l,O)),t(27,L=!1)}return n.$$set=N=>{"id"in N&&t(22,s=N.id),"json"in N&&t(23,l=N.json),"selectedPath"in N&&t(1,a=N.selectedPath),"escapeControlCharacters"in N&&t(2,c=N.escapeControlCharacters),"escapeUnicodeCharacters"in N&&t(3,u=N.escapeUnicodeCharacters),"queryLanguages"in N&&t(4,f=N.queryLanguages),"queryLanguageId"in N&&t(0,h=N.queryLanguageId),"onChangeQueryLanguage"in N&&t(24,d=N.onChangeQueryLanguage),"onRenderValue"in N&&t(5,m=N.onRenderValue),"onClassName"in N&&t(6,g=N.onClassName),"onTransform"in N&&t(25,y=N.onTransform)},n.$$.update=()=>{n.$$.dirty[0]&8388610&&t(9,i=Ke(l,a)),n.$$.dirty[0]&512&&t(14,r={json:i}),n.$$.dirty[0]&768&&B(i,I),n.$$.dirty[0]&201326977&&(t(26,Ei[v]={queryOptions:O,query:I,queryLanguageId:h,isManual:L},Ei),o("store state in memory",v,Ei[v]))},[h,a,c,u,f,m,g,O,I,i,b,S,P,D,r,H,F,q,Q,re,le,x,s,l,d,y,Ei,L]}class TR extends Xe{constructor(e){super(),Qe(this,e,ER,xR,Et,{id:22,json:23,selectedPath:1,escapeControlCharacters:2,escapeUnicodeCharacters:3,queryLanguages:4,queryLanguageId:0,onChangeQueryLanguage:24,onRenderValue:5,onClassName:6,onTransform:25},null,[-1,-1])}}const br={};function my(n){let e,t,i,r,o,s,l;function a(u){n[12](u)}let c={showIndicator:!0,items:n[4]};return n[1]!==void 0&&(c.value=n[1]),o=new Zr({props:c}),pt.push(()=>Fn(o,"value",a)),{c(){e=R("tr"),t=R("th"),t.textContent="Property",i=oe(),r=R("td"),ye(o.$$.fragment),_(t,"class","svelte-196ovtt"),_(r,"class","svelte-196ovtt")},m(u,f){$(u,e,f),E(e,t),E(e,i),E(e,r),me(o,r,null),l=!0},p(u,f){const h={};f&16&&(h.items=u[4]),!s&&f&2&&(s=!0,h.value=u[1],zn(()=>s=!1)),o.$set(h)},i(u){l||(A(o.$$.fragment,u),l=!0)},o(u){j(o.$$.fragment,u),l=!1},d(u){u&&Z(e),pe(o)}}}function MR(n){let e,t,i,r,o,s,l,a,c,u,f,h,d,m,g,y,p,v,k,b,S,O,I,L,P,D,H,F,q,U,B,Q;t=new t_({props:{title:n[3]?"Sort array items":"Sort object keys"}});let re=n[3]&&(n[4].length>1||n[1]===void 0)&&my(n);function le(N){n[13](N)}let x={showIndicator:!0,items:n[5],isClearable:!1};return n[2]!==void 0&&(x.value=n[2]),S=new Zr({props:x}),pt.push(()=>Fn(S,"value",le)),{c(){e=R("div"),ye(t.$$.fragment),i=oe(),r=R("div"),o=R("table"),s=R("colgroup"),s.innerHTML=`<col width="25%"/> 
        <col width="75%"/>`,l=oe(),a=R("tbody"),c=R("tr"),u=R("th"),u.textContent="Path",f=oe(),h=R("td"),d=R("input"),g=oe(),re&&re.c(),y=oe(),p=R("tr"),v=R("th"),v.textContent="Direction",k=oe(),b=R("td"),ye(S.$$.fragment),I=oe(),L=R("div"),P=oe(),D=R("div"),H=R("button"),F=Be("Sort"),_(u,"class","svelte-196ovtt"),_(d,"class","jse-path svelte-196ovtt"),_(d,"type","text"),d.readOnly=!0,_(d,"title","Selected path"),d.value=m=rn(n[0])?"(whole document)":Br(n[0]),_(h,"class","svelte-196ovtt"),_(v,"class","svelte-196ovtt"),_(b,"class","svelte-196ovtt"),_(o,"class","svelte-196ovtt"),_(L,"class","jse-space svelte-196ovtt"),_(H,"type","button"),_(H,"class","jse-primary svelte-196ovtt"),H.disabled=q=n[3]?!n[1]:!1,_(D,"class","jse-actions svelte-196ovtt"),_(r,"class","jse-contents svelte-196ovtt"),_(e,"class","jse-modal jse-sort svelte-196ovtt")},m(N,ie){$(N,e,ie),me(t,e,null),E(e,i),E(e,r),E(r,o),E(o,s),E(o,l),E(o,a),E(a,c),E(c,u),E(c,f),E(c,h),E(h,d),E(a,g),re&&re.m(a,null),E(a,y),E(a,p),E(p,v),E(p,k),E(p,b),me(S,b,null),E(r,I),E(r,L),E(r,P),E(r,D),E(D,H),E(H,F),U=!0,B||(Q=[we(H,"click",n[6]),dl(AR.call(null,H))],B=!0)},p(N,[ie]){const ne={};ie&8&&(ne.title=N[3]?"Sort array items":"Sort object keys"),t.$set(ne),(!U||ie&1&&m!==(m=rn(N[0])?"(whole document)":Br(N[0]))&&d.value!==m)&&(d.value=m),N[3]&&(N[4].length>1||N[1]===void 0)?re?(re.p(N,ie),ie&26&&A(re,1)):(re=my(N),re.c(),A(re,1),re.m(a,y)):re&&(Ee(),j(re,1,1,()=>{re=null}),Te());const z={};!O&&ie&4&&(O=!0,z.value=N[2],zn(()=>O=!1)),S.$set(z),(!U||ie&10&&q!==(q=N[3]?!N[1]:!1))&&(H.disabled=q)},i(N){U||(A(t.$$.fragment,N),A(re),A(S.$$.fragment,N),U=!0)},o(N){j(t.$$.fragment,N),j(re),j(S.$$.fragment,N),U=!1},d(N){N&&Z(e),pe(t),re&&re.d(),pe(S),B=!1,on(Q)}}}function AR(n){n.focus()}function PR(n,e,t){let i,r,o;const s=$n("jsoneditor:SortModal");let{id:l}=e,{json:a}=e,{selectedPath:c}=e,{onSort:u}=e;const{close:f}=si("simple-modal"),h=`${l}:${Fe(c)}`,d=Ke(a,c),m={value:1,label:"ascending"},y=[m,{value:-1,label:"descending"}];let p=br[h]&&br[h].selectedProperty||void 0,v=br[h]&&br[h].selectedDirection||m;function k(I){return{value:I,label:rn(I)?"(whole item)":Fe(I)}}function b(){if(i){if(!p)return;const I=p.value,L=v.value,P=VN(a,c,I,L);u(P)}else if(qn(d)){const I=v.value,L=FN(a,c,I);u(L)}else console.error("Cannot sort: no array or object");f()}function S(I){p=I,t(1,p),t(4,o),t(11,r),t(3,i)}function O(I){v=I,t(2,v)}return n.$$set=I=>{"id"in I&&t(7,l=I.id),"json"in I&&t(8,a=I.json),"selectedPath"in I&&t(0,c=I.selectedPath),"onSort"in I&&t(9,u=I.onSort)},n.$$.update=()=>{n.$$.dirty&8&&t(11,r=i?Ef(d):void 0),n.$$.dirty&2048&&t(4,o=r?r.map(k):void 0),n.$$.dirty&18&&p===void 0&&o&&o.length===1&&t(1,p=o[0]),n.$$.dirty&1030&&(t(10,br[h]={selectedProperty:p,selectedDirection:v},br),s("store state in memory",h,br[h]))},t(3,i=Array.isArray(d)),[c,p,v,i,o,y,b,l,a,u,br,r,S,O]}class IR extends Xe{constructor(e){super(),Qe(this,e,PR,MR,Et,{id:7,json:8,selectedPath:0,onSort:9})}}function NR(n,e,t){const i=si("simple-modal"),r=i.open,o=i.close;return[r,o]}class DR extends Xe{constructor(e){super(),Qe(this,e,NR,null,Et,{open:0,close:1})}get open(){return this.$$.ctx[0]}get close(){return this.$$.ctx[1]}}function RR(n){let e,t,i={readOnly:n[2],indentation:n[3],externalContent:n[0],mainMenuBar:n[5],navigationBar:n[6],escapeControlCharacters:n[8],escapeUnicodeCharacters:n[9],validator:n[10],onError:n[13],onChange:n[22],onRequestRepair:n[23],onRenderValue:n[11],onClassName:n[12],onFocus:n[25],onBlur:n[26],onRenderMenu:n[20],onSortModal:n[28],onTransformModal:n[27]};return e=new Wd({props:i}),n[54](e),{c(){ye(e.$$.fragment)},m(r,o){me(e,r,o),t=!0},p(r,o){const s={};o[0]&4&&(s.readOnly=r[2]),o[0]&8&&(s.indentation=r[3]),o[0]&1&&(s.externalContent=r[0]),o[0]&32&&(s.mainMenuBar=r[5]),o[0]&64&&(s.navigationBar=r[6]),o[0]&256&&(s.escapeControlCharacters=r[8]),o[0]&512&&(s.escapeUnicodeCharacters=r[9]),o[0]&1024&&(s.validator=r[10]),o[0]&8192&&(s.onError=r[13]),o[0]&2048&&(s.onRenderValue=r[11]),o[0]&4096&&(s.onClassName=r[12]),o[0]&1048576&&(s.onRenderMenu=r[20]),e.$set(s)},i(r){t||(A(e.$$.fragment,r),t=!0)},o(r){j(e.$$.fragment,r),t=!1},d(r){n[54](null),pe(e,r)}}}function jR(n){let e,t,i={text:n[21](n[0]),readOnly:n[2],indentation:n[3],tabSize:n[4],mainMenuBar:n[5],statusBar:n[7],escapeUnicodeCharacters:n[9],validator:n[10],onChange:n[22],onSwitchToTreeMode:n[24],onError:n[13],onFocus:n[25],onBlur:n[26],onRenderMenu:n[20],onSortModal:n[28],onTransformModal:n[27]};return e=new vI({props:i}),n[53](e),{c(){ye(e.$$.fragment)},m(r,o){me(e,r,o),t=!0},p(r,o){const s={};o[0]&1&&(s.text=r[21](r[0])),o[0]&4&&(s.readOnly=r[2]),o[0]&8&&(s.indentation=r[3]),o[0]&16&&(s.tabSize=r[4]),o[0]&32&&(s.mainMenuBar=r[5]),o[0]&128&&(s.statusBar=r[7]),o[0]&512&&(s.escapeUnicodeCharacters=r[9]),o[0]&1024&&(s.validator=r[10]),o[0]&8192&&(s.onError=r[13]),o[0]&1048576&&(s.onRenderMenu=r[20]),e.$set(s)},i(r){t||(A(e.$$.fragment,r),t=!0)},o(r){j(e.$$.fragment,r),t=!1},d(r){n[53](null),pe(e,r)}}}function py(n){let e,t,i,r;const o=[jR,RR],s=[];function l(a,c){return a[1]===vi.text||a[1]==="code"?0:1}return e=l(n),t=s[e]=o[e](n),{c(){t.c(),i=Nt()},m(a,c){s[e].m(a,c),$(a,i,c),r=!0},p(a,c){let u=e;e=l(a),e===u?s[e].p(a,c):(Ee(),j(s[u],1,1,()=>{s[u]=null}),Te(),t=s[e],t?t.p(a,c):(t=s[e]=o[e](a),t.c()),A(t,1),t.m(i.parentNode,i))},i(a){r||(A(t),r=!0)},o(a){j(t),r=!1},d(a){s[e].d(a),a&&Z(i)}}}function LR(n){let e,t=n[14],i,r=py(n);return{c(){e=R("div"),r.c(),_(e,"class","jse-main svelte-1tkifqe"),Ne(e,"jse-focus",n[15])},m(o,s){$(o,e,s),r.m(e,null),n[55](e),i=!0},p(o,s){s[0]&16384&&Et(t,t=o[14])?(Ee(),j(r,1,1,xe),Te(),r=py(o),r.c(),A(r,1),r.m(e,null)):r.p(o,s),s[0]&32768&&Ne(e,"jse-focus",o[15])},i(o){i||(A(r),i=!0)},o(o){j(r),i=!1},d(o){o&&Z(e),r.d(o),n[55](null)}}}function BR(n){let e,t,i,r,o;function s(a){n[52](a)}let l={};return n[19]!==void 0&&(l.open=n[19]),e=new DR({props:l}),pt.push(()=>Fn(e,"open",s)),r=new Hv({props:{$$slots:{default:[LR]},$$scope:{ctx:n}}}),{c(){ye(e.$$.fragment),i=oe(),ye(r.$$.fragment)},m(a,c){me(e,a,c),$(a,i,c),me(r,a,c),o=!0},p(a,c){const u={};!t&&c[0]&524288&&(t=!0,u.open=a[19],zn(()=>t=!1)),e.$set(u);const f={};c[0]&1572863|c[1]&536870912&&(f.$$scope={dirty:c,ctx:a}),r.$set(f)},i(a){o||(A(e.$$.fragment,a),A(r.$$.fragment,a),o=!0)},o(a){j(e.$$.fragment,a),j(r.$$.fragment,a),o=!1},d(a){pe(e,a),a&&Z(i),pe(r,a)}}}function FR(n){let e,t;return e=new ok({props:{$$slots:{default:[BR]},$$scope:{ctx:n}}}),{c(){ye(e.$$.fragment)},m(i,r){me(e,i,r),t=!0},p(i,r){const o={};r[0]&2097151|r[1]&536870912&&(o.$$scope={dirty:r,ctx:i}),e.$set(o)},i(i){t||(A(e.$$.fragment,i),t=!0)},o(i){j(e.$$.fragment,i),t=!1},d(i){pe(e,i)}}}function c_(n){this.$set(n)}function u_(){this.$destroy()}function VR(n,e,t){let i;const r=$n("jsoneditor:Main");let{content:o={text:""}}=e,{readOnly:s=!1}=e,{indentation:l=2}=e,{tabSize:a=4}=e,{mode:c=vi.tree}=e,{mainMenuBar:u=!0}=e,{navigationBar:f=!0}=e,{statusBar:h=!0}=e,{escapeControlCharacters:d=!1}=e,{escapeUnicodeCharacters:m=!1}=e,{validator:g=null}=e,{queryLanguages:y=[lD]}=e,{queryLanguageId:p=y[0].id}=e,{onChangeQueryLanguage:v=Vt}=e,{onChange:k=null}=e,{onRenderValue:b=ND}=e,{onClassName:S=()=>{}}=e,{onRenderMenu:O=Vt}=e,{onChangeMode:I=Vt}=e,{onError:L=de=>{console.error(de),alert(de.toString())}}=e,{onFocus:P=Vt}=e,{onBlur:D=Vt}=e,H=Ma(),F=!1,q,U,B,Q;function re(){return o}function le(de){return Tf(de)?de.text:JSON.stringify(de.json,null,l)}function x(de){r("set");const T=wu(de);if(T)throw new Error(T);t(14,H=Ma()),t(0,o=de)}function N(de){r("update");const T=wu(de);if(T)throw new Error(T);t(0,o=de)}function ie(de){if(Tf(o))try{t(0,o={json:JSON.parse(o.text),text:void 0})}catch{throw new Error("Cannot apply patch: current document contains invalid JSON")}if(U)return U.patch(de);if(B)return B.patch(de)}function ne(de){if(U)return U.expand(de);throw new Error(`Method expand is not available in mode "${c}"`)}function z(de){if(B)B.openTransformModal(de);else if(U)U.openTransformModal(de);else throw new Error(`Method transform is not available in mode "${c}"`)}function w(){if(B)return B.validate();if(U)return U.validate();throw new Error(`Method validate is not available in mode "${c}"`)}function C(){return U?U.acceptAutoRepair():o}function J(de){if(U)return U.scrollTo(de);throw new Error(`Method scrollTo is not available in mode "${c}"`)}function se(de){if(U)return U.findElement(de);throw new Error(`Method findElement is not available in mode "${c}"`)}function ee(){B?B.focus():U&&U.focus()}function ge(){B&&B.refresh()}function ve(de,T,W){t(0,o=de),k&&k(de,T,W)}async function Pe(){t(1,c=vi.text),await hn(),I(vi.text)}async function ze(){t(1,c=vi.tree),await hn(),I(vi.tree)}function Me(){t(15,F=!0),P&&P()}function ae(){t(15,F=!1),D&&D()}async function Re(de){c!==de&&(t(1,c=de),await hn(),ee(),I(de))}let Le;const rt={separator:!0};function Oe(de){r("handleChangeQueryLanguage",de),t(29,p=de),v(de)}function ke({id:de,json:T,selectedPath:W,onTransform:X,onClose:te}){s||Q(TR,{id:de,json:T,selectedPath:W,escapeControlCharacters:d,escapeUnicodeCharacters:m,queryLanguages:y,queryLanguageId:p,onChangeQueryLanguage:Oe,onRenderValue:b,onClassName:S,onTransform:X},mk,{onClose:te})}function ot({id:de,json:T,selectedPath:W,onSort:X,onClose:te}){s||Q(IR,{id:de,json:T,selectedPath:W,onSort:X},dk,{onClose:te})}function lt(de){Q=de,t(19,Q)}function at(de){pt[de?"unshift":"push"](()=>{B=de,t(18,B)})}function mt(de){pt[de?"unshift":"push"](()=>{U=de,t(17,U)})}function It(de){pt[de?"unshift":"push"](()=>{q=de,t(16,q)})}return n.$$set=de=>{"content"in de&&t(0,o=de.content),"readOnly"in de&&t(2,s=de.readOnly),"indentation"in de&&t(3,l=de.indentation),"tabSize"in de&&t(4,a=de.tabSize),"mode"in de&&t(1,c=de.mode),"mainMenuBar"in de&&t(5,u=de.mainMenuBar),"navigationBar"in de&&t(6,f=de.navigationBar),"statusBar"in de&&t(7,h=de.statusBar),"escapeControlCharacters"in de&&t(8,d=de.escapeControlCharacters),"escapeUnicodeCharacters"in de&&t(9,m=de.escapeUnicodeCharacters),"validator"in de&&t(10,g=de.validator),"queryLanguages"in de&&t(30,y=de.queryLanguages),"queryLanguageId"in de&&t(29,p=de.queryLanguageId),"onChangeQueryLanguage"in de&&t(31,v=de.onChangeQueryLanguage),"onChange"in de&&t(32,k=de.onChange),"onRenderValue"in de&&t(11,b=de.onRenderValue),"onClassName"in de&&t(12,S=de.onClassName),"onRenderMenu"in de&&t(33,O=de.onRenderMenu),"onChangeMode"in de&&t(34,I=de.onChangeMode),"onError"in de&&t(13,L=de.onError),"onFocus"in de&&t(35,P=de.onFocus),"onBlur"in de&&t(36,D=de.onBlur)},n.$$.update=()=>{if(n.$$.dirty[0]&1){const de=wu(o);de&&console.error("Error: "+de)}n.$$.dirty[0]&2&&t(51,Le=[{text:"text",title:`Switch to text mode (current mode: ${c})`,className:"jse-group-button jse-first"+(c===vi.text||c==="code"?" jse-selected":""),onClick:()=>Re(vi.text)},{text:"tree",title:`Switch to tree mode (current mode: ${c})`,className:"jse-group-button jse-last"+(c===vi.tree?" jse-selected":""),onClick:()=>Re(vi.tree)}]),n.$$.dirty[1]&1048580&&t(20,i=(de,T)=>{const W=sI(T[0])?Le.concat(T):Le.concat(rt,T);return O(de,W)||W}),n.$$.dirty[0]&2&&(r("mode changed to",c),c==="code"&&console.warn('Deprecation warning: "code" mode is renamed to "text". Please use mode="text" instead.'))},[o,c,s,l,a,u,f,h,d,m,g,b,S,L,H,F,q,U,B,Q,i,le,ve,Pe,ze,Me,ae,ke,ot,p,y,v,k,O,I,P,D,re,x,N,ie,ne,z,w,C,J,se,ee,ge,c_,u_,Le,lt,at,mt,It]}class HR extends Xe{constructor(e){super(),Qe(this,e,VR,FR,Et,{content:0,readOnly:2,indentation:3,tabSize:4,mode:1,mainMenuBar:5,navigationBar:6,statusBar:7,escapeControlCharacters:8,escapeUnicodeCharacters:9,validator:10,queryLanguages:30,queryLanguageId:29,onChangeQueryLanguage:31,onChange:32,onRenderValue:11,onClassName:12,onRenderMenu:33,onChangeMode:34,onError:13,onFocus:35,onBlur:36,get:37,set:38,update:39,patch:40,expand:41,transform:42,validate:43,acceptAutoRepair:44,scrollTo:45,findElement:46,focus:47,refresh:48,updateProps:49,destroy:50},null,[-1,-1])}get get(){return this.$$.ctx[37]}get set(){return this.$$.ctx[38]}get update(){return this.$$.ctx[39]}get patch(){return this.$$.ctx[40]}get expand(){return this.$$.ctx[41]}get transform(){return this.$$.ctx[42]}get validate(){return this.$$.ctx[43]}get acceptAutoRepair(){return this.$$.ctx[44]}get scrollTo(){return this.$$.ctx[45]}get findElement(){return this.$$.ctx[46]}get focus(){return this.$$.ctx[47]}get refresh(){return this.$$.ctx[48]}get updateProps(){return c_}get destroy(){return u_}}function aa(n){throw new Error('Could not dynamically require "'+n+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var zR={exports:{}};(function(n,e){(function(t){n.exports=t()})(function(){return function t(i,r,o){function s(c,u){if(!r[c]){if(!i[c]){var f=typeof aa=="function"&&aa;if(!u&&f)return f(c,!0);if(l)return l(c,!0);var h=new Error("Cannot find module '"+c+"'");throw h.code="MODULE_NOT_FOUND",h}var d=r[c]={exports:{}};i[c][0].call(d.exports,function(m){return s(i[c][1][m]||m)},d,d.exports,t,i,r,o)}return r[c].exports}for(var l=typeof aa=="function"&&aa,a=0;a<o.length;a++)s(o[a]);return s}({1:[function(t,i,r){Object.defineProperty(r,"__esModule",{value:!0}),r.regexpCode=r.getEsmExportName=r.getProperty=r.safeStringify=r.stringify=r.strConcat=r.addCodeArg=r.str=r._=r.nil=r._Code=r.Name=r.IDENTIFIER=r._CodeOrName=void 0;class o{}r._CodeOrName=o,r.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class s extends o{constructor(g){if(super(),!r.IDENTIFIER.test(g))throw new Error("CodeGen: name must be a valid identifier");this.str=g}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}r.Name=s;class l extends o{constructor(g){super(),this._items=typeof g=="string"?[g]:g}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const g=this._items[0];return g===""||g==='""'}get str(){var g;return(g=this._str)!==null&&g!==void 0?g:this._str=this._items.reduce((y,p)=>`${y}${p}`,"")}get names(){var g;return(g=this._names)!==null&&g!==void 0?g:this._names=this._items.reduce((y,p)=>(p instanceof s&&(y[p.str]=(y[p.str]||0)+1),y),{})}}function a(m,...g){const y=[m[0]];let p=0;for(;p<g.length;)f(y,g[p]),y.push(m[++p]);return new l(y)}r._Code=l,r.nil=new l(""),r._=a;const c=new l("+");function u(m,...g){const y=[d(m[0])];let p=0;for(;p<g.length;)y.push(c),f(y,g[p]),y.push(c,d(m[++p]));return function(v){let k=1;for(;k<v.length-1;){if(v[k]===c){const b=h(v[k-1],v[k+1]);if(b!==void 0){v.splice(k-1,3,b);continue}v[k++]="+"}k++}}(y),new l(y)}function f(m,g){var y;g instanceof l?m.push(...g._items):m.push(g instanceof s?g:typeof(y=g)=="number"||typeof y=="boolean"||y===null?y:d(Array.isArray(y)?y.join(","):y))}function h(m,g){return g==='""'?m:m==='""'?g:typeof m=="string"?g instanceof s||m[m.length-1]!=='"'?void 0:typeof g!="string"?`${m.slice(0,-1)}${g}"`:g[0]==='"'?m.slice(0,-1)+g.slice(1):void 0:typeof g!="string"||g[0]!=='"'||m instanceof s?void 0:`"${m}${g.slice(1)}`}function d(m){return JSON.stringify(m).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}r.str=u,r.addCodeArg=f,r.strConcat=function(m,g){return g.emptyStr()?m:m.emptyStr()?g:u`${m}${g}`},r.stringify=function(m){return new l(d(m))},r.safeStringify=d,r.getProperty=function(m){return typeof m=="string"&&r.IDENTIFIER.test(m)?new l(`.${m}`):a`[${m}]`},r.getEsmExportName=function(m){if(typeof m=="string"&&r.IDENTIFIER.test(m))return new l(`${m}`);throw new Error(`CodeGen: invalid export name: ${m}, use explicit $id name mapping`)},r.regexpCode=function(m){return new l(m.toString())}},{}],2:[function(t,i,r){Object.defineProperty(r,"__esModule",{value:!0}),r.or=r.and=r.not=r.CodeGen=r.operators=r.varKinds=r.ValueScopeName=r.ValueScope=r.Scope=r.Name=r.regexpCode=r.stringify=r.getProperty=r.nil=r.strConcat=r.str=r._=void 0;const o=t("./code"),s=t("./scope");var l=t("./code");Object.defineProperty(r,"_",{enumerable:!0,get(){return l._}}),Object.defineProperty(r,"str",{enumerable:!0,get(){return l.str}}),Object.defineProperty(r,"strConcat",{enumerable:!0,get(){return l.strConcat}}),Object.defineProperty(r,"nil",{enumerable:!0,get(){return l.nil}}),Object.defineProperty(r,"getProperty",{enumerable:!0,get(){return l.getProperty}}),Object.defineProperty(r,"stringify",{enumerable:!0,get(){return l.stringify}}),Object.defineProperty(r,"regexpCode",{enumerable:!0,get(){return l.regexpCode}}),Object.defineProperty(r,"Name",{enumerable:!0,get(){return l.Name}});var a=t("./scope");Object.defineProperty(r,"Scope",{enumerable:!0,get(){return a.Scope}}),Object.defineProperty(r,"ValueScope",{enumerable:!0,get(){return a.ValueScope}}),Object.defineProperty(r,"ValueScopeName",{enumerable:!0,get(){return a.ValueScopeName}}),Object.defineProperty(r,"varKinds",{enumerable:!0,get(){return a.varKinds}}),r.operators={GT:new o._Code(">"),GTE:new o._Code(">="),LT:new o._Code("<"),LTE:new o._Code("<="),EQ:new o._Code("==="),NEQ:new o._Code("!=="),NOT:new o._Code("!"),OR:new o._Code("||"),AND:new o._Code("&&"),ADD:new o._Code("+")};class c{optimizeNodes(){return this}optimizeNames(C,J){return this}}class u extends c{constructor(C,J,se){super(),this.varKind=C,this.name=J,this.rhs=se}render({es5:C,_n:J}){return`${C?s.varKinds.var:this.varKind} ${this.name}${this.rhs===void 0?"":` = ${this.rhs}`};`+J}optimizeNames(C,J){if(C[this.name.str])return this.rhs&&(this.rhs=re(this.rhs,C,J)),this}get names(){return this.rhs instanceof o._CodeOrName?this.rhs.names:{}}}class f extends c{constructor(C,J,se){super(),this.lhs=C,this.rhs=J,this.sideEffects=se}render({_n:C}){return`${this.lhs} = ${this.rhs};`+C}optimizeNames(C,J){if(!(this.lhs instanceof o.Name)||C[this.lhs.str]||this.sideEffects)return this.rhs=re(this.rhs,C,J),this}get names(){return Q(this.lhs instanceof o.Name?{}:{...this.lhs.names},this.rhs)}}class h extends f{constructor(C,J,se,ee){super(C,se,ee),this.op=J}render({_n:C}){return`${this.lhs} ${this.op}= ${this.rhs};`+C}}class d extends c{constructor(C){super(),this.label=C,this.names={}}render({_n:C}){return`${this.label}:`+C}}class m extends c{constructor(C){super(),this.label=C,this.names={}}render({_n:C}){return`break${this.label?` ${this.label}`:""};`+C}}class g extends c{constructor(C){super(),this.error=C}render({_n:C}){return`throw ${this.error};`+C}get names(){return this.error.names}}class y extends c{constructor(C){super(),this.code=C}render({_n:C}){return`${this.code};`+C}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(C,J){return this.code=re(this.code,C,J),this}get names(){return this.code instanceof o._CodeOrName?this.code.names:{}}}class p extends c{constructor(C=[]){super(),this.nodes=C}render(C){return this.nodes.reduce((J,se)=>J+se.render(C),"")}optimizeNodes(){const{nodes:C}=this;let J=C.length;for(;J--;){const se=C[J].optimizeNodes();Array.isArray(se)?C.splice(J,1,...se):se?C[J]=se:C.splice(J,1)}return C.length>0?this:void 0}optimizeNames(C,J){const{nodes:se}=this;let ee=se.length;for(;ee--;){const ge=se[ee];ge.optimizeNames(C,J)||(le(C,ge.names),se.splice(ee,1))}return se.length>0?this:void 0}get names(){return this.nodes.reduce((C,J)=>B(C,J.names),{})}}class v extends p{render(C){return"{"+C._n+super.render(C)+"}"+C._n}}class k extends p{}class b extends v{}b.kind="else";class S extends v{constructor(C,J){super(J),this.condition=C}render(C){let J=`if(${this.condition})`+super.render(C);return this.else&&(J+="else "+this.else.render(C)),J}optimizeNodes(){super.optimizeNodes();const C=this.condition;if(C===!0)return this.nodes;let J=this.else;if(J){const se=J.optimizeNodes();J=this.else=Array.isArray(se)?new b(se):se}return J?C===!1?J instanceof S?J:J.nodes:this.nodes.length?this:new S(x(C),J instanceof S?[J]:J.nodes):C!==!1&&this.nodes.length?this:void 0}optimizeNames(C,J){var se;if(this.else=(se=this.else)===null||se===void 0?void 0:se.optimizeNames(C,J),super.optimizeNames(C,J)||this.else)return this.condition=re(this.condition,C,J),this}get names(){const C=super.names;return Q(C,this.condition),this.else&&B(C,this.else.names),C}}S.kind="if";class O extends v{}O.kind="for";class I extends O{constructor(C){super(),this.iteration=C}render(C){return`for(${this.iteration})`+super.render(C)}optimizeNames(C,J){if(super.optimizeNames(C,J))return this.iteration=re(this.iteration,C,J),this}get names(){return B(super.names,this.iteration.names)}}class L extends O{constructor(C,J,se,ee){super(),this.varKind=C,this.name=J,this.from=se,this.to=ee}render(C){const J=C.es5?s.varKinds.var:this.varKind,{name:se,from:ee,to:ge}=this;return`for(${J} ${se}=${ee}; ${se}<${ge}; ${se}++)`+super.render(C)}get names(){const C=Q(super.names,this.from);return Q(C,this.to)}}class P extends O{constructor(C,J,se,ee){super(),this.loop=C,this.varKind=J,this.name=se,this.iterable=ee}render(C){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(C)}optimizeNames(C,J){if(super.optimizeNames(C,J))return this.iterable=re(this.iterable,C,J),this}get names(){return B(super.names,this.iterable.names)}}class D extends v{constructor(C,J,se){super(),this.name=C,this.args=J,this.async=se}render(C){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(C)}}D.kind="func";class H extends p{render(C){return"return "+super.render(C)}}H.kind="return";class F extends v{render(C){let J="try"+super.render(C);return this.catch&&(J+=this.catch.render(C)),this.finally&&(J+=this.finally.render(C)),J}optimizeNodes(){var C,J;return super.optimizeNodes(),(C=this.catch)===null||C===void 0||C.optimizeNodes(),(J=this.finally)===null||J===void 0||J.optimizeNodes(),this}optimizeNames(C,J){var se,ee;return super.optimizeNames(C,J),(se=this.catch)===null||se===void 0||se.optimizeNames(C,J),(ee=this.finally)===null||ee===void 0||ee.optimizeNames(C,J),this}get names(){const C=super.names;return this.catch&&B(C,this.catch.names),this.finally&&B(C,this.finally.names),C}}class q extends v{constructor(C){super(),this.error=C}render(C){return`catch(${this.error})`+super.render(C)}}q.kind="catch";class U extends v{render(C){return"finally"+super.render(C)}}U.kind="finally";function B(w,C){for(const J in C)w[J]=(w[J]||0)+(C[J]||0);return w}function Q(w,C){return C instanceof o._CodeOrName?B(w,C.names):w}function re(w,C,J){return w instanceof o.Name?ee(w):(se=w)instanceof o._Code&&se._items.some(ge=>ge instanceof o.Name&&C[ge.str]===1&&J[ge.str]!==void 0)?new o._Code(w._items.reduce((ge,ve)=>(ve instanceof o.Name&&(ve=ee(ve)),ve instanceof o._Code?ge.push(...ve._items):ge.push(ve),ge),[])):w;var se;function ee(ge){const ve=J[ge.str];return ve===void 0||C[ge.str]!==1?ge:(delete C[ge.str],ve)}}function le(w,C){for(const J in C)w[J]=(w[J]||0)-(C[J]||0)}function x(w){return typeof w=="boolean"||typeof w=="number"||w===null?!w:o._`!${z(w)}`}r.CodeGen=class{constructor(w,C={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...C,_n:C.lines?`
`:""},this._extScope=w,this._scope=new s.Scope({parent:w}),this._nodes=[new k]}toString(){return this._root.render(this.opts)}name(w){return this._scope.name(w)}scopeName(w){return this._extScope.name(w)}scopeValue(w,C){const J=this._extScope.value(w,C);return(this._values[J.prefix]||(this._values[J.prefix]=new Set)).add(J),J}getScopeValue(w,C){return this._extScope.getValue(w,C)}scopeRefs(w){return this._extScope.scopeRefs(w,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(w,C,J,se){const ee=this._scope.toName(C);return J!==void 0&&se&&(this._constants[ee.str]=J),this._leafNode(new u(w,ee,J)),ee}const(w,C,J){return this._def(s.varKinds.const,w,C,J)}let(w,C,J){return this._def(s.varKinds.let,w,C,J)}var(w,C,J){return this._def(s.varKinds.var,w,C,J)}assign(w,C,J){return this._leafNode(new f(w,C,J))}add(w,C){return this._leafNode(new h(w,r.operators.ADD,C))}code(w){return typeof w=="function"?w():w!==o.nil&&this._leafNode(new y(w)),this}object(...w){const C=["{"];for(const[J,se]of w)C.length>1&&C.push(","),C.push(J),(J!==se||this.opts.es5)&&(C.push(":"),(0,o.addCodeArg)(C,se));return C.push("}"),new o._Code(C)}if(w,C,J){if(this._blockNode(new S(w)),C&&J)this.code(C).else().code(J).endIf();else if(C)this.code(C).endIf();else if(J)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(w){return this._elseNode(new S(w))}else(){return this._elseNode(new b)}endIf(){return this._endBlockNode(S,b)}_for(w,C){return this._blockNode(w),C&&this.code(C).endFor(),this}for(w,C){return this._for(new I(w),C)}forRange(w,C,J,se,ee=this.opts.es5?s.varKinds.var:s.varKinds.let){const ge=this._scope.toName(w);return this._for(new L(ee,ge,C,J),()=>se(ge))}forOf(w,C,J,se=s.varKinds.const){const ee=this._scope.toName(w);if(this.opts.es5){const ge=C instanceof o.Name?C:this.var("_arr",C);return this.forRange("_i",0,o._`${ge}.length`,ve=>{this.var(ee,o._`${ge}[${ve}]`),J(ee)})}return this._for(new P("of",se,ee,C),()=>J(ee))}forIn(w,C,J,se=this.opts.es5?s.varKinds.var:s.varKinds.const){if(this.opts.ownProperties)return this.forOf(w,o._`Object.keys(${C})`,J);const ee=this._scope.toName(w);return this._for(new P("in",se,ee,C),()=>J(ee))}endFor(){return this._endBlockNode(O)}label(w){return this._leafNode(new d(w))}break(w){return this._leafNode(new m(w))}return(w){const C=new H;if(this._blockNode(C),this.code(w),C.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(H)}try(w,C,J){if(!C&&!J)throw new Error('CodeGen: "try" without "catch" and "finally"');const se=new F;if(this._blockNode(se),this.code(w),C){const ee=this.name("e");this._currNode=se.catch=new q(ee),C(ee)}return J&&(this._currNode=se.finally=new U,this.code(J)),this._endBlockNode(q,U)}throw(w){return this._leafNode(new g(w))}block(w,C){return this._blockStarts.push(this._nodes.length),w&&this.code(w).endBlock(C),this}endBlock(w){const C=this._blockStarts.pop();if(C===void 0)throw new Error("CodeGen: not in self-balancing block");const J=this._nodes.length-C;if(J<0||w!==void 0&&J!==w)throw new Error(`CodeGen: wrong number of nodes: ${J} vs ${w} expected`);return this._nodes.length=C,this}func(w,C=o.nil,J,se){return this._blockNode(new D(w,C,J)),se&&this.code(se).endFunc(),this}endFunc(){return this._endBlockNode(D)}optimize(w=1){for(;w-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(w){return this._currNode.nodes.push(w),this}_blockNode(w){this._currNode.nodes.push(w),this._nodes.push(w)}_endBlockNode(w,C){const J=this._currNode;if(J instanceof w||C&&J instanceof C)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${C?`${w.kind}/${C.kind}`:w.kind}"`)}_elseNode(w){const C=this._currNode;if(!(C instanceof S))throw new Error('CodeGen: "else" without "if"');return this._currNode=C.else=w,this}get _root(){return this._nodes[0]}get _currNode(){const w=this._nodes;return w[w.length-1]}set _currNode(w){const C=this._nodes;C[C.length-1]=w}},r.not=x;const N=ne(r.operators.AND);r.and=function(...w){return w.reduce(N)};const ie=ne(r.operators.OR);function ne(w){return(C,J)=>C===o.nil?J:J===o.nil?C:o._`${z(C)} ${w} ${z(J)}`}function z(w){return w instanceof o.Name?w:o._`(${w})`}r.or=function(...w){return w.reduce(ie)}},{"./code":1,"./scope":3}],3:[function(t,i,r){Object.defineProperty(r,"__esModule",{value:!0}),r.ValueScope=r.ValueScopeName=r.Scope=r.varKinds=r.UsedValueState=void 0;const o=t("./code");class s extends Error{constructor(h){super(`CodeGen: "code" for ${h} not defined`),this.value=h.value}}var l;(function(f){f[f.Started=0]="Started",f[f.Completed=1]="Completed"})(l=r.UsedValueState||(r.UsedValueState={})),r.varKinds={const:new o.Name("const"),let:new o.Name("let"),var:new o.Name("var")};class a{constructor({prefixes:h,parent:d}={}){this._names={},this._prefixes=h,this._parent=d}toName(h){return h instanceof o.Name?h:this.name(h)}name(h){return new o.Name(this._newName(h))}_newName(h){return`${h}${(this._names[h]||this._nameGroup(h)).index++}`}_nameGroup(h){var d,m;if(((m=(d=this._parent)===null||d===void 0?void 0:d._prefixes)===null||m===void 0?void 0:m.has(h))||this._prefixes&&!this._prefixes.has(h))throw new Error(`CodeGen: prefix "${h}" is not allowed in this scope`);return this._names[h]={prefix:h,index:0}}}r.Scope=a;class c extends o.Name{constructor(h,d){super(d),this.prefix=h}setValue(h,{property:d,itemIndex:m}){this.value=h,this.scopePath=o._`.${new o.Name(d)}[${m}]`}}r.ValueScopeName=c;const u=o._`\n`;r.ValueScope=class extends a{constructor(f){super(f),this._values={},this._scope=f.scope,this.opts={...f,_n:f.lines?u:o.nil}}get(){return this._scope}name(f){return new c(f,this._newName(f))}value(f,h){var d;if(h.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const m=this.toName(f),{prefix:g}=m,y=(d=h.key)!==null&&d!==void 0?d:h.ref;let p=this._values[g];if(p){const b=p.get(y);if(b)return b}else p=this._values[g]=new Map;p.set(y,m);const v=this._scope[g]||(this._scope[g]=[]),k=v.length;return v[k]=h.ref,m.setValue(h,{property:g,itemIndex:k}),m}getValue(f,h){const d=this._values[f];if(d)return d.get(h)}scopeRefs(f,h=this._values){return this._reduceValues(h,d=>{if(d.scopePath===void 0)throw new Error(`CodeGen: name "${d}" has no value`);return o._`${f}${d.scopePath}`})}scopeCode(f=this._values,h,d){return this._reduceValues(f,m=>{if(m.value===void 0)throw new Error(`CodeGen: name "${m}" has no value`);return m.value.code},h,d)}_reduceValues(f,h,d={},m){let g=o.nil;for(const y in f){const p=f[y];if(!p)continue;const v=d[y]=d[y]||new Map;p.forEach(k=>{if(v.has(k))return;v.set(k,l.Started);let b=h(k);if(b)g=o._`${g}${this.opts.es5?r.varKinds.var:r.varKinds.const} ${k} = ${b};${this.opts._n}`;else{if(!(b=m==null?void 0:m(k)))throw new s(k);g=o._`${g}${b}${this.opts._n}`}v.set(k,l.Completed)})}return g}}},{"./code":1}],4:[function(t,i,r){Object.defineProperty(r,"__esModule",{value:!0}),r.extendErrors=r.resetErrorsCount=r.reportExtraError=r.reportError=r.keyword$DataError=r.keywordError=void 0;const o=t("./codegen"),s=t("./util"),l=t("./names");function a(m,g){const y=m.const("err",g);m.if(o._`${l.default.vErrors} === null`,()=>m.assign(l.default.vErrors,o._`[${y}]`),o._`${l.default.vErrors}.push(${y})`),m.code(o._`${l.default.errors}++`)}function c(m,g){const{gen:y,validateName:p,schemaEnv:v}=m;v.$async?y.throw(o._`new ${m.ValidationError}(${g})`):(y.assign(o._`${p}.errors`,g),y.return(!1))}r.keywordError={message({keyword:m}){return o.str`must pass "${m}" keyword validation`}},r.keyword$DataError={message({keyword:m,schemaType:g}){return g?o.str`"${m}" keyword must be ${g} ($data)`:o.str`"${m}" keyword is invalid ($data)`}},r.reportError=function(m,g=r.keywordError,y,p){const{it:v}=m,{gen:k,compositeRule:b,allErrors:S}=v,O=f(m,g,y);(p!=null?p:b||S)?a(k,O):c(v,o._`[${O}]`)},r.reportExtraError=function(m,g=r.keywordError,y){const{it:p}=m,{gen:v,compositeRule:k,allErrors:b}=p;a(v,f(m,g,y)),k||b||c(p,l.default.vErrors)},r.resetErrorsCount=function(m,g){m.assign(l.default.errors,g),m.if(o._`${l.default.vErrors} !== null`,()=>m.if(g,()=>m.assign(o._`${l.default.vErrors}.length`,g),()=>m.assign(l.default.vErrors,null)))},r.extendErrors=function({gen:m,keyword:g,schemaValue:y,data:p,errsCount:v,it:k}){if(v===void 0)throw new Error("ajv implementation error");const b=m.name("err");m.forRange("i",v,l.default.errors,S=>{m.const(b,o._`${l.default.vErrors}[${S}]`),m.if(o._`${b}.instancePath === undefined`,()=>m.assign(o._`${b}.instancePath`,(0,o.strConcat)(l.default.instancePath,k.errorPath))),m.assign(o._`${b}.schemaPath`,o.str`${k.errSchemaPath}/${g}`),k.opts.verbose&&(m.assign(o._`${b}.schema`,y),m.assign(o._`${b}.data`,p))})};const u={keyword:new o.Name("keyword"),schemaPath:new o.Name("schemaPath"),params:new o.Name("params"),propertyName:new o.Name("propertyName"),message:new o.Name("message"),schema:new o.Name("schema"),parentSchema:new o.Name("parentSchema")};function f(m,g,y){const{createErrors:p}=m.it;return p===!1?o._`{}`:function(v,k,b={}){const{gen:S,it:O}=v,I=[h(O,b),d(v,b)];return function(L,{params:P,message:D},H){const{keyword:F,data:q,schemaValue:U,it:B}=L,{opts:Q,propertyName:re,topSchemaRef:le,schemaPath:x}=B;H.push([u.keyword,F],[u.params,typeof P=="function"?P(L):P||o._`{}`]),Q.messages&&H.push([u.message,typeof D=="function"?D(L):D]),Q.verbose&&H.push([u.schema,U],[u.parentSchema,o._`${le}${x}`],[l.default.data,q]),re&&H.push([u.propertyName,re])}(v,k,I),S.object(...I)}(m,g,y)}function h({errorPath:m},{instancePath:g}){const y=g?o.str`${m}${(0,s.getErrorPath)(g,s.Type.Str)}`:m;return[l.default.instancePath,(0,o.strConcat)(l.default.instancePath,y)]}function d({keyword:m,it:{errSchemaPath:g}},{schemaPath:y,parentSchema:p}){let v=p?g:o.str`${g}/${m}`;return y&&(v=o.str`${v}${(0,s.getErrorPath)(y,s.Type.Str)}`),[u.schemaPath,v]}},{"./codegen":2,"./names":6,"./util":10}],5:[function(t,i,r){Object.defineProperty(r,"__esModule",{value:!0}),r.resolveSchema=r.getCompilingSchema=r.resolveRef=r.compileSchema=r.SchemaEnv=void 0;const o=t("./codegen"),s=t("../runtime/validation_error"),l=t("./names"),a=t("./resolve"),c=t("./util"),u=t("./validate");class f{constructor(b){var S;let O;this.refs={},this.dynamicAnchors={},typeof b.schema=="object"&&(O=b.schema),this.schema=b.schema,this.schemaId=b.schemaId,this.root=b.root||this,this.baseId=(S=b.baseId)!==null&&S!==void 0?S:(0,a.normalizeId)(O==null?void 0:O[b.schemaId||"$id"]),this.schemaPath=b.schemaPath,this.localRefs=b.localRefs,this.meta=b.meta,this.$async=O==null?void 0:O.$async,this.refs={}}}function h(k){const b=m.call(this,k);if(b)return b;const S=(0,a.getFullPath)(this.opts.uriResolver,k.root.baseId),{es5:O,lines:I}=this.opts.code,{ownProperties:L}=this.opts,P=new o.CodeGen(this.scope,{es5:O,lines:I,ownProperties:L});let D;k.$async&&(D=P.scopeValue("Error",{ref:s.default,code:o._`require("ajv/dist/runtime/validation_error").default`}));const H=P.scopeName("validate");k.validateName=H;const F={gen:P,allErrors:this.opts.allErrors,data:l.default.data,parentData:l.default.parentData,parentDataProperty:l.default.parentDataProperty,dataNames:[l.default.data],dataPathArr:[o.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:P.scopeValue("schema",this.opts.code.source===!0?{ref:k.schema,code:(0,o.stringify)(k.schema)}:{ref:k.schema}),validateName:H,ValidationError:D,schema:k.schema,schemaEnv:k,rootId:S,baseId:k.baseId||S,schemaPath:o.nil,errSchemaPath:k.schemaPath||(this.opts.jtd?"":"#"),errorPath:o._`""`,opts:this.opts,self:this};let q;try{this._compilations.add(k),(0,u.validateFunctionCode)(F),P.optimize(this.opts.code.optimize);const U=P.toString();q=`${P.scopeRefs(l.default.scope)}return ${U}`,this.opts.code.process&&(q=this.opts.code.process(q,k));const B=new Function(`${l.default.self}`,`${l.default.scope}`,q)(this,this.scope.get());if(this.scope.value(H,{ref:B}),B.errors=null,B.schema=k.schema,B.schemaEnv=k,k.$async&&(B.$async=!0),this.opts.code.source===!0&&(B.source={validateName:H,validateCode:U,scopeValues:P._values}),this.opts.unevaluated){const{props:Q,items:re}=F;B.evaluated={props:Q instanceof o.Name?void 0:Q,items:re instanceof o.Name?void 0:re,dynamicProps:Q instanceof o.Name,dynamicItems:re instanceof o.Name},B.source&&(B.source.evaluated=(0,o.stringify)(B.evaluated))}return k.validate=B,k}catch(U){throw delete k.validate,delete k.validateName,q&&this.logger.error("Error compiling schema, function code:",q),U}finally{this._compilations.delete(k)}}function d(k){return(0,a.inlineRef)(k.schema,this.opts.inlineRefs)?k.schema:k.validate?k:h.call(this,k)}function m(k){for(const O of this._compilations)if((b=O).schema===(S=k).schema&&b.root===S.root&&b.baseId===S.baseId)return O;var b,S}function g(k,b){let S;for(;typeof(S=this.refs[b])=="string";)b=S;return S||this.schemas[b]||y.call(this,k,b)}function y(k,b){const S=this.opts.uriResolver.parse(b),O=(0,a._getFullPath)(this.opts.uriResolver,S);let I=(0,a.getFullPath)(this.opts.uriResolver,k.baseId,void 0);if(Object.keys(k.schema).length>0&&O===I)return v.call(this,S,k);const L=(0,a.normalizeId)(O),P=this.refs[L]||this.schemas[L];if(typeof P=="string"){const D=y.call(this,k,P);return typeof(D==null?void 0:D.schema)!="object"?void 0:v.call(this,S,D)}if(typeof(P==null?void 0:P.schema)=="object"){if(P.validate||h.call(this,P),L===(0,a.normalizeId)(b)){const{schema:D}=P,{schemaId:H}=this.opts,F=D[H];return F&&(I=(0,a.resolveUrl)(this.opts.uriResolver,I,F)),new f({schema:D,schemaId:H,root:k,baseId:I})}return v.call(this,S,P)}}r.SchemaEnv=f,r.compileSchema=h,r.resolveRef=function(k,b,S){var O;S=(0,a.resolveUrl)(this.opts.uriResolver,b,S);const I=k.refs[S];if(I)return I;let L=g.call(this,k,S);if(L===void 0){const P=(O=k.localRefs)===null||O===void 0?void 0:O[S],{schemaId:D}=this.opts;P&&(L=new f({schema:P,schemaId:D,root:k,baseId:b}))}return L!==void 0?k.refs[S]=d.call(this,L):void 0},r.getCompilingSchema=m,r.resolveSchema=y;const p=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function v(k,{baseId:b,schema:S,root:O}){var I;if(((I=k.fragment)===null||I===void 0?void 0:I[0])!=="/")return;for(const D of k.fragment.slice(1).split("/")){if(typeof S=="boolean")return;const H=S[(0,c.unescapeFragment)(D)];if(H===void 0)return;const F=typeof(S=H)=="object"&&S[this.opts.schemaId];!p.has(D)&&F&&(b=(0,a.resolveUrl)(this.opts.uriResolver,b,F))}let L;if(typeof S!="boolean"&&S.$ref&&!(0,c.schemaHasRulesButRef)(S,this.RULES)){const D=(0,a.resolveUrl)(this.opts.uriResolver,b,S.$ref);L=y.call(this,O,D)}const{schemaId:P}=this.opts;return L=L||new f({schema:S,schemaId:P,root:O,baseId:b}),L.schema!==L.root.schema?L:void 0}},{"../runtime/validation_error":24,"./codegen":2,"./names":6,"./resolve":8,"./util":10,"./validate":15}],6:[function(t,i,r){Object.defineProperty(r,"__esModule",{value:!0});const o=t("./codegen"),s={data:new o.Name("data"),valCxt:new o.Name("valCxt"),instancePath:new o.Name("instancePath"),parentData:new o.Name("parentData"),parentDataProperty:new o.Name("parentDataProperty"),rootData:new o.Name("rootData"),dynamicAnchors:new o.Name("dynamicAnchors"),vErrors:new o.Name("vErrors"),errors:new o.Name("errors"),this:new o.Name("this"),self:new o.Name("self"),scope:new o.Name("scope"),json:new o.Name("json"),jsonPos:new o.Name("jsonPos"),jsonLen:new o.Name("jsonLen"),jsonPart:new o.Name("jsonPart")};r.default=s},{"./codegen":2}],7:[function(t,i,r){Object.defineProperty(r,"__esModule",{value:!0});const o=t("./resolve");class s extends Error{constructor(a,c,u,f){super(f||`can't resolve reference ${u} from id ${c}`),this.missingRef=(0,o.resolveUrl)(a,c,u),this.missingSchema=(0,o.normalizeId)((0,o.getFullPath)(a,this.missingRef))}}r.default=s},{"./resolve":8}],8:[function(t,i,r){Object.defineProperty(r,"__esModule",{value:!0}),r.getSchemaRefs=r.resolveUrl=r.normalizeId=r._getFullPath=r.getFullPath=r.inlineRef=void 0;const o=t("./util"),s=t("fast-deep-equal"),l=t("json-schema-traverse"),a=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);r.inlineRef=function(p,v=!0){return typeof p=="boolean"||(v===!0?!u(p):!!v&&f(p)<=v)};const c=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function u(p){for(const v in p){if(c.has(v))return!0;const k=p[v];if(Array.isArray(k)&&k.some(u)||typeof k=="object"&&u(k))return!0}return!1}function f(p){let v=0;for(const k in p)if(k==="$ref"||(v++,!a.has(k)&&(typeof p[k]=="object"&&(0,o.eachItem)(p[k],b=>v+=f(b)),v===1/0)))return 1/0;return v}function h(p,v="",k){k!==!1&&(v=g(v));const b=p.parse(v);return d(p,b)}function d(p,v){return p.serialize(v).split("#")[0]+"#"}r.getFullPath=h,r._getFullPath=d;const m=/#\/?$/;function g(p){return p?p.replace(m,""):""}r.normalizeId=g,r.resolveUrl=function(p,v,k){return k=g(k),p.resolve(v,k)};const y=/^[a-z_][-a-z0-9._]*$/i;r.getSchemaRefs=function(p,v){if(typeof p=="boolean")return{};const{schemaId:k,uriResolver:b}=this.opts,S=g(p[k]||v),O={"":S},I=h(b,S,!1),L={},P=new Set;return l(p,{allKeys:!0},(F,q,U,B)=>{if(B===void 0)return;const Q=I+q;let re=O[B];function le(N){if(N=g(re?(0,this.opts.uriResolver.resolve)(re,N):N),P.has(N))throw H(N);P.add(N);let ie=this.refs[N];return typeof ie=="string"&&(ie=this.refs[ie]),typeof ie=="object"?D(F,ie.schema,N):N!==g(Q)&&(N[0]==="#"?(D(F,L[N],N),L[N]=F):this.refs[N]=Q),N}function x(N){if(typeof N=="string"){if(!y.test(N))throw new Error(`invalid anchor "${N}"`);le.call(this,`#${N}`)}}typeof F[k]=="string"&&(re=le.call(this,F[k])),x.call(this,F.$anchor),x.call(this,F.$dynamicAnchor),O[q]=re}),L;function D(F,q,U){if(q!==void 0&&!s(F,q))throw H(U)}function H(F){return new Error(`reference "${F}" resolves to more than one schema`)}}},{"./util":10,"fast-deep-equal":63,"json-schema-traverse":64}],9:[function(t,i,r){Object.defineProperty(r,"__esModule",{value:!0}),r.getRules=r.isJSONType=void 0;const o=new Set(["string","number","integer","boolean","null","object","array"]);r.isJSONType=function(s){return typeof s=="string"&&o.has(s)},r.getRules=function(){const s={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...s,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},s.number,s.string,s.array,s.object],post:{rules:[]},all:{},keywords:{}}}},{}],10:[function(t,i,r){Object.defineProperty(r,"__esModule",{value:!0}),r.checkStrictMode=r.getErrorPath=r.Type=r.useFunc=r.setEvaluated=r.evaluatedPropsToName=r.mergeEvaluated=r.eachItem=r.unescapeJsonPointer=r.escapeJsonPointer=r.escapeFragment=r.unescapeFragment=r.schemaRefOrVal=r.schemaHasRulesButRef=r.schemaHasRules=r.checkUnknownRules=r.alwaysValidSchema=r.toHash=void 0;const o=t("./codegen"),s=t("./codegen/code");function l(p,v=p.schema){const{opts:k,self:b}=p;if(!k.strictSchema||typeof v=="boolean")return;const S=b.RULES.keywords;for(const O in v)S[O]||y(p,`unknown keyword: "${O}"`)}function a(p,v){if(typeof p=="boolean")return!p;for(const k in p)if(v[k])return!0;return!1}function c(p){return typeof p=="number"?`${p}`:p.replace(/~/g,"~0").replace(/\//g,"~1")}function u(p){return p.replace(/~1/g,"/").replace(/~0/g,"~")}function f({mergeNames:p,mergeToName:v,mergeValues:k,resultToName:b}){return(S,O,I,L)=>{const P=I===void 0?O:I instanceof o.Name?(O instanceof o.Name?p(S,O,I):v(S,O,I),I):O instanceof o.Name?(v(S,I,O),O):k(O,I);return L!==o.Name||P instanceof o.Name?P:b(S,P)}}function h(p,v){if(v===!0)return p.var("props",!0);const k=p.var("props",o._`{}`);return v!==void 0&&d(p,k,v),k}function d(p,v,k){Object.keys(k).forEach(b=>p.assign(o._`${v}${(0,o.getProperty)(b)}`,!0))}r.toHash=function(p){const v={};for(const k of p)v[k]=!0;return v},r.alwaysValidSchema=function(p,v){return typeof v=="boolean"?v:Object.keys(v).length===0||(l(p,v),!a(v,p.self.RULES.all))},r.checkUnknownRules=l,r.schemaHasRules=a,r.schemaHasRulesButRef=function(p,v){if(typeof p=="boolean")return!p;for(const k in p)if(k!=="$ref"&&v.all[k])return!0;return!1},r.schemaRefOrVal=function({topSchemaRef:p,schemaPath:v},k,b,S){if(!S){if(typeof k=="number"||typeof k=="boolean")return k;if(typeof k=="string")return o._`${k}`}return o._`${p}${v}${(0,o.getProperty)(b)}`},r.unescapeFragment=function(p){return u(decodeURIComponent(p))},r.escapeFragment=function(p){return encodeURIComponent(c(p))},r.escapeJsonPointer=c,r.unescapeJsonPointer=u,r.eachItem=function(p,v){if(Array.isArray(p))for(const k of p)v(k);else v(p)},r.mergeEvaluated={props:f({mergeNames(p,v,k){return p.if(o._`${k} !== true && ${v} !== undefined`,()=>{p.if(o._`${v} === true`,()=>p.assign(k,!0),()=>p.assign(k,o._`${k} || {}`).code(o._`Object.assign(${k}, ${v})`))})},mergeToName(p,v,k){return p.if(o._`${k} !== true`,()=>{v===!0?p.assign(k,!0):(p.assign(k,o._`${k} || {}`),d(p,k,v))})},mergeValues(p,v){return p===!0||{...p,...v}},resultToName:h}),items:f({mergeNames(p,v,k){return p.if(o._`${k} !== true && ${v} !== undefined`,()=>p.assign(k,o._`${v} === true ? true : ${k} > ${v} ? ${k} : ${v}`))},mergeToName(p,v,k){return p.if(o._`${k} !== true`,()=>p.assign(k,v===!0||o._`${k} > ${v} ? ${k} : ${v}`))},mergeValues(p,v){return p===!0||Math.max(p,v)},resultToName(p,v){return p.var("items",v)}})},r.evaluatedPropsToName=h,r.setEvaluated=d;const m={};var g;function y(p,v,k=p.opts.strictSchema){if(k){if(v=`strict mode: ${v}`,k===!0)throw new Error(v);p.self.logger.warn(v)}}r.useFunc=function(p,v){return p.scopeValue("func",{ref:v,code:m[v.code]||(m[v.code]=new s._Code(v.code))})},function(p){p[p.Num=0]="Num",p[p.Str=1]="Str"}(g=r.Type||(r.Type={})),r.getErrorPath=function(p,v,k){if(p instanceof o.Name){const b=v===g.Num;return k?b?o._`"[" + ${p} + "]"`:o._`"['" + ${p} + "']"`:b?o._`"/" + ${p}`:o._`"/" + ${p}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return k?(0,o.getProperty)(p).toString():"/"+c(p)},r.checkStrictMode=y},{"./codegen":2,"./codegen/code":1}],11:[function(t,i,r){function o(l,a){return a.rules.some(c=>s(l,c))}function s(l,a){var c;return l[a.keyword]!==void 0||((c=a.definition.implements)===null||c===void 0?void 0:c.some(u=>l[u]!==void 0))}Object.defineProperty(r,"__esModule",{value:!0}),r.shouldUseRule=r.shouldUseGroup=r.schemaHasRulesForType=void 0,r.schemaHasRulesForType=function({schema:l,self:a},c){const u=a.RULES.types[c];return u&&u!==!0&&o(l,u)},r.shouldUseGroup=o,r.shouldUseRule=s},{}],12:[function(t,i,r){Object.defineProperty(r,"__esModule",{value:!0}),r.boolOrEmptySchema=r.topBoolOrEmptySchema=void 0;const o=t("../errors"),s=t("../codegen"),l=t("../names"),a={message:"boolean schema is false"};function c(u,f){const{gen:h,data:d}=u;(0,o.reportError)({gen:h,keyword:"false schema",data:d,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:u},a,void 0,f)}r.topBoolOrEmptySchema=function(u){const{gen:f,schema:h,validateName:d}=u;h===!1?c(u,!1):typeof h=="object"&&h.$async===!0?f.return(l.default.data):(f.assign(s._`${d}.errors`,null),f.return(!0))},r.boolOrEmptySchema=function(u,f){const{gen:h,schema:d}=u;d===!1?(h.var(f,!1),c(u)):h.var(f,!0)}},{"../codegen":2,"../errors":4,"../names":6}],13:[function(t,i,r){Object.defineProperty(r,"__esModule",{value:!0}),r.reportTypeError=r.checkDataTypes=r.checkDataType=r.coerceAndCheckDataType=r.getJSONTypes=r.getSchemaTypes=r.DataType=void 0;const o=t("../rules"),s=t("./applicability"),l=t("../errors"),a=t("../codegen"),c=t("../util");var u;function f(p){const v=Array.isArray(p)?p:p?[p]:[];if(v.every(o.isJSONType))return v;throw new Error("type must be JSONType or JSONType[]: "+v.join(","))}(function(p){p[p.Correct=0]="Correct",p[p.Wrong=1]="Wrong"})(u=r.DataType||(r.DataType={})),r.getSchemaTypes=function(p){const v=f(p.type);if(v.includes("null")){if(p.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!v.length&&p.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');p.nullable===!0&&v.push("null")}return v},r.getJSONTypes=f,r.coerceAndCheckDataType=function(p,v){const{gen:k,data:b,opts:S}=p,O=function(L,P){return P?L.filter(D=>h.has(D)||P==="array"&&D==="array"):[]}(v,S.coerceTypes),I=v.length>0&&!(O.length===0&&v.length===1&&(0,s.schemaHasRulesForType)(p,v[0]));if(I){const L=m(v,b,S.strictNumbers,u.Wrong);k.if(L,()=>{O.length?function(P,D,H){const{gen:F,data:q,opts:U}=P,B=F.let("dataType",a._`typeof ${q}`),Q=F.let("coerced",a._`undefined`);U.coerceTypes==="array"&&F.if(a._`${B} == 'object' && Array.isArray(${q}) && ${q}.length == 1`,()=>F.assign(q,a._`${q}[0]`).assign(B,a._`typeof ${q}`).if(m(D,q,U.strictNumbers),()=>F.assign(Q,q))),F.if(a._`${Q} !== undefined`);for(const le of H)(h.has(le)||le==="array"&&U.coerceTypes==="array")&&re(le);function re(le){switch(le){case"string":return void F.elseIf(a._`${B} == "number" || ${B} == "boolean"`).assign(Q,a._`"" + ${q}`).elseIf(a._`${q} === null`).assign(Q,a._`""`);case"number":return void F.elseIf(a._`${B} == "boolean" || ${q} === null
              || (${B} == "string" && ${q} && ${q} == +${q})`).assign(Q,a._`+${q}`);case"integer":return void F.elseIf(a._`${B} === "boolean" || ${q} === null
              || (${B} === "string" && ${q} && ${q} == +${q} && !(${q} % 1))`).assign(Q,a._`+${q}`);case"boolean":return void F.elseIf(a._`${q} === "false" || ${q} === 0 || ${q} === null`).assign(Q,!1).elseIf(a._`${q} === "true" || ${q} === 1`).assign(Q,!0);case"null":return F.elseIf(a._`${q} === "" || ${q} === 0 || ${q} === false`),void F.assign(Q,null);case"array":F.elseIf(a._`${B} === "string" || ${B} === "number"
              || ${B} === "boolean" || ${q} === null`).assign(Q,a._`[${q}]`)}}F.else(),y(P),F.endIf(),F.if(a._`${Q} !== undefined`,()=>{F.assign(q,Q),function({gen:le,parentData:x,parentDataProperty:N},ie){le.if(a._`${x} !== undefined`,()=>le.assign(a._`${x}[${N}]`,ie))}(P,Q)})}(p,v,O):y(p)})}return I};const h=new Set(["string","number","integer","boolean","null"]);function d(p,v,k,b=u.Correct){const S=b===u.Correct?a.operators.EQ:a.operators.NEQ;let O;switch(p){case"null":return a._`${v} ${S} null`;case"array":O=a._`Array.isArray(${v})`;break;case"object":O=a._`${v} && typeof ${v} == "object" && !Array.isArray(${v})`;break;case"integer":O=I(a._`!(${v} % 1) && !isNaN(${v})`);break;case"number":O=I();break;default:return a._`typeof ${v} ${S} ${p}`}return b===u.Correct?O:(0,a.not)(O);function I(L=a.nil){return(0,a.and)(a._`typeof ${v} == "number"`,L,k?a._`isFinite(${v})`:a.nil)}}function m(p,v,k,b){if(p.length===1)return d(p[0],v,k,b);let S;const O=(0,c.toHash)(p);if(O.array&&O.object){const I=a._`typeof ${v} != "object"`;S=O.null?I:a._`!${v} || ${I}`,delete O.null,delete O.array,delete O.object}else S=a.nil;O.number&&delete O.integer;for(const I in O)S=(0,a.and)(S,d(I,v,k,b));return S}r.checkDataType=d,r.checkDataTypes=m;const g={message({schema:p}){return`must be ${p}`},params({schema:p,schemaValue:v}){return typeof p=="string"?a._`{type: ${p}}`:a._`{type: ${v}}`}};function y(p){const v=function(k){const{gen:b,data:S,schema:O}=k,I=(0,c.schemaRefOrVal)(k,O,"type");return{gen:b,keyword:"type",data:S,schema:O.type,schemaCode:I,schemaValue:I,parentSchema:O,params:{},it:k}}(p);(0,l.reportError)(v,g)}r.reportTypeError=y},{"../codegen":2,"../errors":4,"../rules":9,"../util":10,"./applicability":11}],14:[function(t,i,r){Object.defineProperty(r,"__esModule",{value:!0}),r.assignDefaults=void 0;const o=t("../codegen"),s=t("../util");function l(a,c,u){const{gen:f,compositeRule:h,data:d,opts:m}=a;if(u===void 0)return;const g=o._`${d}${(0,o.getProperty)(c)}`;if(h)return void(0,s.checkStrictMode)(a,`default is ignored for: ${g}`);let y=o._`${g} === undefined`;m.useDefaults==="empty"&&(y=o._`${y} || ${g} === null || ${g} === ""`),f.if(y,o._`${g} = ${(0,o.stringify)(u)}`)}r.assignDefaults=function(a,c){const{properties:u,items:f}=a.schema;if(c==="object"&&u)for(const h in u)l(a,h,u[h].default);else c==="array"&&Array.isArray(f)&&f.forEach((h,d)=>l(a,d,h.default))}},{"../codegen":2,"../util":10}],15:[function(t,i,r){Object.defineProperty(r,"__esModule",{value:!0}),r.getData=r.KeywordCxt=r.validateFunctionCode=void 0;const o=t("./boolSchema"),s=t("./dataType"),l=t("./applicability"),a=t("./dataType"),c=t("./defaults"),u=t("./keyword"),f=t("./subschema"),h=t("../codegen"),d=t("../names"),m=t("../resolve"),g=t("../util"),y=t("../errors");function p({gen:x,validateName:N,schema:ie,schemaEnv:ne,opts:z},w){z.code.es5?x.func(N,h._`${d.default.data}, ${d.default.valCxt}`,ne.$async,()=>{x.code(h._`"use strict"; ${v(ie,z)}`),function(C,J){C.if(d.default.valCxt,()=>{C.var(d.default.instancePath,h._`${d.default.valCxt}.${d.default.instancePath}`),C.var(d.default.parentData,h._`${d.default.valCxt}.${d.default.parentData}`),C.var(d.default.parentDataProperty,h._`${d.default.valCxt}.${d.default.parentDataProperty}`),C.var(d.default.rootData,h._`${d.default.valCxt}.${d.default.rootData}`),J.dynamicRef&&C.var(d.default.dynamicAnchors,h._`${d.default.valCxt}.${d.default.dynamicAnchors}`)},()=>{C.var(d.default.instancePath,h._`""`),C.var(d.default.parentData,h._`undefined`),C.var(d.default.parentDataProperty,h._`undefined`),C.var(d.default.rootData,d.default.data),J.dynamicRef&&C.var(d.default.dynamicAnchors,h._`{}`)})}(x,z),x.code(w)}):x.func(N,h._`${d.default.data}, ${function(C){return h._`{${d.default.instancePath}="", ${d.default.parentData}, ${d.default.parentDataProperty}, ${d.default.rootData}=${d.default.data}${C.dynamicRef?h._`, ${d.default.dynamicAnchors}={}`:h.nil}}={}`}(z)}`,ne.$async,()=>x.code(v(ie,z)).code(w))}function v(x,N){const ie=typeof x=="object"&&x[N.schemaId];return ie&&(N.code.source||N.code.process)?h._`/*# sourceURL=${ie} */`:h.nil}function k(x,N){S(x)&&(O(x),b(x))?function(ie,ne){const{schema:z,gen:w,opts:C}=ie;C.$comment&&z.$comment&&L(ie),function(se){const ee=se.schema[se.opts.schemaId];ee&&(se.baseId=(0,m.resolveUrl)(se.opts.uriResolver,se.baseId,ee))}(ie),function(se){if(se.schema.$async&&!se.schemaEnv.$async)throw new Error("async schema in sync schema")}(ie);const J=w.const("_errs",d.default.errors);I(ie,J),w.var(ne,h._`${J} === ${d.default.errors}`)}(x,N):(0,o.boolOrEmptySchema)(x,N)}function b({schema:x,self:N}){if(typeof x=="boolean")return!x;for(const ie in x)if(N.RULES.all[ie])return!0;return!1}function S(x){return typeof x.schema!="boolean"}function O(x){(0,g.checkUnknownRules)(x),function(N){const{schema:ie,errSchemaPath:ne,opts:z,self:w}=N;ie.$ref&&z.ignoreKeywordsWithRef&&(0,g.schemaHasRulesButRef)(ie,w.RULES)&&w.logger.warn(`$ref: keywords ignored in schema at path "${ne}"`)}(x)}function I(x,N){if(x.opts.jtd)return P(x,[],!1,N);const ie=(0,s.getSchemaTypes)(x.schema);P(x,ie,!(0,s.coerceAndCheckDataType)(x,ie),N)}function L({gen:x,schemaEnv:N,schema:ie,errSchemaPath:ne,opts:z}){const w=ie.$comment;if(z.$comment===!0)x.code(h._`${d.default.self}.logger.log(${w})`);else if(typeof z.$comment=="function"){const C=h.str`${ne}/$comment`,J=x.scopeValue("root",{ref:N.root});x.code(h._`${d.default.self}.opts.$comment(${w}, ${C}, ${J}.schema)`)}}function P(x,N,ie,ne){const{gen:z,schema:w,data:C,allErrors:J,opts:se,self:ee}=x,{RULES:ge}=ee;function ve(Pe){(0,l.shouldUseGroup)(w,Pe)&&(Pe.type?(z.if((0,a.checkDataType)(Pe.type,C,se.strictNumbers)),D(x,Pe),N.length===1&&N[0]===Pe.type&&ie&&(z.else(),(0,a.reportTypeError)(x)),z.endIf()):D(x,Pe),J||z.if(h._`${d.default.errors} === ${ne||0}`))}!w.$ref||!se.ignoreKeywordsWithRef&&(0,g.schemaHasRulesButRef)(w,ge)?(se.jtd||function(Pe,ze){Pe.schemaEnv.meta||!Pe.opts.strictTypes||(function(Me,ae){if(!!ae.length){if(!Me.dataTypes.length)return void(Me.dataTypes=ae);ae.forEach(Re=>{F(Me.dataTypes,Re)||q(Me,`type "${Re}" not allowed by context "${Me.dataTypes.join(",")}"`)}),Me.dataTypes=Me.dataTypes.filter(Re=>F(ae,Re))}}(Pe,ze),Pe.opts.allowUnionTypes||function(Me,ae){ae.length>1&&(ae.length!==2||!ae.includes("null"))&&q(Me,"use allowUnionTypes to allow union type keyword")}(Pe,ze),function(Me,ae){const Re=Me.self.RULES.all;for(const Le in Re){const rt=Re[Le];if(typeof rt=="object"&&(0,l.shouldUseRule)(Me.schema,rt)){const{type:Oe}=rt.definition;Oe.length&&!Oe.some(ke=>H(ae,ke))&&q(Me,`missing type "${Oe.join(",")}" for keyword "${Le}"`)}}}(Pe,Pe.dataTypes))}(x,N),z.block(()=>{for(const Pe of ge.rules)ve(Pe);ve(ge.post)})):z.block(()=>B(x,"$ref",ge.all.$ref.definition))}function D(x,N){const{gen:ie,schema:ne,opts:{useDefaults:z}}=x;z&&(0,c.assignDefaults)(x,N.type),ie.block(()=>{for(const w of N.rules)(0,l.shouldUseRule)(ne,w)&&B(x,w.keyword,w.definition,N.type)})}function H(x,N){return x.includes(N)||N==="number"&&x.includes("integer")}function F(x,N){return x.includes(N)||N==="integer"&&x.includes("number")}function q(x,N){(0,g.checkStrictMode)(x,N+=` at "${x.schemaEnv.baseId+x.errSchemaPath}" (strictTypes)`,x.opts.strictTypes)}r.validateFunctionCode=function(x){S(x)&&(O(x),b(x))?function(N){const{schema:ie,opts:ne,gen:z}=N;p(N,()=>{ne.$comment&&ie.$comment&&L(N),function(w){const{schema:C,opts:J}=w;C.default!==void 0&&J.useDefaults&&J.strictSchema&&(0,g.checkStrictMode)(w,"default is ignored in the schema root")}(N),z.let(d.default.vErrors,null),z.let(d.default.errors,0),ne.unevaluated&&function(w){const{gen:C,validateName:J}=w;w.evaluated=C.const("evaluated",h._`${J}.evaluated`),C.if(h._`${w.evaluated}.dynamicProps`,()=>C.assign(h._`${w.evaluated}.props`,h._`undefined`)),C.if(h._`${w.evaluated}.dynamicItems`,()=>C.assign(h._`${w.evaluated}.items`,h._`undefined`))}(N),I(N),function(w){const{gen:C,schemaEnv:J,validateName:se,ValidationError:ee,opts:ge}=w;J.$async?C.if(h._`${d.default.errors} === 0`,()=>C.return(d.default.data),()=>C.throw(h._`new ${ee}(${d.default.vErrors})`)):(C.assign(h._`${se}.errors`,d.default.vErrors),ge.unevaluated&&function({gen:ve,evaluated:Pe,props:ze,items:Me}){ze instanceof h.Name&&ve.assign(h._`${Pe}.props`,ze),Me instanceof h.Name&&ve.assign(h._`${Pe}.items`,Me)}(w),C.return(h._`${d.default.errors} === 0`))}(N)})}(x):p(x,()=>(0,o.topBoolOrEmptySchema)(x))};class U{constructor(N,ie,ne){if((0,u.validateKeywordUsage)(N,ie,ne),this.gen=N.gen,this.allErrors=N.allErrors,this.keyword=ne,this.data=N.data,this.schema=N.schema[ne],this.$data=ie.$data&&N.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,g.schemaRefOrVal)(N,this.schema,ne,this.$data),this.schemaType=ie.schemaType,this.parentSchema=N.schema,this.params={},this.it=N,this.def=ie,this.$data)this.schemaCode=N.gen.const("vSchema",le(this.$data,N));else if(this.schemaCode=this.schemaValue,!(0,u.validSchemaType)(this.schema,ie.schemaType,ie.allowUndefined))throw new Error(`${ne} value must be ${JSON.stringify(ie.schemaType)}`);("code"in ie?ie.trackErrors:ie.errors!==!1)&&(this.errsCount=N.gen.const("_errs",d.default.errors))}result(N,ie,ne){this.failResult((0,h.not)(N),ie,ne)}failResult(N,ie,ne){this.gen.if(N),ne?ne():this.error(),ie?(this.gen.else(),ie(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(N,ie){this.failResult((0,h.not)(N),void 0,ie)}fail(N){if(N===void 0)return this.error(),void(this.allErrors||this.gen.if(!1));this.gen.if(N),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(N){if(!this.$data)return this.fail(N);const{schemaCode:ie}=this;this.fail(h._`${ie} !== undefined && (${(0,h.or)(this.invalid$data(),N)})`)}error(N,ie,ne){if(ie)return this.setParams(ie),this._error(N,ne),void this.setParams({});this._error(N,ne)}_error(N,ie){(N?y.reportExtraError:y.reportError)(this,this.def.error,ie)}$dataError(){(0,y.reportError)(this,this.def.$dataError||y.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,y.resetErrorsCount)(this.gen,this.errsCount)}ok(N){this.allErrors||this.gen.if(N)}setParams(N,ie){ie?Object.assign(this.params,N):this.params=N}block$data(N,ie,ne=h.nil){this.gen.block(()=>{this.check$data(N,ne),ie()})}check$data(N=h.nil,ie=h.nil){if(!this.$data)return;const{gen:ne,schemaCode:z,schemaType:w,def:C}=this;ne.if((0,h.or)(h._`${z} === undefined`,ie)),N!==h.nil&&ne.assign(N,!0),(w.length||C.validateSchema)&&(ne.elseIf(this.invalid$data()),this.$dataError(),N!==h.nil&&ne.assign(N,!1)),ne.else()}invalid$data(){const{gen:N,schemaCode:ie,schemaType:ne,def:z,it:w}=this;return(0,h.or)(function(){if(ne.length){if(!(ie instanceof h.Name))throw new Error("ajv implementation error");const C=Array.isArray(ne)?ne:[ne];return h._`${(0,a.checkDataTypes)(C,ie,w.opts.strictNumbers,a.DataType.Wrong)}`}return h.nil}(),function(){if(z.validateSchema){const C=N.scopeValue("validate$data",{ref:z.validateSchema});return h._`!${C}(${ie})`}return h.nil}())}subschema(N,ie){const ne=(0,f.getSubschema)(this.it,N);(0,f.extendSubschemaData)(ne,this.it,N),(0,f.extendSubschemaMode)(ne,N);const z={...this.it,...ne,items:void 0,props:void 0};return k(z,ie),z}mergeEvaluated(N,ie){const{it:ne,gen:z}=this;ne.opts.unevaluated&&(ne.props!==!0&&N.props!==void 0&&(ne.props=g.mergeEvaluated.props(z,N.props,ne.props,ie)),ne.items!==!0&&N.items!==void 0&&(ne.items=g.mergeEvaluated.items(z,N.items,ne.items,ie)))}mergeValidEvaluated(N,ie){const{it:ne,gen:z}=this;if(ne.opts.unevaluated&&(ne.props!==!0||ne.items!==!0))return z.if(ie,()=>this.mergeEvaluated(N,h.Name)),!0}}function B(x,N,ie,ne){const z=new U(x,ie,N);"code"in ie?ie.code(z,ne):z.$data&&ie.validate?(0,u.funcKeywordCode)(z,ie):"macro"in ie?(0,u.macroKeywordCode)(z,ie):(ie.compile||ie.validate)&&(0,u.funcKeywordCode)(z,ie)}r.KeywordCxt=U;const Q=/^\/(?:[^~]|~0|~1)*$/,re=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function le(x,{dataLevel:N,dataNames:ie,dataPathArr:ne}){let z,w;if(x==="")return d.default.rootData;if(x[0]==="/"){if(!Q.test(x))throw new Error(`Invalid JSON-pointer: ${x}`);z=x,w=d.default.rootData}else{const ee=re.exec(x);if(!ee)throw new Error(`Invalid JSON-pointer: ${x}`);const ge=+ee[1];if(z=ee[2],z==="#"){if(ge>=N)throw new Error(se("property/index",ge));return ne[N-ge]}if(ge>N)throw new Error(se("data",ge));if(w=ie[N-ge],!z)return w}let C=w;const J=z.split("/");for(const ee of J)ee&&(w=h._`${w}${(0,h.getProperty)((0,g.unescapeJsonPointer)(ee))}`,C=h._`${C} && ${w}`);return C;function se(ee,ge){return`Cannot access ${ee} ${ge} levels up, current level is ${N}`}}r.getData=le},{"../codegen":2,"../errors":4,"../names":6,"../resolve":8,"../util":10,"./applicability":11,"./boolSchema":12,"./dataType":13,"./defaults":14,"./keyword":16,"./subschema":17}],16:[function(t,i,r){Object.defineProperty(r,"__esModule",{value:!0}),r.validateKeywordUsage=r.validSchemaType=r.funcKeywordCode=r.macroKeywordCode=void 0;const o=t("../codegen"),s=t("../names"),l=t("../../vocabularies/code"),a=t("../errors");function c(f){const{gen:h,data:d,it:m}=f;h.if(m.parentData,()=>h.assign(d,o._`${m.parentData}[${m.parentDataProperty}]`))}function u(f,h,d){if(d===void 0)throw new Error(`keyword "${h}" failed to compile`);return f.scopeValue("keyword",typeof d=="function"?{ref:d}:{ref:d,code:(0,o.stringify)(d)})}r.macroKeywordCode=function(f,h){const{gen:d,keyword:m,schema:g,parentSchema:y,it:p}=f,v=h.macro.call(p.self,g,y,p),k=u(d,m,v);p.opts.validateSchema!==!1&&p.self.validateSchema(v,!0);const b=d.name("valid");f.subschema({schema:v,schemaPath:o.nil,errSchemaPath:`${p.errSchemaPath}/${m}`,topSchemaRef:k,compositeRule:!0},b),f.pass(b,()=>f.error(!0))},r.funcKeywordCode=function(f,h){var d;const{gen:m,keyword:g,schema:y,parentSchema:p,$data:v,it:k}=f;(function({schemaEnv:P},D){if(D.async&&!P.$async)throw new Error("async keyword in sync schema")})(k,h);const b=!v&&h.compile?h.compile.call(k.self,y,p,k):h.validate,S=u(m,g,b),O=m.let("valid");function I(P=h.async?o._`await `:o.nil){m.assign(O,o._`${P}${(0,l.callValidateCode)(f,S,k.opts.passContext?s.default.this:s.default.self,!("compile"in h&&!v||h.schema===!1))}`,h.modifying)}function L(P){var D;m.if((0,o.not)((D=h.valid)!==null&&D!==void 0?D:O),P)}f.block$data(O,function(){if(h.errors===!1)I(),h.modifying&&c(f),L(()=>f.error());else{const P=h.async?function(){const D=m.let("ruleErrs",null);return m.try(()=>I(o._`await `),H=>m.assign(O,!1).if(o._`${H} instanceof ${k.ValidationError}`,()=>m.assign(D,o._`${H}.errors`),()=>m.throw(H))),D}():function(){const D=o._`${S}.errors`;return m.assign(D,null),I(o.nil),D}();h.modifying&&c(f),L(()=>function(D,H){const{gen:F}=D;F.if(o._`Array.isArray(${H})`,()=>{F.assign(s.default.vErrors,o._`${s.default.vErrors} === null ? ${H} : ${s.default.vErrors}.concat(${H})`).assign(s.default.errors,o._`${s.default.vErrors}.length`),(0,a.extendErrors)(D)},()=>D.error())}(f,P))}}),f.ok((d=h.valid)!==null&&d!==void 0?d:O)},r.validSchemaType=function(f,h,d=!1){return!h.length||h.some(m=>m==="array"?Array.isArray(f):m==="object"?f&&typeof f=="object"&&!Array.isArray(f):typeof f==m||d&&f===void 0)},r.validateKeywordUsage=function({schema:f,opts:h,self:d,errSchemaPath:m},g,y){if(Array.isArray(g.keyword)?!g.keyword.includes(y):g.keyword!==y)throw new Error("ajv implementation error");const p=g.dependencies;if(p!=null&&p.some(v=>!Object.prototype.hasOwnProperty.call(f,v)))throw new Error(`parent schema must have dependencies of ${y}: ${p.join(",")}`);if(g.validateSchema&&!g.validateSchema(f[y])){const v=`keyword "${y}" value is invalid at path "${m}": `+d.errorsText(g.validateSchema.errors);if(h.validateSchema!=="log")throw new Error(v);d.logger.error(v)}}},{"../../vocabularies/code":42,"../codegen":2,"../errors":4,"../names":6}],17:[function(t,i,r){Object.defineProperty(r,"__esModule",{value:!0}),r.extendSubschemaMode=r.extendSubschemaData=r.getSubschema=void 0;const o=t("../codegen"),s=t("../util");r.getSubschema=function(l,{keyword:a,schemaProp:c,schema:u,schemaPath:f,errSchemaPath:h,topSchemaRef:d}){if(a!==void 0&&u!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(a!==void 0){const m=l.schema[a];return c===void 0?{schema:m,schemaPath:o._`${l.schemaPath}${(0,o.getProperty)(a)}`,errSchemaPath:`${l.errSchemaPath}/${a}`}:{schema:m[c],schemaPath:o._`${l.schemaPath}${(0,o.getProperty)(a)}${(0,o.getProperty)(c)}`,errSchemaPath:`${l.errSchemaPath}/${a}/${(0,s.escapeFragment)(c)}`}}if(u!==void 0){if(f===void 0||h===void 0||d===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:u,schemaPath:f,topSchemaRef:d,errSchemaPath:h}}throw new Error('either "keyword" or "schema" must be passed')},r.extendSubschemaData=function(l,a,{dataProp:c,dataPropType:u,data:f,dataTypes:h,propertyName:d}){if(f!==void 0&&c!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:m}=a;if(c!==void 0){const{errorPath:y,dataPathArr:p,opts:v}=a;g(m.let("data",o._`${a.data}${(0,o.getProperty)(c)}`,!0)),l.errorPath=o.str`${y}${(0,s.getErrorPath)(c,u,v.jsPropertySyntax)}`,l.parentDataProperty=o._`${c}`,l.dataPathArr=[...p,l.parentDataProperty]}f!==void 0&&(g(f instanceof o.Name?f:m.let("data",f,!0)),d!==void 0&&(l.propertyName=d));function g(y){l.data=y,l.dataLevel=a.dataLevel+1,l.dataTypes=[],a.definedProperties=new Set,l.parentData=a.data,l.dataNames=[...a.dataNames,y]}h&&(l.dataTypes=h)},r.extendSubschemaMode=function(l,{jtdDiscriminator:a,jtdMetadata:c,compositeRule:u,createErrors:f,allErrors:h}){u!==void 0&&(l.compositeRule=u),f!==void 0&&(l.createErrors=f),h!==void 0&&(l.allErrors=h),l.jtdDiscriminator=a,l.jtdMetadata=c}},{"../codegen":2,"../util":10}],18:[function(t,i,r){Object.defineProperty(r,"__esModule",{value:!0}),r.CodeGen=r.Name=r.nil=r.stringify=r.str=r._=r.KeywordCxt=void 0;var o=t("./compile/validate");Object.defineProperty(r,"KeywordCxt",{enumerable:!0,get(){return o.KeywordCxt}});var s=t("./compile/codegen");Object.defineProperty(r,"_",{enumerable:!0,get(){return s._}}),Object.defineProperty(r,"str",{enumerable:!0,get(){return s.str}}),Object.defineProperty(r,"stringify",{enumerable:!0,get(){return s.stringify}}),Object.defineProperty(r,"nil",{enumerable:!0,get(){return s.nil}}),Object.defineProperty(r,"Name",{enumerable:!0,get(){return s.Name}}),Object.defineProperty(r,"CodeGen",{enumerable:!0,get(){return s.CodeGen}});const l=t("./runtime/validation_error"),a=t("./compile/ref_error"),c=t("./compile/rules"),u=t("./compile"),f=t("./compile/codegen"),h=t("./compile/resolve"),d=t("./compile/validate/dataType"),m=t("./compile/util"),g=t("./refs/data.json"),y=t("./runtime/uri"),p=(ne,z)=>new RegExp(ne,z);p.code="new RegExp";const v=["removeAdditional","useDefaults","coerceTypes"],k=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),b={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},S={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'};function O(ne){var z,w,C,J,se,ee,ge,ve,Pe,ze,Me,ae,Re,Le,rt,Oe,ke,ot,lt,at,mt,It,de,T,W;const X=ne.strict,te=(z=ne.code)===null||z===void 0?void 0:z.optimize,be=te===!0||te===void 0?1:te||0,Ae=(C=(w=ne.code)===null||w===void 0?void 0:w.regExp)!==null&&C!==void 0?C:p,Je=(J=ne.uriResolver)!==null&&J!==void 0?J:y.default;return{strictSchema:(ee=(se=ne.strictSchema)!==null&&se!==void 0?se:X)===null||ee===void 0||ee,strictNumbers:(ve=(ge=ne.strictNumbers)!==null&&ge!==void 0?ge:X)===null||ve===void 0||ve,strictTypes:(ze=(Pe=ne.strictTypes)!==null&&Pe!==void 0?Pe:X)!==null&&ze!==void 0?ze:"log",strictTuples:(ae=(Me=ne.strictTuples)!==null&&Me!==void 0?Me:X)!==null&&ae!==void 0?ae:"log",strictRequired:(Le=(Re=ne.strictRequired)!==null&&Re!==void 0?Re:X)!==null&&Le!==void 0&&Le,code:ne.code?{...ne.code,optimize:be,regExp:Ae}:{optimize:be,regExp:Ae},loopRequired:(rt=ne.loopRequired)!==null&&rt!==void 0?rt:200,loopEnum:(Oe=ne.loopEnum)!==null&&Oe!==void 0?Oe:200,meta:(ke=ne.meta)===null||ke===void 0||ke,messages:(ot=ne.messages)===null||ot===void 0||ot,inlineRefs:(lt=ne.inlineRefs)===null||lt===void 0||lt,schemaId:(at=ne.schemaId)!==null&&at!==void 0?at:"$id",addUsedSchema:(mt=ne.addUsedSchema)===null||mt===void 0||mt,validateSchema:(It=ne.validateSchema)===null||It===void 0||It,validateFormats:(de=ne.validateFormats)===null||de===void 0||de,unicodeRegExp:(T=ne.unicodeRegExp)===null||T===void 0||T,int32range:(W=ne.int32range)===null||W===void 0||W,uriResolver:Je}}class I{constructor(z={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,z=this.opts={...z,...O(z)};const{es5:w,lines:C}=this.opts.code;this.scope=new f.ValueScope({scope:{},prefixes:k,es5:w,lines:C}),this.logger=function(se){if(se===!1)return U;if(se===void 0)return console;if(se.log&&se.warn&&se.error)return se;throw new Error("logger must implement log, warn and error methods")}(z.logger);const J=z.validateFormats;z.validateFormats=!1,this.RULES=(0,c.getRules)(),L.call(this,b,z,"NOT SUPPORTED"),L.call(this,S,z,"DEPRECATED","warn"),this._metaOpts=q.call(this),z.formats&&H.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),z.keywords&&F.call(this,z.keywords),typeof z.meta=="object"&&this.addMetaSchema(z.meta),D.call(this),z.validateFormats=J}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:z,meta:w,schemaId:C}=this.opts;let J=g;C==="id"&&(J={...g},J.id=J.$id,delete J.$id),w&&z&&this.addMetaSchema(J,J[C],!1)}defaultMeta(){const{meta:z,schemaId:w}=this.opts;return this.opts.defaultMeta=typeof z=="object"?z[w]||z:void 0}validate(z,w){let C;if(typeof z=="string"){if(C=this.getSchema(z),!C)throw new Error(`no schema with key or ref "${z}"`)}else C=this.compile(z);const J=C(w);return"$async"in C||(this.errors=C.errors),J}compile(z,w){const C=this._addSchema(z,w);return C.validate||this._compileSchemaEnv(C)}compileAsync(z,w){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:C}=this.opts;return J.call(this,z,w);async function J(ze,Me){await se.call(this,ze.$schema);const ae=this._addSchema(ze,Me);return ae.validate||ee.call(this,ae)}async function se(ze){ze&&!this.getSchema(ze)&&await J.call(this,{$ref:ze},!0)}async function ee(ze){try{return this._compileSchemaEnv(ze)}catch(Me){if(!(Me instanceof a.default))throw Me;return ge.call(this,Me),await ve.call(this,Me.missingSchema),ee.call(this,ze)}}function ge({missingSchema:ze,missingRef:Me}){if(this.refs[ze])throw new Error(`AnySchema ${ze} is loaded but ${Me} cannot be resolved`)}async function ve(ze){const Me=await Pe.call(this,ze);this.refs[ze]||await se.call(this,Me.$schema),this.refs[ze]||this.addSchema(Me,ze,w)}async function Pe(ze){const Me=this._loading[ze];if(Me)return Me;try{return await(this._loading[ze]=C(ze))}finally{delete this._loading[ze]}}}addSchema(z,w,C,J=this.opts.validateSchema){if(Array.isArray(z)){for(const ee of z)this.addSchema(ee,void 0,C,J);return this}let se;if(typeof z=="object"){const{schemaId:ee}=this.opts;if(se=z[ee],se!==void 0&&typeof se!="string")throw new Error(`schema ${ee} must be string`)}return w=(0,h.normalizeId)(w||se),this._checkUnique(w),this.schemas[w]=this._addSchema(z,C,w,J,!0),this}addMetaSchema(z,w,C=this.opts.validateSchema){return this.addSchema(z,w,!0,C),this}validateSchema(z,w){if(typeof z=="boolean")return!0;let C;if(C=z.$schema,C!==void 0&&typeof C!="string")throw new Error("$schema must be a string");if(C=C||this.opts.defaultMeta||this.defaultMeta(),!C)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const J=this.validate(C,z);if(!J&&w){const se="schema is invalid: "+this.errorsText();if(this.opts.validateSchema!=="log")throw new Error(se);this.logger.error(se)}return J}getSchema(z){let w;for(;typeof(w=P.call(this,z))=="string";)z=w;if(w===void 0){const{schemaId:C}=this.opts,J=new u.SchemaEnv({schema:{},schemaId:C});if(w=u.resolveSchema.call(this,J,z),!w)return;this.refs[z]=w}return w.validate||this._compileSchemaEnv(w)}removeSchema(z){if(z instanceof RegExp)return this._removeAllSchemas(this.schemas,z),this._removeAllSchemas(this.refs,z),this;switch(typeof z){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const w=P.call(this,z);return typeof w=="object"&&this._cache.delete(w.schema),delete this.schemas[z],delete this.refs[z],this}case"object":{this._cache.delete(z);let w=z[this.opts.schemaId];return w&&(w=(0,h.normalizeId)(w),delete this.schemas[w],delete this.refs[w]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(z){for(const w of z)this.addKeyword(w);return this}addKeyword(z,w){let C;if(typeof z=="string")C=z,typeof w=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),w.keyword=C);else{if(typeof z!="object"||w!==void 0)throw new Error("invalid addKeywords parameters");if(C=(w=z).keyword,Array.isArray(C)&&!C.length)throw new Error("addKeywords: keyword must be string or non-empty array")}if(Q.call(this,C,w),!w)return(0,m.eachItem)(C,se=>re.call(this,se)),this;x.call(this,w);const J={...w,type:(0,d.getJSONTypes)(w.type),schemaType:(0,d.getJSONTypes)(w.schemaType)};return(0,m.eachItem)(C,J.type.length===0?se=>re.call(this,se,J):se=>J.type.forEach(ee=>re.call(this,se,J,ee))),this}getKeyword(z){const w=this.RULES.all[z];return typeof w=="object"?w.definition:!!w}removeKeyword(z){const{RULES:w}=this;delete w.keywords[z],delete w.all[z];for(const C of w.rules){const J=C.rules.findIndex(se=>se.keyword===z);J>=0&&C.rules.splice(J,1)}return this}addFormat(z,w){return typeof w=="string"&&(w=new RegExp(w)),this.formats[z]=w,this}errorsText(z=this.errors,{separator:w=", ",dataVar:C="data"}={}){return z&&z.length!==0?z.map(J=>`${C}${J.instancePath} ${J.message}`).reduce((J,se)=>J+w+se):"No errors"}$dataMetaSchema(z,w){const C=this.RULES.all;z=JSON.parse(JSON.stringify(z));for(const J of w){const se=J.split("/").slice(1);let ee=z;for(const ge of se)ee=ee[ge];for(const ge in C){const ve=C[ge];if(typeof ve!="object")continue;const{$data:Pe}=ve.definition,ze=ee[ge];Pe&&ze&&(ee[ge]=ie(ze))}}return z}_removeAllSchemas(z,w){for(const C in z){const J=z[C];w&&!w.test(C)||(typeof J=="string"?delete z[C]:J&&!J.meta&&(this._cache.delete(J.schema),delete z[C]))}}_addSchema(z,w,C,J=this.opts.validateSchema,se=this.opts.addUsedSchema){let ee;const{schemaId:ge}=this.opts;if(typeof z=="object")ee=z[ge];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof z!="boolean")throw new Error("schema must be object or boolean")}let ve=this._cache.get(z);if(ve!==void 0)return ve;C=(0,h.normalizeId)(ee||C);const Pe=h.getSchemaRefs.call(this,z,C);return ve=new u.SchemaEnv({schema:z,schemaId:ge,meta:w,baseId:C,localRefs:Pe}),this._cache.set(ve.schema,ve),se&&!C.startsWith("#")&&(C&&this._checkUnique(C),this.refs[C]=ve),J&&this.validateSchema(z,!0),ve}_checkUnique(z){if(this.schemas[z]||this.refs[z])throw new Error(`schema with key or id "${z}" already exists`)}_compileSchemaEnv(z){if(z.meta?this._compileMetaSchema(z):u.compileSchema.call(this,z),!z.validate)throw new Error("ajv implementation error");return z.validate}_compileMetaSchema(z){const w=this.opts;this.opts=this._metaOpts;try{u.compileSchema.call(this,z)}finally{this.opts=w}}}function L(ne,z,w,C="error"){for(const J in ne){const se=J;se in z&&this.logger[C](`${w}: option ${J}. ${ne[se]}`)}}function P(ne){return ne=(0,h.normalizeId)(ne),this.schemas[ne]||this.refs[ne]}function D(){const ne=this.opts.schemas;if(ne)if(Array.isArray(ne))this.addSchema(ne);else for(const z in ne)this.addSchema(ne[z],z)}function H(){for(const ne in this.opts.formats){const z=this.opts.formats[ne];z&&this.addFormat(ne,z)}}function F(ne){if(Array.isArray(ne))this.addVocabulary(ne);else{this.logger.warn("keywords option as map is deprecated, pass array");for(const z in ne){const w=ne[z];w.keyword||(w.keyword=z),this.addKeyword(w)}}}function q(){const ne={...this.opts};for(const z of v)delete ne[z];return ne}r.default=I,I.ValidationError=l.default,I.MissingRefError=a.default;const U={log(){},warn(){},error(){}},B=/^[a-z_$][a-z0-9_$:-]*$/i;function Q(ne,z){const{RULES:w}=this;if((0,m.eachItem)(ne,C=>{if(w.keywords[C])throw new Error(`Keyword ${C} is already defined`);if(!B.test(C))throw new Error(`Keyword ${C} has invalid name`)}),z&&z.$data&&!("code"in z)&&!("validate"in z))throw new Error('$data keyword must have "code" or "validate" function')}function re(ne,z,w){var C;const J=z==null?void 0:z.post;if(w&&J)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:se}=this;let ee=J?se.post:se.rules.find(({type:ve})=>ve===w);if(ee||(ee={type:w,rules:[]},se.rules.push(ee)),se.keywords[ne]=!0,!z)return;const ge={keyword:ne,definition:{...z,type:(0,d.getJSONTypes)(z.type),schemaType:(0,d.getJSONTypes)(z.schemaType)}};z.before?le.call(this,ee,ge,z.before):ee.rules.push(ge),se.all[ne]=ge,(C=z.implements)===null||C===void 0||C.forEach(ve=>this.addKeyword(ve))}function le(ne,z,w){const C=ne.rules.findIndex(J=>J.keyword===w);C>=0?ne.rules.splice(C,0,z):(ne.rules.push(z),this.logger.warn(`rule ${w} is not defined`))}function x(ne){let{metaSchema:z}=ne;z!==void 0&&(ne.$data&&this.opts.$data&&(z=ie(z)),ne.validateSchema=this.compile(z,!0))}const N={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function ie(ne){return{anyOf:[ne,N]}}},{"./compile":5,"./compile/codegen":2,"./compile/ref_error":7,"./compile/resolve":8,"./compile/rules":9,"./compile/util":10,"./compile/validate":15,"./compile/validate/dataType":13,"./refs/data.json":19,"./runtime/uri":23,"./runtime/validation_error":24}],19:[function(t,i,r){i.exports={$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON AnySchema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1}},{}],20:[function(t,i,r){i.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0}},{}],21:[function(t,i,r){Object.defineProperty(r,"__esModule",{value:!0});const o=t("fast-deep-equal");o.code='require("ajv/dist/runtime/equal").default',r.default=o},{"fast-deep-equal":63}],22:[function(t,i,r){function o(s){const l=s.length;let a,c=0,u=0;for(;u<l;)c++,a=s.charCodeAt(u++),a>=55296&&a<=56319&&u<l&&(a=s.charCodeAt(u),(64512&a)==56320&&u++);return c}Object.defineProperty(r,"__esModule",{value:!0}),r.default=o,o.code='require("ajv/dist/runtime/ucs2length").default'},{}],23:[function(t,i,r){Object.defineProperty(r,"__esModule",{value:!0});const o=t("uri-js");o.code='require("ajv/dist/runtime/uri").default',r.default=o},{"uri-js":65}],24:[function(t,i,r){Object.defineProperty(r,"__esModule",{value:!0});class o extends Error{constructor(l){super("validation failed"),this.errors=l,this.ajv=this.validation=!0}}r.default=o},{}],25:[function(t,i,r){Object.defineProperty(r,"__esModule",{value:!0}),r.validateAdditionalItems=void 0;const o=t("../../compile/codegen"),s=t("../../compile/util"),l={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message({params:{len:c}}){return o.str`must NOT have more than ${c} items`},params({params:{len:c}}){return o._`{limit: ${c}}`}},code(c){const{parentSchema:u,it:f}=c,{items:h}=u;Array.isArray(h)?a(c,h):(0,s.checkStrictMode)(f,'"additionalItems" is ignored when "items" is not an array of schemas')}};function a(c,u){const{gen:f,schema:h,data:d,keyword:m,it:g}=c;g.items=!0;const y=f.const("len",o._`${d}.length`);if(h===!1)c.setParams({len:u.length}),c.pass(o._`${y} <= ${u.length}`);else if(typeof h=="object"&&!(0,s.alwaysValidSchema)(g,h)){const p=f.var("valid",o._`${y} <= ${u.length}`);f.if((0,o.not)(p),()=>function(v){f.forRange("i",u.length,y,k=>{c.subschema({keyword:m,dataProp:k,dataPropType:s.Type.Num},v),g.allErrors||f.if((0,o.not)(v),()=>f.break())})}(p)),c.ok(p)}}r.validateAdditionalItems=a,r.default=l},{"../../compile/codegen":2,"../../compile/util":10}],26:[function(t,i,r){Object.defineProperty(r,"__esModule",{value:!0});const o=t("../code"),s=t("../../compile/codegen"),l=t("../../compile/names"),a=t("../../compile/util");r.default={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params({params:c}){return s._`{additionalProperty: ${c.additionalProperty}}`}},code(c){const{gen:u,schema:f,parentSchema:h,data:d,errsCount:m,it:g}=c;if(!m)throw new Error("ajv implementation error");const{allErrors:y,opts:p}=g;if(g.props=!0,p.removeAdditional!=="all"&&(0,a.alwaysValidSchema)(g,f))return;const v=(0,o.allSchemaProperties)(h.properties),k=(0,o.allSchemaProperties)(h.patternProperties);function b(I){u.code(s._`delete ${d}[${I}]`)}function S(I){if(p.removeAdditional==="all"||p.removeAdditional&&f===!1)b(I);else{if(f===!1)return c.setParams({additionalProperty:I}),c.error(),void(y||u.break());if(typeof f=="object"&&!(0,a.alwaysValidSchema)(g,f)){const L=u.name("valid");p.removeAdditional==="failing"?(O(I,L,!1),u.if((0,s.not)(L),()=>{c.reset(),b(I)})):(O(I,L),y||u.if((0,s.not)(L),()=>u.break()))}}}function O(I,L,P){const D={keyword:"additionalProperties",dataProp:I,dataPropType:a.Type.Str};P===!1&&Object.assign(D,{compositeRule:!0,createErrors:!1,allErrors:!1}),c.subschema(D,L)}u.forIn("key",d,I=>{v.length||k.length?u.if(function(L){let P;if(v.length>8){const D=(0,a.schemaRefOrVal)(g,h.properties,"properties");P=(0,o.isOwnProperty)(u,D,L)}else P=v.length?(0,s.or)(...v.map(D=>s._`${L} === ${D}`)):s.nil;return k.length&&(P=(0,s.or)(P,...k.map(D=>s._`${(0,o.usePattern)(c,D)}.test(${L})`))),(0,s.not)(P)}(I),()=>S(I)):S(I)}),c.ok(s._`${m} === ${l.default.errors}`)}}},{"../../compile/codegen":2,"../../compile/names":6,"../../compile/util":10,"../code":42}],27:[function(t,i,r){Object.defineProperty(r,"__esModule",{value:!0});const o=t("../../compile/util");r.default={keyword:"allOf",schemaType:"array",code(s){const{gen:l,schema:a,it:c}=s;if(!Array.isArray(a))throw new Error("ajv implementation error");const u=l.name("valid");a.forEach((f,h)=>{if((0,o.alwaysValidSchema)(c,f))return;const d=s.subschema({keyword:"allOf",schemaProp:h},u);s.ok(u),s.mergeEvaluated(d)})}}},{"../../compile/util":10}],28:[function(t,i,r){Object.defineProperty(r,"__esModule",{value:!0});const o=t("../code");r.default={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:o.validateUnion,error:{message:"must match a schema in anyOf"}}},{"../code":42}],29:[function(t,i,r){Object.defineProperty(r,"__esModule",{value:!0});const o=t("../../compile/codegen"),s=t("../../compile/util");r.default={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message({params:{min:l,max:a}}){return a===void 0?o.str`must contain at least ${l} valid item(s)`:o.str`must contain at least ${l} and no more than ${a} valid item(s)`},params({params:{min:l,max:a}}){return a===void 0?o._`{minContains: ${l}}`:o._`{minContains: ${l}, maxContains: ${a}}`}},code(l){const{gen:a,schema:c,parentSchema:u,data:f,it:h}=l;let d,m;const{minContains:g,maxContains:y}=u;h.opts.next?(d=g===void 0?1:g,m=y):d=1;const p=a.const("len",o._`${f}.length`);if(l.setParams({min:d,max:m}),m===void 0&&d===0)return void(0,s.checkStrictMode)(h,'"minContains" == 0 without "maxContains": "contains" keyword ignored');if(m!==void 0&&d>m)return(0,s.checkStrictMode)(h,'"minContains" > "maxContains" is always invalid'),void l.fail();if((0,s.alwaysValidSchema)(h,c)){let S=o._`${p} >= ${d}`;return m!==void 0&&(S=o._`${S} && ${p} <= ${m}`),void l.pass(S)}h.items=!0;const v=a.name("valid");function k(){const S=a.name("_valid"),O=a.let("count",0);b(S,()=>a.if(S,()=>function(I){a.code(o._`${I}++`),m===void 0?a.if(o._`${I} >= ${d}`,()=>a.assign(v,!0).break()):(a.if(o._`${I} > ${m}`,()=>a.assign(v,!1).break()),d===1?a.assign(v,!0):a.if(o._`${I} >= ${d}`,()=>a.assign(v,!0)))}(O)))}function b(S,O){a.forRange("i",0,p,I=>{l.subschema({keyword:"contains",dataProp:I,dataPropType:s.Type.Num,compositeRule:!0},S),O()})}m===void 0&&d===1?b(v,()=>a.if(v,()=>a.break())):d===0?(a.let(v,!0),m!==void 0&&a.if(o._`${f}.length > 0`,k)):(a.let(v,!1),k()),l.result(v,()=>l.reset())}}},{"../../compile/codegen":2,"../../compile/util":10}],30:[function(t,i,r){Object.defineProperty(r,"__esModule",{value:!0}),r.validateSchemaDeps=r.validatePropertyDeps=r.error=void 0;const o=t("../../compile/codegen"),s=t("../../compile/util"),l=t("../code");r.error={message({params:{property:f,depsCount:h,deps:d}}){return o.str`must have ${h===1?"property":"properties"} ${d} when property ${f} is present`},params({params:{property:f,depsCount:h,deps:d,missingProperty:m}}){return o._`{property: ${f},
    missingProperty: ${m},
    depsCount: ${h},
    deps: ${d}}`}};const a={keyword:"dependencies",type:"object",schemaType:"object",error:r.error,code(f){const[h,d]=function({schema:m}){const g={},y={};for(const p in m)p!=="__proto__"&&((Array.isArray(m[p])?g:y)[p]=m[p]);return[g,y]}(f);c(f,h),u(f,d)}};function c(f,h=f.schema){const{gen:d,data:m,it:g}=f;if(Object.keys(h).length===0)return;const y=d.let("missing");for(const p in h){const v=h[p];if(v.length===0)continue;const k=(0,l.propertyInData)(d,m,p,g.opts.ownProperties);f.setParams({property:p,depsCount:v.length,deps:v.join(", ")}),g.allErrors?d.if(k,()=>{for(const b of v)(0,l.checkReportMissingProp)(f,b)}):(d.if(o._`${k} && (${(0,l.checkMissingProp)(f,v,y)})`),(0,l.reportMissingProp)(f,y),d.else())}}function u(f,h=f.schema){const{gen:d,data:m,keyword:g,it:y}=f,p=d.name("valid");for(const v in h)(0,s.alwaysValidSchema)(y,h[v])||(d.if((0,l.propertyInData)(d,m,v,y.opts.ownProperties),()=>{const k=f.subschema({keyword:g,schemaProp:v},p);f.mergeValidEvaluated(k,p)},()=>d.var(p,!0)),f.ok(p))}r.validatePropertyDeps=c,r.validateSchemaDeps=u,r.default=a},{"../../compile/codegen":2,"../../compile/util":10,"../code":42}],31:[function(t,i,r){Object.defineProperty(r,"__esModule",{value:!0});const o=t("../../compile/codegen"),s=t("../../compile/util");function l(a,c){const u=a.schema[c];return u!==void 0&&!(0,s.alwaysValidSchema)(a,u)}r.default={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message({params:a}){return o.str`must match "${a.ifClause}" schema`},params({params:a}){return o._`{failingKeyword: ${a.ifClause}}`}},code(a){const{gen:c,parentSchema:u,it:f}=a;u.then===void 0&&u.else===void 0&&(0,s.checkStrictMode)(f,'"if" without "then" and "else" is ignored');const h=l(f,"then"),d=l(f,"else");if(!h&&!d)return;const m=c.let("valid",!0),g=c.name("_valid");if(function(){const p=a.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},g);a.mergeEvaluated(p)}(),a.reset(),h&&d){const p=c.let("ifClause");a.setParams({ifClause:p}),c.if(g,y("then",p),y("else",p))}else h?c.if(g,y("then")):c.if((0,o.not)(g),y("else"));function y(p,v){return()=>{const k=a.subschema({keyword:p},g);c.assign(m,g),a.mergeValidEvaluated(k,m),v?c.assign(v,o._`${p}`):a.setParams({ifClause:p})}}a.pass(m,()=>a.error(!0))}}},{"../../compile/codegen":2,"../../compile/util":10}],32:[function(t,i,r){Object.defineProperty(r,"__esModule",{value:!0});const o=t("./additionalItems"),s=t("./prefixItems"),l=t("./items"),a=t("./items2020"),c=t("./contains"),u=t("./dependencies"),f=t("./propertyNames"),h=t("./additionalProperties"),d=t("./properties"),m=t("./patternProperties"),g=t("./not"),y=t("./anyOf"),p=t("./oneOf"),v=t("./allOf"),k=t("./if"),b=t("./thenElse");r.default=function(S=!1){const O=[g.default,y.default,p.default,v.default,k.default,b.default,f.default,h.default,u.default,d.default,m.default];return S?O.push(s.default,a.default):O.push(o.default,l.default),O.push(c.default),O}},{"./additionalItems":25,"./additionalProperties":26,"./allOf":27,"./anyOf":28,"./contains":29,"./dependencies":30,"./if":31,"./items":33,"./items2020":34,"./not":35,"./oneOf":36,"./patternProperties":37,"./prefixItems":38,"./properties":39,"./propertyNames":40,"./thenElse":41}],33:[function(t,i,r){Object.defineProperty(r,"__esModule",{value:!0}),r.validateTuple=void 0;const o=t("../../compile/codegen"),s=t("../../compile/util"),l=t("../code"),a={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(u){const{schema:f,it:h}=u;if(Array.isArray(f))return c(u,"additionalItems",f);h.items=!0,(0,s.alwaysValidSchema)(h,f)||u.ok((0,l.validateArray)(u))}};function c(u,f,h=u.schema){const{gen:d,parentSchema:m,data:g,keyword:y,it:p}=u;(function(b){const{opts:S,errSchemaPath:O}=p,I=h.length,L=I===b.minItems&&(I===b.maxItems||b[f]===!1);S.strictTuples&&!L&&(0,s.checkStrictMode)(p,`"${y}" is ${I}-tuple, but minItems or maxItems/${f} are not specified or different at path "${O}"`,S.strictTuples)})(m),p.opts.unevaluated&&h.length&&p.items!==!0&&(p.items=s.mergeEvaluated.items(d,h.length,p.items));const v=d.name("valid"),k=d.const("len",o._`${g}.length`);h.forEach((b,S)=>{(0,s.alwaysValidSchema)(p,b)||(d.if(o._`${k} > ${S}`,()=>u.subschema({keyword:y,schemaProp:S,dataProp:S},v)),u.ok(v))})}r.validateTuple=c,r.default=a},{"../../compile/codegen":2,"../../compile/util":10,"../code":42}],34:[function(t,i,r){Object.defineProperty(r,"__esModule",{value:!0});const o=t("../../compile/codegen"),s=t("../../compile/util"),l=t("../code"),a=t("./additionalItems");r.default={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message({params:{len:c}}){return o.str`must NOT have more than ${c} items`},params({params:{len:c}}){return o._`{limit: ${c}}`}},code(c){const{schema:u,parentSchema:f,it:h}=c,{prefixItems:d}=f;h.items=!0,(0,s.alwaysValidSchema)(h,u)||(d?(0,a.validateAdditionalItems)(c,d):c.ok((0,l.validateArray)(c)))}}},{"../../compile/codegen":2,"../../compile/util":10,"../code":42,"./additionalItems":25}],35:[function(t,i,r){Object.defineProperty(r,"__esModule",{value:!0});const o=t("../../compile/util");r.default={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(s){const{gen:l,schema:a,it:c}=s;if((0,o.alwaysValidSchema)(c,a))return void s.fail();const u=l.name("valid");s.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},u),s.failResult(u,()=>s.reset(),()=>s.error())},error:{message:"must NOT be valid"}}},{"../../compile/util":10}],36:[function(t,i,r){Object.defineProperty(r,"__esModule",{value:!0});const o=t("../../compile/codegen"),s=t("../../compile/util");r.default={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params({params:l}){return o._`{passingSchemas: ${l.passing}}`}},code(l){const{gen:a,schema:c,parentSchema:u,it:f}=l;if(!Array.isArray(c))throw new Error("ajv implementation error");if(f.opts.discriminator&&u.discriminator)return;const h=c,d=a.let("valid",!1),m=a.let("passing",null),g=a.name("_valid");l.setParams({passing:m}),a.block(function(){h.forEach((y,p)=>{let v;(0,s.alwaysValidSchema)(f,y)?a.var(g,!0):v=l.subschema({keyword:"oneOf",schemaProp:p,compositeRule:!0},g),p>0&&a.if(o._`${g} && ${d}`).assign(d,!1).assign(m,o._`[${m}, ${p}]`).else(),a.if(g,()=>{a.assign(d,!0),a.assign(m,p),v&&l.mergeEvaluated(v,o.Name)})})}),l.result(d,()=>l.reset(),()=>l.error(!0))}}},{"../../compile/codegen":2,"../../compile/util":10}],37:[function(t,i,r){Object.defineProperty(r,"__esModule",{value:!0});const o=t("../code"),s=t("../../compile/codegen"),l=t("../../compile/util"),a=t("../../compile/util");r.default={keyword:"patternProperties",type:"object",schemaType:"object",code(c){const{gen:u,schema:f,data:h,parentSchema:d,it:m}=c,{opts:g}=m,y=(0,o.allSchemaProperties)(f),p=y.filter(I=>(0,l.alwaysValidSchema)(m,f[I]));if(y.length===0||p.length===y.length&&(!m.opts.unevaluated||m.props===!0))return;const v=g.strictSchema&&!g.allowMatchingProperties&&d.properties,k=u.name("valid");m.props===!0||m.props instanceof s.Name||(m.props=(0,a.evaluatedPropsToName)(u,m.props));const{props:b}=m;function S(I){for(const L in v)new RegExp(I).test(L)&&(0,l.checkStrictMode)(m,`property ${L} matches pattern ${I} (use allowMatchingProperties)`)}function O(I){u.forIn("key",h,L=>{u.if(s._`${(0,o.usePattern)(c,I)}.test(${L})`,()=>{const P=p.includes(I);P||c.subschema({keyword:"patternProperties",schemaProp:I,dataProp:L,dataPropType:a.Type.Str},k),m.opts.unevaluated&&b!==!0?u.assign(s._`${b}[${L}]`,!0):P||m.allErrors||u.if((0,s.not)(k),()=>u.break())})})}(function(){for(const I of y)v&&S(I),m.allErrors?O(I):(u.var(k,!0),O(I),u.if(k))})()}}},{"../../compile/codegen":2,"../../compile/util":10,"../code":42}],38:[function(t,i,r){Object.defineProperty(r,"__esModule",{value:!0});const o=t("./items");r.default={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code(s){return(0,o.validateTuple)(s,"items")}}},{"./items":33}],39:[function(t,i,r){Object.defineProperty(r,"__esModule",{value:!0});const o=t("../../compile/validate"),s=t("../code"),l=t("../../compile/util"),a=t("./additionalProperties");r.default={keyword:"properties",type:"object",schemaType:"object",code(c){const{gen:u,schema:f,parentSchema:h,data:d,it:m}=c;m.opts.removeAdditional==="all"&&h.additionalProperties===void 0&&a.default.code(new o.KeywordCxt(m,a.default,"additionalProperties"));const g=(0,s.allSchemaProperties)(f);for(const b of g)m.definedProperties.add(b);m.opts.unevaluated&&g.length&&m.props!==!0&&(m.props=l.mergeEvaluated.props(u,(0,l.toHash)(g),m.props));const y=g.filter(b=>!(0,l.alwaysValidSchema)(m,f[b]));if(y.length===0)return;const p=u.name("valid");for(const b of y)v(b)?k(b):(u.if((0,s.propertyInData)(u,d,b,m.opts.ownProperties)),k(b),m.allErrors||u.else().var(p,!0),u.endIf()),c.it.definedProperties.add(b),c.ok(p);function v(b){return m.opts.useDefaults&&!m.compositeRule&&f[b].default!==void 0}function k(b){c.subschema({keyword:"properties",schemaProp:b,dataProp:b},p)}}}},{"../../compile/util":10,"../../compile/validate":15,"../code":42,"./additionalProperties":26}],40:[function(t,i,r){Object.defineProperty(r,"__esModule",{value:!0});const o=t("../../compile/codegen"),s=t("../../compile/util");r.default={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params({params:l}){return o._`{propertyName: ${l.propertyName}}`}},code(l){const{gen:a,schema:c,data:u,it:f}=l;if((0,s.alwaysValidSchema)(f,c))return;const h=a.name("valid");a.forIn("key",u,d=>{l.setParams({propertyName:d}),l.subschema({keyword:"propertyNames",data:d,dataTypes:["string"],propertyName:d,compositeRule:!0},h),a.if((0,o.not)(h),()=>{l.error(!0),f.allErrors||a.break()})}),l.ok(h)}}},{"../../compile/codegen":2,"../../compile/util":10}],41:[function(t,i,r){Object.defineProperty(r,"__esModule",{value:!0});const o=t("../../compile/util");r.default={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:s,parentSchema:l,it:a}){l.if===void 0&&(0,o.checkStrictMode)(a,`"${s}" without "if" is ignored`)}}},{"../../compile/util":10}],42:[function(t,i,r){Object.defineProperty(r,"__esModule",{value:!0}),r.validateUnion=r.validateArray=r.usePattern=r.callValidateCode=r.schemaProperties=r.allSchemaProperties=r.noPropertyInData=r.propertyInData=r.isOwnProperty=r.hasPropFunc=r.reportMissingProp=r.checkMissingProp=r.checkReportMissingProp=void 0;const o=t("../compile/codegen"),s=t("../compile/util"),l=t("../compile/names"),a=t("../compile/util");function c(m){return m.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:o._`Object.prototype.hasOwnProperty`})}function u(m,g,y){return o._`${c(m)}.call(${g}, ${y})`}function f(m,g,y,p){const v=o._`${g}${(0,o.getProperty)(y)} === undefined`;return p?(0,o.or)(v,(0,o.not)(u(m,g,y))):v}function h(m){return m?Object.keys(m).filter(g=>g!=="__proto__"):[]}r.checkReportMissingProp=function(m,g){const{gen:y,data:p,it:v}=m;y.if(f(y,p,g,v.opts.ownProperties),()=>{m.setParams({missingProperty:o._`${g}`},!0),m.error()})},r.checkMissingProp=function({gen:m,data:g,it:{opts:y}},p,v){return(0,o.or)(...p.map(k=>(0,o.and)(f(m,g,k,y.ownProperties),o._`${v} = ${k}`)))},r.reportMissingProp=function(m,g){m.setParams({missingProperty:g},!0),m.error()},r.hasPropFunc=c,r.isOwnProperty=u,r.propertyInData=function(m,g,y,p){const v=o._`${g}${(0,o.getProperty)(y)} !== undefined`;return p?o._`${v} && ${u(m,g,y)}`:v},r.noPropertyInData=f,r.allSchemaProperties=h,r.schemaProperties=function(m,g){return h(g).filter(y=>!(0,s.alwaysValidSchema)(m,g[y]))},r.callValidateCode=function({schemaCode:m,data:g,it:{gen:y,topSchemaRef:p,schemaPath:v,errorPath:k},it:b},S,O,I){const L=I?o._`${m}, ${g}, ${p}${v}`:g,P=[[l.default.instancePath,(0,o.strConcat)(l.default.instancePath,k)],[l.default.parentData,b.parentData],[l.default.parentDataProperty,b.parentDataProperty],[l.default.rootData,l.default.rootData]];b.opts.dynamicRef&&P.push([l.default.dynamicAnchors,l.default.dynamicAnchors]);const D=o._`${L}, ${y.object(...P)}`;return O!==o.nil?o._`${S}.call(${O}, ${D})`:o._`${S}(${D})`};const d=o._`new RegExp`;r.usePattern=function({gen:m,it:{opts:g}},y){const p=g.unicodeRegExp?"u":"",{regExp:v}=g.code,k=v(y,p);return m.scopeValue("pattern",{key:k.toString(),ref:k,code:o._`${v.code==="new RegExp"?d:(0,a.useFunc)(m,v)}(${y}, ${p})`})},r.validateArray=function(m){const{gen:g,data:y,keyword:p,it:v}=m,k=g.name("valid");if(v.allErrors){const S=g.let("valid",!0);return b(()=>g.assign(S,!1)),S}return g.var(k,!0),b(()=>g.break()),k;function b(S){const O=g.const("len",o._`${y}.length`);g.forRange("i",0,O,I=>{m.subschema({keyword:p,dataProp:I,dataPropType:s.Type.Num},k),g.if((0,o.not)(k),S)})}},r.validateUnion=function(m){const{gen:g,schema:y,keyword:p,it:v}=m;if(!Array.isArray(y))throw new Error("ajv implementation error");if(y.some(S=>(0,s.alwaysValidSchema)(v,S))&&!v.opts.unevaluated)return;const k=g.let("valid",!1),b=g.name("_valid");g.block(()=>y.forEach((S,O)=>{const I=m.subschema({keyword:p,schemaProp:O,compositeRule:!0},b);g.assign(k,o._`${k} || ${b}`),m.mergeValidEvaluated(I,b)||g.if((0,o.not)(k))})),m.result(k,()=>m.reset(),()=>m.error(!0))}},{"../compile/codegen":2,"../compile/names":6,"../compile/util":10}],43:[function(t,i,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}}},{}],44:[function(t,i,r){Object.defineProperty(r,"__esModule",{value:!0});const o=t("./id"),s=t("./ref");r.default=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",o.default,s.default]},{"./id":43,"./ref":45}],45:[function(t,i,r){Object.defineProperty(r,"__esModule",{value:!0}),r.callRef=r.getValidate=void 0;const o=t("../../compile/ref_error"),s=t("../code"),l=t("../../compile/codegen"),a=t("../../compile/names"),c=t("../../compile"),u=t("../../compile/util"),f={keyword:"$ref",schemaType:"string",code(m){const{gen:g,schema:y,it:p}=m,{baseId:v,schemaEnv:k,validateName:b,opts:S,self:O}=p,{root:I}=k;if((y==="#"||y==="#/")&&v===I.baseId)return function(){if(k===I)return d(m,b,k,k.$async);const P=g.scopeValue("root",{ref:I});return d(m,l._`${P}.validate`,I,I.$async)}();const L=c.resolveRef.call(O,I,v,y);if(L===void 0)throw new o.default(p.opts.uriResolver,v,y);return L instanceof c.SchemaEnv?function(P){const D=h(m,P);d(m,D,P,P.$async)}(L):function(P){const D=g.scopeValue("schema",S.code.source===!0?{ref:P,code:(0,l.stringify)(P)}:{ref:P}),H=g.name("valid"),F=m.subschema({schema:P,dataTypes:[],schemaPath:l.nil,topSchemaRef:D,errSchemaPath:y},H);m.mergeEvaluated(F),m.ok(H)}(L)}};function h(m,g){const{gen:y}=m;return g.validate?y.scopeValue("validate",{ref:g.validate}):l._`${y.scopeValue("wrapper",{ref:g})}.validate`}function d(m,g,y,p){const{gen:v,it:k}=m,{allErrors:b,schemaEnv:S,opts:O}=k,I=O.passContext?a.default.this:l.nil;function L(D){const H=l._`${D}.errors`;v.assign(a.default.vErrors,l._`${a.default.vErrors} === null ? ${H} : ${a.default.vErrors}.concat(${H})`),v.assign(a.default.errors,l._`${a.default.vErrors}.length`)}function P(D){var H;if(!k.opts.unevaluated)return;const F=(H=y==null?void 0:y.validate)===null||H===void 0?void 0:H.evaluated;if(k.props!==!0)if(F&&!F.dynamicProps)F.props!==void 0&&(k.props=u.mergeEvaluated.props(v,F.props,k.props));else{const q=v.var("props",l._`${D}.evaluated.props`);k.props=u.mergeEvaluated.props(v,q,k.props,l.Name)}if(k.items!==!0)if(F&&!F.dynamicItems)F.items!==void 0&&(k.items=u.mergeEvaluated.items(v,F.items,k.items));else{const q=v.var("items",l._`${D}.evaluated.items`);k.items=u.mergeEvaluated.items(v,q,k.items,l.Name)}}p?function(){if(!S.$async)throw new Error("async schema referenced by sync schema");const D=v.let("valid");v.try(()=>{v.code(l._`await ${(0,s.callValidateCode)(m,g,I)}`),P(g),b||v.assign(D,!0)},H=>{v.if(l._`!(${H} instanceof ${k.ValidationError})`,()=>v.throw(H)),L(H),b||v.assign(D,!1)}),m.ok(D)}():m.result((0,s.callValidateCode)(m,g,I),()=>P(g),()=>L(g))}r.getValidate=h,r.callRef=d,r.default=f},{"../../compile":5,"../../compile/codegen":2,"../../compile/names":6,"../../compile/ref_error":7,"../../compile/util":10,"../code":42}],46:[function(t,i,r){Object.defineProperty(r,"__esModule",{value:!0});const o=t("../../compile/codegen"),s=t("../discriminator/types"),l=t("../../compile"),a=t("../../compile/util");r.default={keyword:"discriminator",type:"object",schemaType:"object",error:{message({params:{discrError:c,tagName:u}}){return c===s.DiscrError.Tag?`tag "${u}" must be string`:`value of tag "${u}" must be in oneOf`},params({params:{discrError:c,tag:u,tagName:f}}){return o._`{error: ${c}, tag: ${f}, tagValue: ${u}}`}},code(c){const{gen:u,data:f,schema:h,parentSchema:d,it:m}=c,{oneOf:g}=d;if(!m.opts.discriminator)throw new Error("discriminator: requires discriminator option");const y=h.propertyName;if(typeof y!="string")throw new Error("discriminator: requires propertyName");if(h.mapping)throw new Error("discriminator: mapping is not supported");if(!g)throw new Error("discriminator: requires oneOf keyword");const p=u.let("valid",!1),v=u.const("tag",o._`${f}${(0,o.getProperty)(y)}`);function k(b){const S=u.name("valid"),O=c.subschema({keyword:"oneOf",schemaProp:b},S);return c.mergeEvaluated(O,o.Name),S}u.if(o._`typeof ${v} == "string"`,()=>function(){const b=function(){var S;const O={},I=P(d);let L=!0;for(let F=0;F<g.length;F++){let q=g[F];(q==null?void 0:q.$ref)&&!(0,a.schemaHasRulesButRef)(q,m.self.RULES)&&(q=l.resolveRef.call(m.self,m.schemaEnv.root,m.baseId,q==null?void 0:q.$ref),q instanceof l.SchemaEnv&&(q=q.schema));const U=(S=q==null?void 0:q.properties)===null||S===void 0?void 0:S[y];if(typeof U!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${y}"`);L=L&&(I||P(q)),D(U,F)}if(!L)throw new Error(`discriminator: "${y}" must be required`);return O;function P({required:F}){return Array.isArray(F)&&F.includes(y)}function D(F,q){if(F.const)H(F.const,q);else{if(!F.enum)throw new Error(`discriminator: "properties/${y}" must have "const" or "enum"`);for(const U of F.enum)H(U,q)}}function H(F,q){if(typeof F!="string"||F in O)throw new Error(`discriminator: "${y}" values must be unique strings`);O[F]=q}}();u.if(!1);for(const S in b)u.elseIf(o._`${v} === ${S}`),u.assign(p,k(b[S]));u.else(),c.error(!1,{discrError:s.DiscrError.Mapping,tag:v,tagName:y}),u.endIf()}(),()=>c.error(!1,{discrError:s.DiscrError.Tag,tag:v,tagName:y})),c.ok(p)}}},{"../../compile":5,"../../compile/codegen":2,"../../compile/util":10,"../discriminator/types":47}],47:[function(t,i,r){Object.defineProperty(r,"__esModule",{value:!0}),r.DiscrError=void 0,function(o){o.Tag="tag",o.Mapping="mapping"}(r.DiscrError||(r.DiscrError={}))},{}],48:[function(t,i,r){Object.defineProperty(r,"__esModule",{value:!0});const o=t("./core"),s=t("./validation"),l=t("./applicator"),a=t("./format"),c=t("./metadata"),u=[o.default,s.default,(0,l.default)(),a.default,c.metadataVocabulary,c.contentVocabulary];r.default=u},{"./applicator":32,"./core":44,"./format":50,"./metadata":51,"./validation":54}],49:[function(t,i,r){Object.defineProperty(r,"__esModule",{value:!0});const o=t("../../compile/codegen");r.default={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message({schemaCode:s}){return o.str`must match format "${s}"`},params({schemaCode:s}){return o._`{format: ${s}}`}},code(s,l){const{gen:a,data:c,$data:u,schema:f,schemaCode:h,it:d}=s,{opts:m,errSchemaPath:g,schemaEnv:y,self:p}=d;m.validateFormats&&(u?function(){const v=a.scopeValue("formats",{ref:p.formats,code:m.code.formats}),k=a.const("fDef",o._`${v}[${h}]`),b=a.let("fType"),S=a.let("format");a.if(o._`typeof ${k} == "object" && !(${k} instanceof RegExp)`,()=>a.assign(b,o._`${k}.type || "string"`).assign(S,o._`${k}.validate`),()=>a.assign(b,o._`"string"`).assign(S,k)),s.fail$data((0,o.or)(m.strictSchema===!1?o.nil:o._`${h} && !${S}`,function(){const O=y.$async?o._`(${k}.async ? await ${S}(${c}) : ${S}(${c}))`:o._`${S}(${c})`,I=o._`(typeof ${S} == "function" ? ${O} : ${S}.test(${c}))`;return o._`${S} && ${S} !== true && ${b} === ${l} && !${I}`}()))}():function(){const v=p.formats[f];if(!v)return void function(){if(m.strictSchema===!1)return void p.logger.warn(O());throw new Error(O());function O(){return`unknown format "${f}" ignored in schema at path "${g}"`}}();if(v===!0)return;const[k,b,S]=function(O){const I=O instanceof RegExp?(0,o.regexpCode)(O):m.code.formats?o._`${m.code.formats}${(0,o.getProperty)(f)}`:void 0,L=a.scopeValue("formats",{key:f,ref:O,code:I});return typeof O=="object"&&!(O instanceof RegExp)?[O.type||"string",O.validate,o._`${L}.validate`]:["string",O,L]}(v);k===l&&s.pass(function(){if(typeof v=="object"&&!(v instanceof RegExp)&&v.async){if(!y.$async)throw new Error("async format in sync schema");return o._`await ${S}(${c})`}return typeof b=="function"?o._`${S}(${c})`:o._`${S}.test(${c})`}())}())}}},{"../../compile/codegen":2}],50:[function(t,i,r){Object.defineProperty(r,"__esModule",{value:!0});const o=t("./format");r.default=[o.default]},{"./format":49}],51:[function(t,i,r){Object.defineProperty(r,"__esModule",{value:!0}),r.contentVocabulary=r.metadataVocabulary=void 0,r.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],r.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]},{}],52:[function(t,i,r){Object.defineProperty(r,"__esModule",{value:!0});const o=t("../../compile/codegen"),s=t("../../compile/util"),l=t("../../runtime/equal");r.default={keyword:"const",$data:!0,error:{message:"must be equal to constant",params({schemaCode:a}){return o._`{allowedValue: ${a}}`}},code(a){const{gen:c,data:u,$data:f,schemaCode:h,schema:d}=a;f||d&&typeof d=="object"?a.fail$data(o._`!${(0,s.useFunc)(c,l.default)}(${u}, ${h})`):a.fail(o._`${d} !== ${u}`)}}},{"../../compile/codegen":2,"../../compile/util":10,"../../runtime/equal":21}],53:[function(t,i,r){Object.defineProperty(r,"__esModule",{value:!0});const o=t("../../compile/codegen"),s=t("../../compile/util"),l=t("../../runtime/equal");r.default={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params({schemaCode:a}){return o._`{allowedValues: ${a}}`}},code(a){const{gen:c,data:u,$data:f,schema:h,schemaCode:d,it:m}=a;if(!f&&h.length===0)throw new Error("enum must have non-empty array");let g;const y=()=>g!=null?g:g=(0,s.useFunc)(c,l.default);let p;if(h.length>=m.opts.loopEnum||f)p=c.let("valid"),a.block$data(p,function(){c.assign(p,!1),c.forOf("v",d,v=>c.if(o._`${y()}(${u}, ${v})`,()=>c.assign(p,!0).break()))});else{if(!Array.isArray(h))throw new Error("ajv implementation error");const v=c.const("vSchema",d);p=(0,o.or)(...h.map((k,b)=>function(S,O){const I=h[O];return typeof I=="object"&&I!==null?o._`${y()}(${u}, ${S}[${O}])`:o._`${u} === ${I}`}(v,b)))}a.pass(p)}}},{"../../compile/codegen":2,"../../compile/util":10,"../../runtime/equal":21}],54:[function(t,i,r){Object.defineProperty(r,"__esModule",{value:!0});const o=t("./limitNumber"),s=t("./multipleOf"),l=t("./limitLength"),a=t("./pattern"),c=t("./limitProperties"),u=t("./required"),f=t("./limitItems"),h=t("./uniqueItems"),d=t("./const"),m=t("./enum");r.default=[o.default,s.default,l.default,a.default,c.default,u.default,f.default,h.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},d.default,m.default]},{"./const":52,"./enum":53,"./limitItems":55,"./limitLength":56,"./limitNumber":57,"./limitProperties":58,"./multipleOf":59,"./pattern":60,"./required":61,"./uniqueItems":62}],55:[function(t,i,r){Object.defineProperty(r,"__esModule",{value:!0});const o=t("../../compile/codegen");r.default={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message:({keyword:s,schemaCode:l})=>o.str`must NOT have ${s==="maxItems"?"more":"fewer"} than ${l} items`,params({schemaCode:s}){return o._`{limit: ${s}}`}},code(s){const{keyword:l,data:a,schemaCode:c}=s;s.fail$data(o._`${a}.length ${l==="maxItems"?o.operators.GT:o.operators.LT} ${c}`)}}},{"../../compile/codegen":2}],56:[function(t,i,r){Object.defineProperty(r,"__esModule",{value:!0});const o=t("../../compile/codegen"),s=t("../../compile/util"),l=t("../../runtime/ucs2length");r.default={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message:({keyword:a,schemaCode:c})=>o.str`must NOT have ${a==="maxLength"?"more":"fewer"} than ${c} characters`,params({schemaCode:a}){return o._`{limit: ${a}}`}},code(a){const{keyword:c,data:u,schemaCode:f,it:h}=a,d=c==="maxLength"?o.operators.GT:o.operators.LT,m=h.opts.unicode===!1?o._`${u}.length`:o._`${(0,s.useFunc)(a.gen,l.default)}(${u})`;a.fail$data(o._`${m} ${d} ${f}`)}}},{"../../compile/codegen":2,"../../compile/util":10,"../../runtime/ucs2length":22}],57:[function(t,i,r){Object.defineProperty(r,"__esModule",{value:!0});const o=t("../../compile/codegen"),s=o.operators,l={maximum:{okStr:"<=",ok:s.LTE,fail:s.GT},minimum:{okStr:">=",ok:s.GTE,fail:s.LT},exclusiveMaximum:{okStr:"<",ok:s.LT,fail:s.GTE},exclusiveMinimum:{okStr:">",ok:s.GT,fail:s.LTE}},a={message({keyword:u,schemaCode:f}){return o.str`must be ${l[u].okStr} ${f}`},params({keyword:u,schemaCode:f}){return o._`{comparison: ${l[u].okStr}, limit: ${f}}`}},c={keyword:Object.keys(l),type:"number",schemaType:"number",$data:!0,error:a,code(u){const{keyword:f,data:h,schemaCode:d}=u;u.fail$data(o._`${h} ${l[f].fail} ${d} || isNaN(${h})`)}};r.default=c},{"../../compile/codegen":2}],58:[function(t,i,r){Object.defineProperty(r,"__esModule",{value:!0});const o=t("../../compile/codegen");r.default={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message:({keyword:s,schemaCode:l})=>o.str`must NOT have ${s==="maxProperties"?"more":"fewer"} than ${l} properties`,params({schemaCode:s}){return o._`{limit: ${s}}`}},code(s){const{keyword:l,data:a,schemaCode:c}=s;s.fail$data(o._`Object.keys(${a}).length ${l==="maxProperties"?o.operators.GT:o.operators.LT} ${c}`)}}},{"../../compile/codegen":2}],59:[function(t,i,r){Object.defineProperty(r,"__esModule",{value:!0});const o=t("../../compile/codegen");r.default={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message({schemaCode:s}){return o.str`must be multiple of ${s}`},params({schemaCode:s}){return o._`{multipleOf: ${s}}`}},code(s){const{gen:l,data:a,schemaCode:c,it:u}=s,f=u.opts.multipleOfPrecision,h=l.let("res"),d=f?o._`Math.abs(Math.round(${h}) - ${h}) > 1e-${f}`:o._`${h} !== parseInt(${h})`;s.fail$data(o._`(${c} === 0 || (${h} = ${a}/${c}, ${d}))`)}}},{"../../compile/codegen":2}],60:[function(t,i,r){Object.defineProperty(r,"__esModule",{value:!0});const o=t("../code"),s=t("../../compile/codegen");r.default={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message({schemaCode:l}){return s.str`must match pattern "${l}"`},params({schemaCode:l}){return s._`{pattern: ${l}}`}},code(l){const{data:a,$data:c,schema:u,schemaCode:f,it:h}=l,d=c?s._`(new RegExp(${f}, ${h.opts.unicodeRegExp?"u":""}))`:(0,o.usePattern)(l,u);l.fail$data(s._`!${d}.test(${a})`)}}},{"../../compile/codegen":2,"../code":42}],61:[function(t,i,r){Object.defineProperty(r,"__esModule",{value:!0});const o=t("../code"),s=t("../../compile/codegen"),l=t("../../compile/util");r.default={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message({params:{missingProperty:a}}){return s.str`must have required property '${a}'`},params({params:{missingProperty:a}}){return s._`{missingProperty: ${a}}`}},code(a){const{gen:c,schema:u,schemaCode:f,data:h,$data:d,it:m}=a,{opts:g}=m;if(!d&&u.length===0)return;const y=u.length>=g.loopRequired;if(m.allErrors?function(){if(y||d)a.block$data(s.nil,p);else for(const v of u)(0,o.checkReportMissingProp)(a,v)}():function(){const v=c.let("missing");if(y||d){const k=c.let("valid",!0);a.block$data(k,()=>function(b,S){a.setParams({missingProperty:b}),c.forOf(b,f,()=>{c.assign(S,(0,o.propertyInData)(c,h,b,g.ownProperties)),c.if((0,s.not)(S),()=>{a.error(),c.break()})},s.nil)}(v,k)),a.ok(k)}else c.if((0,o.checkMissingProp)(a,u,v)),(0,o.reportMissingProp)(a,v),c.else()}(),g.strictRequired){const v=a.parentSchema.properties,{definedProperties:k}=a.it;for(const b of u)(v==null?void 0:v[b])===void 0&&!k.has(b)&&(0,l.checkStrictMode)(m,`required property "${b}" is not defined at "${m.schemaEnv.baseId+m.errSchemaPath}" (strictRequired)`,m.opts.strictRequired)}function p(){c.forOf("prop",f,v=>{a.setParams({missingProperty:v}),c.if((0,o.noPropertyInData)(c,h,v,g.ownProperties),()=>a.error())})}}}},{"../../compile/codegen":2,"../../compile/util":10,"../code":42}],62:[function(t,i,r){Object.defineProperty(r,"__esModule",{value:!0});const o=t("../../compile/validate/dataType"),s=t("../../compile/codegen"),l=t("../../compile/util"),a=t("../../runtime/equal");r.default={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message({params:{i:c,j:u}}){return s.str`must NOT have duplicate items (items ## ${u} and ${c} are identical)`},params({params:{i:c,j:u}}){return s._`{i: ${c}, j: ${u}}`}},code(c){const{gen:u,data:f,$data:h,schema:d,parentSchema:m,schemaCode:g,it:y}=c;if(!h&&!d)return;const p=u.let("valid"),v=m.items?(0,o.getSchemaTypes)(m.items):[];function k(S,O){const I=u.name("item"),L=(0,o.checkDataTypes)(v,I,y.opts.strictNumbers,o.DataType.Wrong),P=u.const("indices",s._`{}`);u.for(s._`;${S}--;`,()=>{u.let(I,s._`${f}[${S}]`),u.if(L,s._`continue`),v.length>1&&u.if(s._`typeof ${I} == "string"`,s._`${I} += "_"`),u.if(s._`typeof ${P}[${I}] == "number"`,()=>{u.assign(O,s._`${P}[${I}]`),c.error(),u.assign(p,!1).break()}).code(s._`${P}[${I}] = ${S}`)})}function b(S,O){const I=(0,l.useFunc)(u,a.default),L=u.name("outer");u.label(L).for(s._`;${S}--;`,()=>u.for(s._`${O} = ${S}; ${O}--;`,()=>u.if(s._`${I}(${f}[${S}], ${f}[${O}])`,()=>{c.error(),u.assign(p,!1).break(L)})))}c.block$data(p,function(){const S=u.let("i",s._`${f}.length`),O=u.let("j");c.setParams({i:S,j:O}),u.assign(p,!0),u.if(s._`${S} > 1`,()=>(v.length>0&&!v.some(I=>I==="object"||I==="array")?k:b)(S,O))},s._`${g} === false`),c.ok(p)}}},{"../../compile/codegen":2,"../../compile/util":10,"../../compile/validate/dataType":13,"../../runtime/equal":21}],63:[function(t,i,r){i.exports=function o(s,l){if(s===l)return!0;if(s&&l&&typeof s=="object"&&typeof l=="object"){if(s.constructor!==l.constructor)return!1;var a,c,u;if(Array.isArray(s)){if((a=s.length)!=l.length)return!1;for(c=a;c--!=0;)if(!o(s[c],l[c]))return!1;return!0}if(s.constructor===RegExp)return s.source===l.source&&s.flags===l.flags;if(s.valueOf!==Object.prototype.valueOf)return s.valueOf()===l.valueOf();if(s.toString!==Object.prototype.toString)return s.toString()===l.toString();if((a=(u=Object.keys(s)).length)!==Object.keys(l).length)return!1;for(c=a;c--!=0;)if(!Object.prototype.hasOwnProperty.call(l,u[c]))return!1;for(c=a;c--!=0;){var f=u[c];if(!o(s[f],l[f]))return!1}return!0}return s!=s&&l!=l}},{}],64:[function(t,i,r){var o=i.exports=function(l,a,c){typeof a=="function"&&(c=a,a={}),s(a,typeof(c=a.cb||c)=="function"?c:c.pre||function(){},c.post||function(){},l,"",l)};function s(l,a,c,u,f,h,d,m,g,y){if(u&&typeof u=="object"&&!Array.isArray(u)){for(var p in a(u,f,h,d,m,g,y),u){var v=u[p];if(Array.isArray(v)){if(p in o.arrayKeywords)for(var k=0;k<v.length;k++)s(l,a,c,v[k],f+"/"+p+"/"+k,h,f,p,u,k)}else if(p in o.propsKeywords){if(v&&typeof v=="object")for(var b in v)s(l,a,c,v[b],f+"/"+p+"/"+b.replace(/~/g,"~0").replace(/\//g,"~1"),h,f,p,u,b)}else(p in o.keywords||l.allKeys&&!(p in o.skipKeywords))&&s(l,a,c,v,f+"/"+p,h,f,p,u)}c(u,f,h,d,m,g,y)}}o.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},o.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},o.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},o.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0}},{}],65:[function(t,i,r){/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */(function(o,s){s(typeof r=="object"&&i!==void 0?r:o.URI=o.URI||{})})(this,function(o){function s(){for(var M=arguments.length,G=Array(M),K=0;K<M;K++)G[K]=arguments[K];if(G.length>1){G[0]=G[0].slice(0,-1);for(var he=G.length-1,fe=1;fe<he;++fe)G[fe]=G[fe].slice(1,-1);return G[he]=G[he].slice(1),G.join("")}return G[0]}function l(M){return"(?:"+M+")"}function a(M){return M===void 0?"undefined":M===null?"null":Object.prototype.toString.call(M).split(" ").pop().split("]").shift().toLowerCase()}function c(M){return M.toUpperCase()}function u(M){var G="[A-Za-z]",K="[0-9]",he=s(K,"[A-Fa-f]"),fe=l(l("%[EFef]"+he+"%"+he+he+"%"+he+he)+"|"+l("%[89A-Fa-f]"+he+"%"+he+he)+"|"+l("%"+he+he)),Ie="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",Ge=s("[\\:\\/\\?\\#\\[\\]\\@]",Ie),nt=M?"[\\uE000-\\uF8FF]":"[]",it=s(G,K,"[\\-\\.\\_\\~]",M?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]");l(G+s(G,K,"[\\+\\-\\.]")+"*"),l(l(fe+"|"+s(it,Ie,"[\\:]"))+"*");var ft=l(l("25[0-5]")+"|"+l("2[0-4][0-9]")+"|"+l("1[0-9][0-9]")+"|"+l("0?[1-9][0-9]")+"|0?0?"+K),Mt=l(ft+"\\."+ft+"\\."+ft+"\\."+ft),Ye=l(he+"{1,4}"),yt=l(l(Ye+"\\:"+Ye)+"|"+Mt),ht=l(l(Ye+"\\:")+"{6}"+yt),Dt=l("\\:\\:"+l(Ye+"\\:")+"{5}"+yt),ce=l(l(Ye)+"?\\:\\:"+l(Ye+"\\:")+"{4}"+yt),We=l(l(l(Ye+"\\:")+"{0,1}"+Ye)+"?\\:\\:"+l(Ye+"\\:")+"{3}"+yt),_t=l(l(l(Ye+"\\:")+"{0,2}"+Ye)+"?\\:\\:"+l(Ye+"\\:")+"{2}"+yt),vt=l(l(l(Ye+"\\:")+"{0,3}"+Ye)+"?\\:\\:"+Ye+"\\:"+yt),xt=l(l(l(Ye+"\\:")+"{0,4}"+Ye)+"?\\:\\:"+yt),At=l(l(l(Ye+"\\:")+"{0,5}"+Ye)+"?\\:\\:"+Ye),qt=l(l(l(Ye+"\\:")+"{0,6}"+Ye)+"?\\:\\:"),un=l([ht,Dt,ce,We,_t,vt,xt,At,qt].join("|")),Ct=l(l(it+"|"+fe)+"+");l("[vV]"+he+"+\\."+s(it,Ie,"[\\:]")+"+"),l(l(fe+"|"+s(it,Ie))+"*");var Mn=l(fe+"|"+s(it,Ie,"[\\:\\@]"));return l(l(fe+"|"+s(it,Ie,"[\\@]"))+"+"),l(l(Mn+"|"+s("[\\/\\?]",nt))+"*"),{NOT_SCHEME:new RegExp(s("[^]",G,K,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(s("[^\\%\\:]",it,Ie),"g"),NOT_HOST:new RegExp(s("[^\\%\\[\\]\\:]",it,Ie),"g"),NOT_PATH:new RegExp(s("[^\\%\\/\\:\\@]",it,Ie),"g"),NOT_PATH_NOSCHEME:new RegExp(s("[^\\%\\/\\@]",it,Ie),"g"),NOT_QUERY:new RegExp(s("[^\\%]",it,Ie,"[\\:\\@\\/\\?]",nt),"g"),NOT_FRAGMENT:new RegExp(s("[^\\%]",it,Ie,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(s("[^]",it,Ie),"g"),UNRESERVED:new RegExp(it,"g"),OTHER_CHARS:new RegExp(s("[^\\%]",it,Ge),"g"),PCT_ENCODED:new RegExp(fe,"g"),IPV4ADDRESS:new RegExp("^("+Mt+")$"),IPV6ADDRESS:new RegExp("^\\[?("+un+")"+l(l("\\%25|\\%(?!"+he+"{2})")+"("+Ct+")")+"?\\]?$")}}var f=u(!1),h=u(!0),d=function(M,G){if(Array.isArray(M))return M;if(Symbol.iterator in Object(M))return function(K,he){var fe=[],Ie=!0,Ge=!1,nt=void 0;try{for(var it,ft=K[Symbol.iterator]();!(Ie=(it=ft.next()).done)&&(fe.push(it.value),!he||fe.length!==he);Ie=!0);}catch(Mt){Ge=!0,nt=Mt}finally{try{!Ie&&ft.return&&ft.return()}finally{if(Ge)throw nt}}return fe}(M,G);throw new TypeError("Invalid attempt to destructure non-iterable instance")},m=2147483647,g=36,y=/^xn--/,p=/[^\0-\x7E]/,v=/[\x2E\u3002\uFF0E\uFF61]/g,k={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},b=Math.floor,S=String.fromCharCode;function O(M){throw new RangeError(k[M])}function I(M,G){var K=M.split("@"),he="";K.length>1&&(he=K[0]+"@",M=K[1]);var fe=function(Ie,Ge){for(var nt=[],it=Ie.length;it--;)nt[it]=Ge(Ie[it]);return nt}((M=M.replace(v,".")).split("."),G).join(".");return he+fe}function L(M){for(var G=[],K=0,he=M.length;K<he;){var fe=M.charCodeAt(K++);if(fe>=55296&&fe<=56319&&K<he){var Ie=M.charCodeAt(K++);(64512&Ie)==56320?G.push(((1023&fe)<<10)+(1023&Ie)+65536):(G.push(fe),K--)}else G.push(fe)}return G}var P=function(M,G){return M+22+75*(M<26)-((G!=0)<<5)},D=function(M,G,K){var he=0;for(M=K?b(M/700):M>>1,M+=b(M/G);M>455;he+=g)M=b(M/35);return b(he+36*M/(M+38))},H=function(M){var G,K=[],he=M.length,fe=0,Ie=128,Ge=72,nt=M.lastIndexOf("-");nt<0&&(nt=0);for(var it=0;it<nt;++it)M.charCodeAt(it)>=128&&O("not-basic"),K.push(M.charCodeAt(it));for(var ft=nt>0?nt+1:0;ft<he;){for(var Mt=fe,Ye=1,yt=g;;yt+=g){ft>=he&&O("invalid-input");var ht=(G=M.charCodeAt(ft++))-48<10?G-22:G-65<26?G-65:G-97<26?G-97:g;(ht>=g||ht>b((m-fe)/Ye))&&O("overflow"),fe+=ht*Ye;var Dt=yt<=Ge?1:yt>=Ge+26?26:yt-Ge;if(ht<Dt)break;var ce=g-Dt;Ye>b(m/ce)&&O("overflow"),Ye*=ce}var We=K.length+1;Ge=D(fe-Mt,We,Mt==0),b(fe/We)>m-Ie&&O("overflow"),Ie+=b(fe/We),fe%=We,K.splice(fe++,0,Ie)}return String.fromCodePoint.apply(String,K)},F=function(M){var G=[],K=(M=L(M)).length,he=128,fe=0,Ie=72,Ge=!0,nt=!1,it=void 0;try{for(var ft,Mt=M[Symbol.iterator]();!(Ge=(ft=Mt.next()).done);Ge=!0){var Ye=ft.value;Ye<128&&G.push(S(Ye))}}catch(xi){nt=!0,it=xi}finally{try{!Ge&&Mt.return&&Mt.return()}finally{if(nt)throw it}}var yt=G.length,ht=yt;for(yt&&G.push("-");ht<K;){var Dt=m,ce=!0,We=!1,_t=void 0;try{for(var vt,xt=M[Symbol.iterator]();!(ce=(vt=xt.next()).done);ce=!0){var At=vt.value;At>=he&&At<Dt&&(Dt=At)}}catch(xi){We=!0,_t=xi}finally{try{!ce&&xt.return&&xt.return()}finally{if(We)throw _t}}var qt=ht+1;Dt-he>b((m-fe)/qt)&&O("overflow"),fe+=(Dt-he)*qt,he=Dt;var un=!0,Ct=!1,Mn=void 0;try{for(var yi,Wt=M[Symbol.iterator]();!(un=(yi=Wt.next()).done);un=!0){var Ue=yi.value;if(Ue<he&&++fe>m&&O("overflow"),Ue==he){for(var dt=fe,ei=g;;ei+=g){var ai=ei<=Ie?1:ei>=Ie+26?26:ei-Ie;if(dt<ai)break;var qi=dt-ai,To=g-ai;G.push(S(P(ai+qi%To,0))),dt=b(qi/To)}G.push(S(P(dt,0))),Ie=D(fe,qt,ht==yt),fe=0,++ht}}}catch(xi){Ct=!0,Mn=xi}finally{try{!un&&Wt.return&&Wt.return()}finally{if(Ct)throw Mn}}++fe,++he}return G.join("")},q=function(M){return I(M,function(G){return p.test(G)?"xn--"+F(G):G})},U=function(M){return I(M,function(G){return y.test(G)?H(G.slice(4).toLowerCase()):G})},B={};function Q(M){var G=M.charCodeAt(0);return G<16?"%0"+G.toString(16).toUpperCase():G<128?"%"+G.toString(16).toUpperCase():G<2048?"%"+(G>>6|192).toString(16).toUpperCase()+"%"+(63&G|128).toString(16).toUpperCase():"%"+(G>>12|224).toString(16).toUpperCase()+"%"+(G>>6&63|128).toString(16).toUpperCase()+"%"+(63&G|128).toString(16).toUpperCase()}function re(M){for(var G="",K=0,he=M.length;K<he;){var fe=parseInt(M.substr(K+1,2),16);if(fe<128)G+=String.fromCharCode(fe),K+=3;else if(fe>=194&&fe<224){if(he-K>=6){var Ie=parseInt(M.substr(K+4,2),16);G+=String.fromCharCode((31&fe)<<6|63&Ie)}else G+=M.substr(K,6);K+=6}else if(fe>=224){if(he-K>=9){var Ge=parseInt(M.substr(K+4,2),16),nt=parseInt(M.substr(K+7,2),16);G+=String.fromCharCode((15&fe)<<12|(63&Ge)<<6|63&nt)}else G+=M.substr(K,9);K+=9}else G+=M.substr(K,3),K+=3}return G}function le(M,G){function K(he){var fe=re(he);return fe.match(G.UNRESERVED)?fe:he}return M.scheme&&(M.scheme=String(M.scheme).replace(G.PCT_ENCODED,K).toLowerCase().replace(G.NOT_SCHEME,"")),M.userinfo!==void 0&&(M.userinfo=String(M.userinfo).replace(G.PCT_ENCODED,K).replace(G.NOT_USERINFO,Q).replace(G.PCT_ENCODED,c)),M.host!==void 0&&(M.host=String(M.host).replace(G.PCT_ENCODED,K).toLowerCase().replace(G.NOT_HOST,Q).replace(G.PCT_ENCODED,c)),M.path!==void 0&&(M.path=String(M.path).replace(G.PCT_ENCODED,K).replace(M.scheme?G.NOT_PATH:G.NOT_PATH_NOSCHEME,Q).replace(G.PCT_ENCODED,c)),M.query!==void 0&&(M.query=String(M.query).replace(G.PCT_ENCODED,K).replace(G.NOT_QUERY,Q).replace(G.PCT_ENCODED,c)),M.fragment!==void 0&&(M.fragment=String(M.fragment).replace(G.PCT_ENCODED,K).replace(G.NOT_FRAGMENT,Q).replace(G.PCT_ENCODED,c)),M}function x(M){return M.replace(/^0*(.*)/,"$1")||"0"}function N(M,G){var K=M.match(G.IPV4ADDRESS)||[],he=d(K,2)[1];return he?he.split(".").map(x).join("."):M}function ie(M,G){var K=M.match(G.IPV6ADDRESS)||[],he=d(K,3),fe=he[1],Ie=he[2];if(fe){for(var Ge=fe.toLowerCase().split("::").reverse(),nt=d(Ge,2),it=nt[0],ft=nt[1],Mt=ft?ft.split(":").map(x):[],Ye=it.split(":").map(x),yt=G.IPV4ADDRESS.test(Ye[Ye.length-1]),ht=yt?7:8,Dt=Ye.length-ht,ce=Array(ht),We=0;We<ht;++We)ce[We]=Mt[We]||Ye[Dt+We]||"";yt&&(ce[ht-1]=N(ce[ht-1],G));var _t=ce.reduce(function(qt,un,Ct){if(!un||un==="0"){var Mn=qt[qt.length-1];Mn&&Mn.index+Mn.length===Ct?Mn.length++:qt.push({index:Ct,length:1})}return qt},[]).sort(function(qt,un){return un.length-qt.length})[0],vt=void 0;if(_t&&_t.length>1){var xt=ce.slice(0,_t.index),At=ce.slice(_t.index+_t.length);vt=xt.join(":")+"::"+At.join(":")}else vt=ce.join(":");return Ie&&(vt+="%"+Ie),vt}return M}var ne=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,z="".match(/(){0}/)[1]===void 0;function w(M){var G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},K={},he=G.iri!==!1?h:f;G.reference==="suffix"&&(M=(G.scheme?G.scheme+":":"")+"//"+M);var fe=M.match(ne);if(fe){z?(K.scheme=fe[1],K.userinfo=fe[3],K.host=fe[4],K.port=parseInt(fe[5],10),K.path=fe[6]||"",K.query=fe[7],K.fragment=fe[8],isNaN(K.port)&&(K.port=fe[5])):(K.scheme=fe[1]||void 0,K.userinfo=M.indexOf("@")!==-1?fe[3]:void 0,K.host=M.indexOf("//")!==-1?fe[4]:void 0,K.port=parseInt(fe[5],10),K.path=fe[6]||"",K.query=M.indexOf("?")!==-1?fe[7]:void 0,K.fragment=M.indexOf("#")!==-1?fe[8]:void 0,isNaN(K.port)&&(K.port=M.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?fe[4]:void 0)),K.host&&(K.host=ie(N(K.host,he),he)),K.reference=K.scheme!==void 0||K.userinfo!==void 0||K.host!==void 0||K.port!==void 0||K.path||K.query!==void 0?K.scheme===void 0?"relative":K.fragment===void 0?"absolute":"uri":"same-document",G.reference&&G.reference!=="suffix"&&G.reference!==K.reference&&(K.error=K.error||"URI is not a "+G.reference+" reference.");var Ie=B[(G.scheme||K.scheme||"").toLowerCase()];if(G.unicodeSupport||Ie&&Ie.unicodeSupport)le(K,he);else{if(K.host&&(G.domainHost||Ie&&Ie.domainHost))try{K.host=q(K.host.replace(he.PCT_ENCODED,re).toLowerCase())}catch(Ge){K.error=K.error||"Host's domain name can not be converted to ASCII via punycode: "+Ge}le(K,f)}Ie&&Ie.parse&&Ie.parse(K,G)}else K.error=K.error||"URI can not be parsed.";return K}function C(M,G){var K=G.iri!==!1?h:f,he=[];return M.userinfo!==void 0&&(he.push(M.userinfo),he.push("@")),M.host!==void 0&&he.push(ie(N(String(M.host),K),K).replace(K.IPV6ADDRESS,function(fe,Ie,Ge){return"["+Ie+(Ge?"%25"+Ge:"")+"]"})),typeof M.port!="number"&&typeof M.port!="string"||(he.push(":"),he.push(String(M.port))),he.length?he.join(""):void 0}var J=/^\.\.?\//,se=/^\/\.(\/|$)/,ee=/^\/\.\.(\/|$)/,ge=/^\/?(?:.|\n)*?(?=\/|$)/;function ve(M){for(var G=[];M.length;)if(M.match(J))M=M.replace(J,"");else if(M.match(se))M=M.replace(se,"/");else if(M.match(ee))M=M.replace(ee,"/"),G.pop();else if(M==="."||M==="..")M="";else{var K=M.match(ge);if(!K)throw new Error("Unexpected dot segment condition");var he=K[0];M=M.slice(he.length),G.push(he)}return G.join("")}function Pe(M){var G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},K=G.iri?h:f,he=[],fe=B[(G.scheme||M.scheme||"").toLowerCase()];if(fe&&fe.serialize&&fe.serialize(M,G),M.host&&!K.IPV6ADDRESS.test(M.host)){if(G.domainHost||fe&&fe.domainHost)try{M.host=G.iri?U(M.host):q(M.host.replace(K.PCT_ENCODED,re).toLowerCase())}catch(nt){M.error=M.error||"Host's domain name can not be converted to "+(G.iri?"Unicode":"ASCII")+" via punycode: "+nt}}le(M,K),G.reference!=="suffix"&&M.scheme&&(he.push(M.scheme),he.push(":"));var Ie=C(M,G);if(Ie!==void 0&&(G.reference!=="suffix"&&he.push("//"),he.push(Ie),M.path&&M.path.charAt(0)!=="/"&&he.push("/")),M.path!==void 0){var Ge=M.path;G.absolutePath||fe&&fe.absolutePath||(Ge=ve(Ge)),Ie===void 0&&(Ge=Ge.replace(/^\/\//,"/%2F")),he.push(Ge)}return M.query!==void 0&&(he.push("?"),he.push(M.query)),M.fragment!==void 0&&(he.push("#"),he.push(M.fragment)),he.join("")}function ze(M,G){var K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},he=arguments[3],fe={};return he||(M=w(Pe(M,K),K),G=w(Pe(G,K),K)),!(K=K||{}).tolerant&&G.scheme?(fe.scheme=G.scheme,fe.userinfo=G.userinfo,fe.host=G.host,fe.port=G.port,fe.path=ve(G.path||""),fe.query=G.query):(G.userinfo!==void 0||G.host!==void 0||G.port!==void 0?(fe.userinfo=G.userinfo,fe.host=G.host,fe.port=G.port,fe.path=ve(G.path||""),fe.query=G.query):(G.path?(G.path.charAt(0)==="/"?fe.path=ve(G.path):(fe.path=M.userinfo===void 0&&M.host===void 0&&M.port===void 0||M.path?M.path?M.path.slice(0,M.path.lastIndexOf("/")+1)+G.path:G.path:"/"+G.path,fe.path=ve(fe.path)),fe.query=G.query):(fe.path=M.path,fe.query=G.query!==void 0?G.query:M.query),fe.userinfo=M.userinfo,fe.host=M.host,fe.port=M.port),fe.scheme=M.scheme),fe.fragment=G.fragment,fe}function Me(M,G){return M&&M.toString().replace(G&&G.iri?h.PCT_ENCODED:f.PCT_ENCODED,re)}var ae={scheme:"http",domainHost:!0,parse(M,G){return M.host||(M.error=M.error||"HTTP URIs must have a host."),M},serialize(M,G){var K=String(M.scheme).toLowerCase()==="https";return M.port!==(K?443:80)&&M.port!==""||(M.port=void 0),M.path||(M.path="/"),M}},Re={scheme:"https",domainHost:ae.domainHost,parse:ae.parse,serialize:ae.serialize};function Le(M){return typeof M.secure=="boolean"?M.secure:String(M.scheme).toLowerCase()==="wss"}var rt={scheme:"ws",domainHost:!0,parse(M,G){var K=M;return K.secure=Le(K),K.resourceName=(K.path||"/")+(K.query?"?"+K.query:""),K.path=void 0,K.query=void 0,K},serialize(M,G){if(M.port!==(Le(M)?443:80)&&M.port!==""||(M.port=void 0),typeof M.secure=="boolean"&&(M.scheme=M.secure?"wss":"ws",M.secure=void 0),M.resourceName){var K=M.resourceName.split("?"),he=d(K,2),fe=he[0],Ie=he[1];M.path=fe&&fe!=="/"?fe:void 0,M.query=Ie,M.resourceName=void 0}return M.fragment=void 0,M}},Oe={scheme:"wss",domainHost:rt.domainHost,parse:rt.parse,serialize:rt.serialize},ke={},ot="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",lt="[0-9A-Fa-f]",at=l(l("%[EFef][0-9A-Fa-f]%"+lt+lt+"%"+lt+lt)+"|"+l("%[89A-Fa-f][0-9A-Fa-f]%"+lt+lt)+"|"+l("%"+lt+lt)),mt=s("[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",'[\\"\\\\]'),It=new RegExp(ot,"g"),de=new RegExp(at,"g"),T=new RegExp(s("[^]","[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]","[\\.]",'[\\"]',mt),"g"),W=new RegExp(s("[^]",ot,"[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]"),"g"),X=W;function te(M){var G=re(M);return G.match(It)?G:M}var be={scheme:"mailto",parse(M,G){var K=M,he=K.to=K.path?K.path.split(","):[];if(K.path=void 0,K.query){for(var fe=!1,Ie={},Ge=K.query.split("&"),nt=0,it=Ge.length;nt<it;++nt){var ft=Ge[nt].split("=");switch(ft[0]){case"to":for(var Mt=ft[1].split(","),Ye=0,yt=Mt.length;Ye<yt;++Ye)he.push(Mt[Ye]);break;case"subject":K.subject=Me(ft[1],G);break;case"body":K.body=Me(ft[1],G);break;default:fe=!0,Ie[Me(ft[0],G)]=Me(ft[1],G)}}fe&&(K.headers=Ie)}K.query=void 0;for(var ht=0,Dt=he.length;ht<Dt;++ht){var ce=he[ht].split("@");if(ce[0]=Me(ce[0]),G.unicodeSupport)ce[1]=Me(ce[1],G).toLowerCase();else try{ce[1]=q(Me(ce[1],G).toLowerCase())}catch(We){K.error=K.error||"Email address's domain name can not be converted to ASCII via punycode: "+We}he[ht]=ce.join("@")}return K},serialize(M,G){var K,he=M,fe=(K=M.to)!=null?K instanceof Array?K:typeof K.length!="number"||K.split||K.setInterval||K.call?[K]:Array.prototype.slice.call(K):[];if(fe){for(var Ie=0,Ge=fe.length;Ie<Ge;++Ie){var nt=String(fe[Ie]),it=nt.lastIndexOf("@"),ft=nt.slice(0,it).replace(de,te).replace(de,c).replace(T,Q),Mt=nt.slice(it+1);try{Mt=G.iri?U(Mt):q(Me(Mt,G).toLowerCase())}catch(Dt){he.error=he.error||"Email address's domain name can not be converted to "+(G.iri?"Unicode":"ASCII")+" via punycode: "+Dt}fe[Ie]=ft+"@"+Mt}he.path=fe.join(",")}var Ye=M.headers=M.headers||{};M.subject&&(Ye.subject=M.subject),M.body&&(Ye.body=M.body);var yt=[];for(var ht in Ye)Ye[ht]!==ke[ht]&&yt.push(ht.replace(de,te).replace(de,c).replace(W,Q)+"="+Ye[ht].replace(de,te).replace(de,c).replace(X,Q));return yt.length&&(he.query=yt.join("&")),he}},Ae=/^([^\:]+)\:(.*)/,Je={scheme:"urn",parse(M,G){var K=M.path&&M.path.match(Ae),he=M;if(K){var fe=G.scheme||he.scheme||"urn",Ie=K[1].toLowerCase(),Ge=K[2],nt=B[fe+":"+(G.nid||Ie)];he.nid=Ie,he.nss=Ge,he.path=void 0,nt&&(he=nt.parse(he,G))}else he.error=he.error||"URN can not be parsed.";return he},serialize(M,G){var K=M.nid,he=B[(G.scheme||M.scheme||"urn")+":"+(G.nid||K)];he&&(M=he.serialize(M,G));var fe=M;return fe.path=(K||G.nid)+":"+M.nss,fe}},je=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,Tt={scheme:"urn:uuid",parse(M,G){var K=M;return K.uuid=K.nss,K.nss=void 0,G.tolerant||K.uuid&&K.uuid.match(je)||(K.error=K.error||"UUID is not valid."),K},serialize(M,G){var K=M;return K.nss=(M.uuid||"").toLowerCase(),K}};B[ae.scheme]=ae,B[Re.scheme]=Re,B[rt.scheme]=rt,B[Oe.scheme]=Oe,B[be.scheme]=be,B[Je.scheme]=Je,B[Tt.scheme]=Tt,o.SCHEMES=B,o.pctEncChar=Q,o.pctDecChars=re,o.parse=w,o.removeDotSegments=ve,o.serialize=Pe,o.resolveComponents=ze,o.resolve=function(M,G,K){var he=function(fe,Ie){var Ge=fe;if(Ie)for(var nt in Ie)Ge[nt]=Ie[nt];return Ge}({scheme:"null"},K);return Pe(ze(w(M,he),w(G,he),he,!0),he)},o.normalize=function(M,G){return typeof M=="string"?M=Pe(w(M,G),G):a(M)==="object"&&(M=w(Pe(M,G),G)),M},o.equal=function(M,G,K){return typeof M=="string"?M=Pe(w(M,K),K):a(M)==="object"&&(M=Pe(M,K)),typeof G=="string"?G=Pe(w(G,K),K):a(G)==="object"&&(G=Pe(G,K)),M===G},o.escapeComponent=function(M,G){return M&&M.toString().replace(G&&G.iri?h.ESCAPE:f.ESCAPE,Q)},o.unescapeComponent=Me,Object.defineProperty(o,"__esModule",{value:!0})})},{}],ajv:[function(t,i,r){Object.defineProperty(r,"__esModule",{value:!0}),r.CodeGen=r.Name=r.nil=r.stringify=r.str=r._=r.KeywordCxt=void 0;const o=t("./core"),s=t("./vocabularies/draft7"),l=t("./vocabularies/discriminator"),a=t("./refs/json-schema-draft-07.json"),c=["/properties"],u="http://json-schema.org/draft-07/schema";class f extends o.default{_addVocabularies(){super._addVocabularies(),s.default.forEach(g=>this.addVocabulary(g)),this.opts.discriminator&&this.addKeyword(l.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const g=this.opts.$data?this.$dataMetaSchema(a,c):a;this.addMetaSchema(g,u,!1),this.refs["http://json-schema.org/schema"]=u}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(u)?u:void 0)}}i.exports=r=f,Object.defineProperty(r,"__esModule",{value:!0}),r.default=f;var h=t("./compile/validate");Object.defineProperty(r,"KeywordCxt",{enumerable:!0,get(){return h.KeywordCxt}});var d=t("./compile/codegen");Object.defineProperty(r,"_",{enumerable:!0,get(){return d._}}),Object.defineProperty(r,"str",{enumerable:!0,get(){return d.str}}),Object.defineProperty(r,"stringify",{enumerable:!0,get(){return d.stringify}}),Object.defineProperty(r,"nil",{enumerable:!0,get(){return d.nil}}),Object.defineProperty(r,"Name",{enumerable:!0,get(){return d.Name}}),Object.defineProperty(r,"CodeGen",{enumerable:!0,get(){return d.CodeGen}})},{"./compile/codegen":2,"./compile/validate":15,"./core":18,"./refs/json-schema-draft-07.json":20,"./vocabularies/discriminator":46,"./vocabularies/draft7":48}]},{},[])("ajv")})})(zR);var qR={};(function(n){(function(e){function t(T){return T!==null?Object.prototype.toString.call(T)==="[object Array]":!1}function i(T){return T!==null?Object.prototype.toString.call(T)==="[object Object]":!1}function r(T,W){if(T===W)return!0;var X=Object.prototype.toString.call(T);if(X!==Object.prototype.toString.call(W))return!1;if(t(T)===!0){if(T.length!==W.length)return!1;for(var te=0;te<T.length;te++)if(r(T[te],W[te])===!1)return!1;return!0}if(i(T)===!0){var be={};for(var Ae in T)if(hasOwnProperty.call(T,Ae)){if(r(T[Ae],W[Ae])===!1)return!1;be[Ae]=!0}for(var Je in W)if(hasOwnProperty.call(W,Je)&&be[Je]!==!0)return!1;return!0}return!1}function o(T){if(T===""||T===!1||T===null)return!0;if(t(T)&&T.length===0)return!0;if(i(T)){for(var W in T)if(T.hasOwnProperty(W))return!1;return!0}else return!1}function s(T){for(var W=Object.keys(T),X=[],te=0;te<W.length;te++)X.push(T[W[te]]);return X}var l;typeof String.prototype.trimLeft=="function"?l=function(T){return T.trimLeft()}:l=function(T){return T.match(/^\s*(.*)/)[1]};var a=0,c=1,u=2,f=3,h=4,d=5,m=6,g=7,y=8,p=9,v={0:"number",1:"any",2:"string",3:"array",4:"object",5:"boolean",6:"expression",7:"null",8:"Array<number>",9:"Array<string>"},k="EOF",b="UnquotedIdentifier",S="QuotedIdentifier",O="Rbracket",I="Rparen",L="Comma",P="Colon",D="Rbrace",H="Number",F="Current",q="Expref",U="Pipe",B="Or",Q="And",re="EQ",le="GT",x="LT",N="GTE",ie="LTE",ne="NE",z="Flatten",w="Star",C="Filter",J="Dot",se="Not",ee="Lbrace",ge="Lbracket",ve="Lparen",Pe="Literal",ze={".":J,"*":w,",":L,":":P,"{":ee,"}":D,"]":O,"(":ve,")":I,"@":F},Me={"<":!0,">":!0,"=":!0,"!":!0},ae={" ":!0,"	":!0,"\n":!0};function Re(T){return T>="a"&&T<="z"||T>="A"&&T<="Z"||T==="_"}function Le(T){return T>="0"&&T<="9"||T==="-"}function rt(T){return T>="a"&&T<="z"||T>="A"&&T<="Z"||T>="0"&&T<="9"||T==="_"}function Oe(){}Oe.prototype={tokenize:function(T){var W=[];this._current=0;for(var X,te,be;this._current<T.length;)if(Re(T[this._current]))X=this._current,te=this._consumeUnquotedIdentifier(T),W.push({type:b,value:te,start:X});else if(ze[T[this._current]]!==void 0)W.push({type:ze[T[this._current]],value:T[this._current],start:this._current}),this._current++;else if(Le(T[this._current]))be=this._consumeNumber(T),W.push(be);else if(T[this._current]==="[")be=this._consumeLBracket(T),W.push(be);else if(T[this._current]==='"')X=this._current,te=this._consumeQuotedIdentifier(T),W.push({type:S,value:te,start:X});else if(T[this._current]==="'")X=this._current,te=this._consumeRawStringLiteral(T),W.push({type:Pe,value:te,start:X});else if(T[this._current]==="`"){X=this._current;var Ae=this._consumeLiteral(T);W.push({type:Pe,value:Ae,start:X})}else if(Me[T[this._current]]!==void 0)W.push(this._consumeOperator(T));else if(ae[T[this._current]]!==void 0)this._current++;else if(T[this._current]==="&")X=this._current,this._current++,T[this._current]==="&"?(this._current++,W.push({type:Q,value:"&&",start:X})):W.push({type:q,value:"&",start:X});else if(T[this._current]==="|")X=this._current,this._current++,T[this._current]==="|"?(this._current++,W.push({type:B,value:"||",start:X})):W.push({type:U,value:"|",start:X});else{var Je=new Error("Unknown character:"+T[this._current]);throw Je.name="LexerError",Je}return W},_consumeUnquotedIdentifier:function(T){var W=this._current;for(this._current++;this._current<T.length&&rt(T[this._current]);)this._current++;return T.slice(W,this._current)},_consumeQuotedIdentifier:function(T){var W=this._current;this._current++;for(var X=T.length;T[this._current]!=='"'&&this._current<X;){var te=this._current;T[te]==="\\"&&(T[te+1]==="\\"||T[te+1]==='"')?te+=2:te++,this._current=te}return this._current++,JSON.parse(T.slice(W,this._current))},_consumeRawStringLiteral:function(T){var W=this._current;this._current++;for(var X=T.length;T[this._current]!=="'"&&this._current<X;){var te=this._current;T[te]==="\\"&&(T[te+1]==="\\"||T[te+1]==="'")?te+=2:te++,this._current=te}this._current++;var be=T.slice(W+1,this._current-1);return be.replace("\\'","'")},_consumeNumber:function(T){var W=this._current;this._current++;for(var X=T.length;Le(T[this._current])&&this._current<X;)this._current++;var te=parseInt(T.slice(W,this._current));return{type:H,value:te,start:W}},_consumeLBracket:function(T){var W=this._current;return this._current++,T[this._current]==="?"?(this._current++,{type:C,value:"[?",start:W}):T[this._current]==="]"?(this._current++,{type:z,value:"[]",start:W}):{type:ge,value:"[",start:W}},_consumeOperator:function(T){var W=this._current,X=T[W];if(this._current++,X==="!")return T[this._current]==="="?(this._current++,{type:ne,value:"!=",start:W}):{type:se,value:"!",start:W};if(X==="<")return T[this._current]==="="?(this._current++,{type:ie,value:"<=",start:W}):{type:x,value:"<",start:W};if(X===">")return T[this._current]==="="?(this._current++,{type:N,value:">=",start:W}):{type:le,value:">",start:W};if(X==="="&&T[this._current]==="=")return this._current++,{type:re,value:"==",start:W}},_consumeLiteral:function(T){this._current++;for(var W=this._current,X=T.length,te;T[this._current]!=="`"&&this._current<X;){var be=this._current;T[be]==="\\"&&(T[be+1]==="\\"||T[be+1]==="`")?be+=2:be++,this._current=be}var Ae=l(T.slice(W,this._current));return Ae=Ae.replace("\\`","`"),this._looksLikeJSON(Ae)?te=JSON.parse(Ae):te=JSON.parse('"'+Ae+'"'),this._current++,te},_looksLikeJSON:function(T){var W='[{"',X=["true","false","null"],te="-0123456789";if(T==="")return!1;if(W.indexOf(T[0])>=0)return!0;if(X.indexOf(T)>=0)return!0;if(te.indexOf(T[0])>=0)try{return JSON.parse(T),!0}catch{return!1}else return!1}};var ke={};ke[k]=0,ke[b]=0,ke[S]=0,ke[O]=0,ke[I]=0,ke[L]=0,ke[D]=0,ke[H]=0,ke[F]=0,ke[q]=0,ke[U]=1,ke[B]=2,ke[Q]=3,ke[re]=5,ke[le]=5,ke[x]=5,ke[N]=5,ke[ie]=5,ke[ne]=5,ke[z]=9,ke[w]=20,ke[C]=21,ke[J]=40,ke[se]=45,ke[ee]=50,ke[ge]=55,ke[ve]=60;function ot(){}ot.prototype={parse:function(T){this._loadTokens(T),this.index=0;var W=this.expression(0);if(this._lookahead(0)!==k){var X=this._lookaheadToken(0),te=new Error("Unexpected token type: "+X.type+", value: "+X.value);throw te.name="ParserError",te}return W},_loadTokens:function(T){var W=new Oe,X=W.tokenize(T);X.push({type:k,value:"",start:T.length}),this.tokens=X},expression:function(T){var W=this._lookaheadToken(0);this._advance();for(var X=this.nud(W),te=this._lookahead(0);T<ke[te];)this._advance(),X=this.led(te,X),te=this._lookahead(0);return X},_lookahead:function(T){return this.tokens[this.index+T].type},_lookaheadToken:function(T){return this.tokens[this.index+T]},_advance:function(){this.index++},nud:function(T){var W,X,te;switch(T.type){case Pe:return{type:"Literal",value:T.value};case b:return{type:"Field",name:T.value};case S:var be={type:"Field",name:T.value};if(this._lookahead(0)===ve)throw new Error("Quoted identifier not allowed for function names.");return be;case se:return X=this.expression(ke.Not),{type:"NotExpression",children:[X]};case w:return W={type:"Identity"},X=null,this._lookahead(0)===O?X={type:"Identity"}:X=this._parseProjectionRHS(ke.Star),{type:"ValueProjection",children:[W,X]};case C:return this.led(T.type,{type:"Identity"});case ee:return this._parseMultiselectHash();case z:return W={type:z,children:[{type:"Identity"}]},X=this._parseProjectionRHS(ke.Flatten),{type:"Projection",children:[W,X]};case ge:return this._lookahead(0)===H||this._lookahead(0)===P?(X=this._parseIndexExpression(),this._projectIfSlice({type:"Identity"},X)):this._lookahead(0)===w&&this._lookahead(1)===O?(this._advance(),this._advance(),X=this._parseProjectionRHS(ke.Star),{type:"Projection",children:[{type:"Identity"},X]}):this._parseMultiselectList();case F:return{type:F};case q:return te=this.expression(ke.Expref),{type:"ExpressionReference",children:[te]};case ve:for(var Ae=[];this._lookahead(0)!==I;)this._lookahead(0)===F?(te={type:F},this._advance()):te=this.expression(0),Ae.push(te);return this._match(I),Ae[0];default:this._errorToken(T)}},led:function(T,W){var X;switch(T){case J:var te=ke.Dot;return this._lookahead(0)!==w?(X=this._parseDotRHS(te),{type:"Subexpression",children:[W,X]}):(this._advance(),X=this._parseProjectionRHS(te),{type:"ValueProjection",children:[W,X]});case U:return X=this.expression(ke.Pipe),{type:U,children:[W,X]};case B:return X=this.expression(ke.Or),{type:"OrExpression",children:[W,X]};case Q:return X=this.expression(ke.And),{type:"AndExpression",children:[W,X]};case ve:for(var be=W.name,Ae=[],Je,je;this._lookahead(0)!==I;)this._lookahead(0)===F?(Je={type:F},this._advance()):Je=this.expression(0),this._lookahead(0)===L&&this._match(L),Ae.push(Je);return this._match(I),je={type:"Function",name:be,children:Ae},je;case C:var Tt=this.expression(0);return this._match(O),this._lookahead(0)===z?X={type:"Identity"}:X=this._parseProjectionRHS(ke.Filter),{type:"FilterProjection",children:[W,X,Tt]};case z:var M={type:z,children:[W]},G=this._parseProjectionRHS(ke.Flatten);return{type:"Projection",children:[M,G]};case re:case ne:case le:case N:case x:case ie:return this._parseComparator(W,T);case ge:var K=this._lookaheadToken(0);return K.type===H||K.type===P?(X=this._parseIndexExpression(),this._projectIfSlice(W,X)):(this._match(w),this._match(O),X=this._parseProjectionRHS(ke.Star),{type:"Projection",children:[W,X]});default:this._errorToken(this._lookaheadToken(0))}},_match:function(T){if(this._lookahead(0)===T)this._advance();else{var W=this._lookaheadToken(0),X=new Error("Expected "+T+", got: "+W.type);throw X.name="ParserError",X}},_errorToken:function(T){var W=new Error("Invalid token ("+T.type+'): "'+T.value+'"');throw W.name="ParserError",W},_parseIndexExpression:function(){if(this._lookahead(0)===P||this._lookahead(1)===P)return this._parseSliceExpression();var T={type:"Index",value:this._lookaheadToken(0).value};return this._advance(),this._match(O),T},_projectIfSlice:function(T,W){var X={type:"IndexExpression",children:[T,W]};return W.type==="Slice"?{type:"Projection",children:[X,this._parseProjectionRHS(ke.Star)]}:X},_parseSliceExpression:function(){for(var T=[null,null,null],W=0,X=this._lookahead(0);X!==O&&W<3;){if(X===P)W++,this._advance();else if(X===H)T[W]=this._lookaheadToken(0).value,this._advance();else{var te=this._lookahead(0),be=new Error("Syntax error, unexpected token: "+te.value+"("+te.type+")");throw be.name="Parsererror",be}X=this._lookahead(0)}return this._match(O),{type:"Slice",children:T}},_parseComparator:function(T,W){var X=this.expression(ke[W]);return{type:"Comparator",name:W,children:[T,X]}},_parseDotRHS:function(T){var W=this._lookahead(0),X=[b,S,w];if(X.indexOf(W)>=0)return this.expression(T);if(W===ge)return this._match(ge),this._parseMultiselectList();if(W===ee)return this._match(ee),this._parseMultiselectHash()},_parseProjectionRHS:function(T){var W;if(ke[this._lookahead(0)]<10)W={type:"Identity"};else if(this._lookahead(0)===ge)W=this.expression(T);else if(this._lookahead(0)===C)W=this.expression(T);else if(this._lookahead(0)===J)this._match(J),W=this._parseDotRHS(T);else{var X=this._lookaheadToken(0),te=new Error("Sytanx error, unexpected token: "+X.value+"("+X.type+")");throw te.name="ParserError",te}return W},_parseMultiselectList:function(){for(var T=[];this._lookahead(0)!==O;){var W=this.expression(0);if(T.push(W),this._lookahead(0)===L&&(this._match(L),this._lookahead(0)===O))throw new Error("Unexpected token Rbracket")}return this._match(O),{type:"MultiSelectList",children:T}},_parseMultiselectHash:function(){for(var T=[],W=[b,S],X,te,be,Ae;;){if(X=this._lookaheadToken(0),W.indexOf(X.type)<0)throw new Error("Expecting an identifier token, got: "+X.type);if(te=X.value,this._advance(),this._match(P),be=this.expression(0),Ae={type:"KeyValuePair",name:te,value:be},T.push(Ae),this._lookahead(0)===L)this._match(L);else if(this._lookahead(0)===D){this._match(D);break}}return{type:"MultiSelectHash",children:T}}};function lt(T){this.runtime=T}lt.prototype={search:function(T,W){return this.visit(T,W)},visit:function(T,W){var X,te,be,Ae,Je,je,Tt,M,G,K;switch(T.type){case"Field":return W!==null&&i(W)?(je=W[T.name],je===void 0?null:je):null;case"Subexpression":for(be=this.visit(T.children[0],W),K=1;K<T.children.length;K++)if(be=this.visit(T.children[1],be),be===null)return null;return be;case"IndexExpression":return Tt=this.visit(T.children[0],W),M=this.visit(T.children[1],Tt),M;case"Index":if(!t(W))return null;var he=T.value;return he<0&&(he=W.length+he),be=W[he],be===void 0&&(be=null),be;case"Slice":if(!t(W))return null;var fe=T.children.slice(0),Ie=this.computeSliceParams(W.length,fe),Ge=Ie[0],nt=Ie[1],it=Ie[2];if(be=[],it>0)for(K=Ge;K<nt;K+=it)be.push(W[K]);else for(K=Ge;K>nt;K+=it)be.push(W[K]);return be;case"Projection":var ft=this.visit(T.children[0],W);if(!t(ft))return null;for(G=[],K=0;K<ft.length;K++)te=this.visit(T.children[1],ft[K]),te!==null&&G.push(te);return G;case"ValueProjection":if(ft=this.visit(T.children[0],W),!i(ft))return null;G=[];var Mt=s(ft);for(K=0;K<Mt.length;K++)te=this.visit(T.children[1],Mt[K]),te!==null&&G.push(te);return G;case"FilterProjection":if(ft=this.visit(T.children[0],W),!t(ft))return null;var Ye=[],yt=[];for(K=0;K<ft.length;K++)X=this.visit(T.children[2],ft[K]),o(X)||Ye.push(ft[K]);for(var ht=0;ht<Ye.length;ht++)te=this.visit(T.children[1],Ye[ht]),te!==null&&yt.push(te);return yt;case"Comparator":switch(Ae=this.visit(T.children[0],W),Je=this.visit(T.children[1],W),T.name){case re:be=r(Ae,Je);break;case ne:be=!r(Ae,Je);break;case le:be=Ae>Je;break;case N:be=Ae>=Je;break;case x:be=Ae<Je;break;case ie:be=Ae<=Je;break;default:throw new Error("Unknown comparator: "+T.name)}return be;case z:var Dt=this.visit(T.children[0],W);if(!t(Dt))return null;var ce=[];for(K=0;K<Dt.length;K++)te=Dt[K],t(te)?ce.push.apply(ce,te):ce.push(te);return ce;case"Identity":return W;case"MultiSelectList":if(W===null)return null;for(G=[],K=0;K<T.children.length;K++)G.push(this.visit(T.children[K],W));return G;case"MultiSelectHash":if(W===null)return null;G={};var We;for(K=0;K<T.children.length;K++)We=T.children[K],G[We.name]=this.visit(We.value,W);return G;case"OrExpression":return X=this.visit(T.children[0],W),o(X)&&(X=this.visit(T.children[1],W)),X;case"AndExpression":return Ae=this.visit(T.children[0],W),o(Ae)===!0?Ae:this.visit(T.children[1],W);case"NotExpression":return Ae=this.visit(T.children[0],W),o(Ae);case"Literal":return T.value;case U:return Tt=this.visit(T.children[0],W),this.visit(T.children[1],Tt);case F:return W;case"Function":var _t=[];for(K=0;K<T.children.length;K++)_t.push(this.visit(T.children[K],W));return this.runtime.callFunction(T.name,_t);case"ExpressionReference":var vt=T.children[0];return vt.jmespathType=q,vt;default:throw new Error("Unknown node type: "+T.type)}},computeSliceParams:function(T,W){var X=W[0],te=W[1],be=W[2],Ae=[null,null,null];if(be===null)be=1;else if(be===0){var Je=new Error("Invalid slice, step cannot be 0");throw Je.name="RuntimeError",Je}var je=be<0;return X===null?X=je?T-1:0:X=this.capSliceRange(T,X,be),te===null?te=je?-1:T:te=this.capSliceRange(T,te,be),Ae[0]=X,Ae[1]=te,Ae[2]=be,Ae},capSliceRange:function(T,W,X){return W<0?(W+=T,W<0&&(W=X<0?-1:0)):W>=T&&(W=X<0?T-1:T),W}};function at(T){this._interpreter=T,this.functionTable={abs:{_func:this._functionAbs,_signature:[{types:[a]}]},avg:{_func:this._functionAvg,_signature:[{types:[y]}]},ceil:{_func:this._functionCeil,_signature:[{types:[a]}]},contains:{_func:this._functionContains,_signature:[{types:[u,f]},{types:[c]}]},ends_with:{_func:this._functionEndsWith,_signature:[{types:[u]},{types:[u]}]},floor:{_func:this._functionFloor,_signature:[{types:[a]}]},length:{_func:this._functionLength,_signature:[{types:[u,f,h]}]},map:{_func:this._functionMap,_signature:[{types:[m]},{types:[f]}]},max:{_func:this._functionMax,_signature:[{types:[y,p]}]},merge:{_func:this._functionMerge,_signature:[{types:[h],variadic:!0}]},max_by:{_func:this._functionMaxBy,_signature:[{types:[f]},{types:[m]}]},sum:{_func:this._functionSum,_signature:[{types:[y]}]},starts_with:{_func:this._functionStartsWith,_signature:[{types:[u]},{types:[u]}]},min:{_func:this._functionMin,_signature:[{types:[y,p]}]},min_by:{_func:this._functionMinBy,_signature:[{types:[f]},{types:[m]}]},type:{_func:this._functionType,_signature:[{types:[c]}]},keys:{_func:this._functionKeys,_signature:[{types:[h]}]},values:{_func:this._functionValues,_signature:[{types:[h]}]},sort:{_func:this._functionSort,_signature:[{types:[p,y]}]},sort_by:{_func:this._functionSortBy,_signature:[{types:[f]},{types:[m]}]},join:{_func:this._functionJoin,_signature:[{types:[u]},{types:[p]}]},reverse:{_func:this._functionReverse,_signature:[{types:[u,f]}]},to_array:{_func:this._functionToArray,_signature:[{types:[c]}]},to_string:{_func:this._functionToString,_signature:[{types:[c]}]},to_number:{_func:this._functionToNumber,_signature:[{types:[c]}]},not_null:{_func:this._functionNotNull,_signature:[{types:[c],variadic:!0}]}}}at.prototype={callFunction:function(T,W){var X=this.functionTable[T];if(X===void 0)throw new Error("Unknown function: "+T+"()");return this._validateArgs(T,W,X._signature),X._func.call(this,W)},_validateArgs:function(T,W,X){var te;if(X[X.length-1].variadic){if(W.length<X.length)throw te=X.length===1?" argument":" arguments",new Error("ArgumentError: "+T+"() takes at least"+X.length+te+" but received "+W.length)}else if(W.length!==X.length)throw te=X.length===1?" argument":" arguments",new Error("ArgumentError: "+T+"() takes "+X.length+te+" but received "+W.length);for(var be,Ae,Je,je=0;je<X.length;je++){Je=!1,be=X[je].types,Ae=this._getTypeName(W[je]);for(var Tt=0;Tt<be.length;Tt++)if(this._typeMatches(Ae,be[Tt],W[je])){Je=!0;break}if(!Je){var M=be.map(function(G){return v[G]}).join(",");throw new Error("TypeError: "+T+"() expected argument "+(je+1)+" to be type "+M+" but received type "+v[Ae]+" instead.")}}},_typeMatches:function(T,W,X){if(W===c)return!0;if(W===p||W===y||W===f){if(W===f)return T===f;if(T===f){var te;W===y?te=a:W===p&&(te=u);for(var be=0;be<X.length;be++)if(!this._typeMatches(this._getTypeName(X[be]),te,X[be]))return!1;return!0}}else return T===W},_getTypeName:function(T){switch(Object.prototype.toString.call(T)){case"[object String]":return u;case"[object Number]":return a;case"[object Array]":return f;case"[object Boolean]":return d;case"[object Null]":return g;case"[object Object]":return T.jmespathType===q?m:h}},_functionStartsWith:function(T){return T[0].lastIndexOf(T[1])===0},_functionEndsWith:function(T){var W=T[0],X=T[1];return W.indexOf(X,W.length-X.length)!==-1},_functionReverse:function(T){var W=this._getTypeName(T[0]);if(W===u){for(var X=T[0],te="",be=X.length-1;be>=0;be--)te+=X[be];return te}else{var Ae=T[0].slice(0);return Ae.reverse(),Ae}},_functionAbs:function(T){return Math.abs(T[0])},_functionCeil:function(T){return Math.ceil(T[0])},_functionAvg:function(T){for(var W=0,X=T[0],te=0;te<X.length;te++)W+=X[te];return W/X.length},_functionContains:function(T){return T[0].indexOf(T[1])>=0},_functionFloor:function(T){return Math.floor(T[0])},_functionLength:function(T){return i(T[0])?Object.keys(T[0]).length:T[0].length},_functionMap:function(T){for(var W=[],X=this._interpreter,te=T[0],be=T[1],Ae=0;Ae<be.length;Ae++)W.push(X.visit(te,be[Ae]));return W},_functionMerge:function(T){for(var W={},X=0;X<T.length;X++){var te=T[X];for(var be in te)W[be]=te[be]}return W},_functionMax:function(T){if(T[0].length>0){var W=this._getTypeName(T[0][0]);if(W===a)return Math.max.apply(Math,T[0]);for(var X=T[0],te=X[0],be=1;be<X.length;be++)te.localeCompare(X[be])<0&&(te=X[be]);return te}else return null},_functionMin:function(T){if(T[0].length>0){var W=this._getTypeName(T[0][0]);if(W===a)return Math.min.apply(Math,T[0]);for(var X=T[0],te=X[0],be=1;be<X.length;be++)X[be].localeCompare(te)<0&&(te=X[be]);return te}else return null},_functionSum:function(T){for(var W=0,X=T[0],te=0;te<X.length;te++)W+=X[te];return W},_functionType:function(T){switch(this._getTypeName(T[0])){case a:return"number";case u:return"string";case f:return"array";case h:return"object";case d:return"boolean";case m:return"expref";case g:return"null"}},_functionKeys:function(T){return Object.keys(T[0])},_functionValues:function(T){for(var W=T[0],X=Object.keys(W),te=[],be=0;be<X.length;be++)te.push(W[X[be]]);return te},_functionJoin:function(T){var W=T[0],X=T[1];return X.join(W)},_functionToArray:function(T){return this._getTypeName(T[0])===f?T[0]:[T[0]]},_functionToString:function(T){return this._getTypeName(T[0])===u?T[0]:JSON.stringify(T[0])},_functionToNumber:function(T){var W=this._getTypeName(T[0]),X;return W===a?T[0]:W===u&&(X=+T[0],!isNaN(X))?X:null},_functionNotNull:function(T){for(var W=0;W<T.length;W++)if(this._getTypeName(T[W])!==g)return T[W];return null},_functionSort:function(T){var W=T[0].slice(0);return W.sort(),W},_functionSortBy:function(T){var W=T[0].slice(0);if(W.length===0)return W;var X=this._interpreter,te=T[1],be=this._getTypeName(X.visit(te,W[0]));if([a,u].indexOf(be)<0)throw new Error("TypeError");for(var Ae=this,Je=[],je=0;je<W.length;je++)Je.push([je,W[je]]);Je.sort(function(M,G){var K=X.visit(te,M[1]),he=X.visit(te,G[1]);if(Ae._getTypeName(K)!==be)throw new Error("TypeError: expected "+be+", received "+Ae._getTypeName(K));if(Ae._getTypeName(he)!==be)throw new Error("TypeError: expected "+be+", received "+Ae._getTypeName(he));return K>he?1:K<he?-1:M[0]-G[0]});for(var Tt=0;Tt<Je.length;Tt++)W[Tt]=Je[Tt][1];return W},_functionMaxBy:function(T){for(var W=T[1],X=T[0],te=this.createKeyFunction(W,[a,u]),be=-1/0,Ae,Je,je=0;je<X.length;je++)Je=te(X[je]),Je>be&&(be=Je,Ae=X[je]);return Ae},_functionMinBy:function(T){for(var W=T[1],X=T[0],te=this.createKeyFunction(W,[a,u]),be=1/0,Ae,Je,je=0;je<X.length;je++)Je=te(X[je]),Je<be&&(be=Je,Ae=X[je]);return Ae},createKeyFunction:function(T,W){var X=this,te=this._interpreter,be=function(Ae){var Je=te.visit(T,Ae);if(W.indexOf(X._getTypeName(Je))<0){var je="TypeError: expected one of "+W+", received "+X._getTypeName(Je);throw new Error(je)}return Je};return be}};function mt(T){var W=new ot,X=W.parse(T);return X}function It(T){var W=new Oe;return W.tokenize(T)}function de(T,W){var X=new ot,te=new at,be=new lt(te);te._interpreter=be;var Ae=X.parse(W);return be.search(Ae,T)}e.tokenize=It,e.compile=mt,e.search=de,e.strictDeepEqual=r})(n)})(qR);function WR(n){let e,t,i,r,o,s,l,a,c,u,f,h;return{c(){e=R("div"),t=R("div"),t.innerHTML='<i class="bi bi-speedometer"></i>',i=oe(),r=R("input"),o=oe(),s=R("datalist"),l=R("option"),a=R("option"),c=R("option"),u=R("option"),_(t,"class","input-group-text"),_(r,"type","number"),_(r,"list","defaultSpeedList"),_(r,"step","0.1"),_(r,"min","0.1"),_(r,"max","3"),_(r,"class","form-control"),l.__value="0.1",l.value=l.__value,a.__value="1",a.value=a.__value,c.__value="2",c.value=c.__value,u.__value="3",u.value=u.__value,_(s,"id","defaultSpeedList"),_(e,"class","input-group mb-3 col")},m(d,m){$(d,e,m),E(e,t),E(e,i),E(e,r),_i(r,n[0]),E(e,o),E(e,s),E(s,l),E(s,a),E(s,c),E(s,u),f||(h=we(r,"input",n[1]),f=!0)},p(d,[m]){m&1&&Sc(r.value)!==d[0]&&_i(r,d[0])},i:xe,o:xe,d(d){d&&Z(e),f=!1,h()}}}function UR(n,e,t){let{value:i=1}=e;function r(){i=Sc(this.value),t(0,i)}return n.$$set=o=>{"value"in o&&t(0,i=o.value)},[i,r]}class KR extends Xe{constructor(e){super(),Qe(this,e,UR,WR,tn,{value:0})}}function JR(n){let e,t,i,r,o,s,l,a,c,u,f,h;return{c(){e=R("div"),t=R("div"),t.innerHTML='<i class="bi bi-zoom-in"></i>',i=oe(),r=R("input"),o=oe(),s=R("datalist"),l=R("option"),a=R("option"),c=R("option"),u=R("option"),_(t,"class","input-group-text"),_(r,"type","number"),_(r,"maxlength","4"),_(r,"list","defaultScaleList"),_(r,"min","0.5"),_(r,"max","3"),_(r,"step","0.5"),_(r,"class","form-control"),l.__value="0.5",l.value=l.__value,a.__value="1",a.value=a.__value,c.__value="2",c.value=c.__value,u.__value="3",u.value=u.__value,_(s,"id","defaultScaleList"),_(e,"class","input-group mb-3 col")},m(d,m){$(d,e,m),E(e,t),E(e,i),E(e,r),_i(r,n[0]),E(e,o),E(e,s),E(s,l),E(s,a),E(s,c),E(s,u),f||(h=we(r,"input",n[1]),f=!0)},p(d,[m]){m&1&&Sc(r.value)!==d[0]&&_i(r,d[0])},i:xe,o:xe,d(d){d&&Z(e),f=!1,h()}}}function GR(n,e,t){let{value:i=1}=e;function r(){i=Sc(this.value),t(0,i)}return n.$$set=o=>{"value"in o&&t(0,i=o.value)},[i,r]}class QR extends Xe{constructor(e){super(),Qe(this,e,GR,JR,tn,{value:0})}}function gy(n,e,t){const i=n.slice();return i[4]=e[t],i}function yy(n){let e,t,i,r,o,s,l;function a(){return n[2](n[4])}return{c(){e=R("li"),t=R("button"),i=R("i"),o=oe(),_(i,"class",r="bi "+n[4].icon),_(t,"class","btn"),_(t,"type","button"),_(e,"class","nav-item")},m(c,u){$(c,e,u),E(e,t),E(t,i),E(e,o),s||(l=we(e,"click",a),s=!0)},p(c,u){n=c,u&1&&r!==(r="bi "+n[4].icon)&&_(i,"class",r)},d(c){c&&Z(e),s=!1,l()}}}function XR(n){let e,t=n[0],i=[];for(let r=0;r<t.length;r+=1)i[r]=yy(gy(n,t,r));return{c(){e=R("ul");for(let r=0;r<i.length;r+=1)i[r].c();_(e,"class","nav nav-pills")},m(r,o){$(r,e,o);for(let s=0;s<i.length;s+=1)i[s].m(e,null)},p(r,[o]){if(o&3){t=r[0];let s;for(s=0;s<t.length;s+=1){const l=gy(r,t,s);i[s]?i[s].p(l,o):(i[s]=yy(l),i[s].c(),i[s].m(e,null))}for(;s<i.length;s+=1)i[s].d(1);i.length=t.length}},i:xe,o:xe,d(r){r&&Z(e),Vn(i,r)}}}function YR(n,e,t){const i=ml();let{tabs:r=[]}=e;function o(l){l.selectable!==!1&&r.forEach(a=>{a.active=l===a}),i("select",l)}const s=l=>o(l);return n.$$set=l=>{"tabs"in l&&t(0,r=l.tabs)},[r,o,s]}class ZR extends Xe{constructor(e){super(),Qe(this,e,YR,XR,tn,{tabs:0})}}function vy(n,e,t){const i=n.slice();return i[2]=e[t],i}function by(n){let e,t=n[2]+"",i,r;return{c(){e=R("option"),i=Be(t),e.__value=r=n[2],e.value=e.__value},m(o,s){$(o,e,s),E(e,i)},p(o,s){s&1&&t!==(t=o[2]+"")&&St(i,t),s&1&&r!==(r=o[2])&&(e.__value=r,e.value=e.__value)},d(o){o&&Z(e)}}}function $R(n){let e,t,i,r=n[0],o=[];for(let s=0;s<r.length;s+=1)o[s]=by(vy(n,r,s));return{c(){e=R("select");for(let s=0;s<o.length;s+=1)o[s].c();_(e,"class","form-select mb-3"),_(e,"aria-label","Animation name select")},m(s,l){$(s,e,l);for(let a=0;a<o.length;a+=1)o[a].m(e,null);t||(i=we(e,"change",n[1]),t=!0)},p(s,[l]){if(l&1){r=s[0];let a;for(a=0;a<r.length;a+=1){const c=vy(s,r,a);o[a]?o[a].p(c,l):(o[a]=by(c),o[a].c(),o[a].m(e,null))}for(;a<o.length;a+=1)o[a].d(1);o.length=r.length}},i:xe,o:xe,d(s){s&&Z(e),Vn(o,s),t=!1,i()}}}function ej(n,e,t){let{names:i=[]}=e;function r(o){q_.call(this,n,o)}return n.$$set=o=>{"names"in o&&t(0,i=o.names)},[i,r]}class tj extends Xe{constructor(e){super(),Qe(this,e,ej,$R,tn,{names:0})}}const nj={w:384,h:782},ij={length:13,totalDuration:2225,frames:[{x:1,y:1,w:12,h:13,duration:500,ox:1,oy:6},{x:14,y:1,w:15,h:12,duration:100,ox:3,oy:7},{x:30,y:1,w:14,h:11,duration:100,ox:4,oy:8},{x:45,y:1,w:12,h:12,duration:100,ox:2,oy:7},{x:58,y:1,w:15,h:12,duration:100,ox:3,oy:7},{x:74,y:1,w:15,h:12,duration:100,ox:3,oy:7},{x:90,y:1,w:12,h:12,duration:100,ox:2,oy:7},{x:103,y:1,w:12,h:13,duration:600,ox:1,oy:6},{x:116,y:1,w:12,h:11,duration:120,ox:1,oy:8},{x:129,y:1,w:11,h:14,duration:130,ox:3,oy:2},{x:141,y:1,w:15,h:15,duration:100,ox:4,oy:4},{x:157,y:1,w:15,h:8,duration:100,ox:4,oy:11},{x:173,y:1,w:13,h:8,duration:75,ox:4,oy:11}]},rj={length:4,totalDuration:400,frames:[{x:1,y:17,w:12,h:13,duration:100,ox:1,oy:6},{x:14,y:17,w:12,h:12,duration:100,ox:1,oy:7},{x:27,y:17,w:14,h:11,duration:100,ox:0,oy:8},{x:42,y:17,w:12,h:11,duration:100,ox:1,oy:8}]},oj={length:4,totalDuration:400,frames:[{x:1,y:31,w:12,h:13,duration:100,ox:1,oy:4},{x:14,y:31,w:12,h:13,duration:100,ox:1,oy:3},{x:27,y:31,w:12,h:14,duration:100,ox:1,oy:3},{x:40,y:31,w:12,h:11,duration:100,ox:1,oy:7}]},sj={length:22,totalDuration:3210,frames:[{x:1,y:46,w:16,h:9,duration:600,ox:4,oy:12},{x:18,y:46,w:14,h:19,duration:100,ox:4,oy:2},{x:33,y:46,w:9,h:20,duration:200,ox:2,oy:1},{x:43,y:46,w:20,h:18,duration:100,ox:4,oy:4},{x:64,y:46,w:20,h:9,duration:200,ox:4,oy:13},{x:85,y:46,w:17,h:9,duration:100,ox:4,oy:12},{x:103,y:46,w:16,h:9,duration:100,ox:4,oy:12},{x:120,y:46,w:13,h:9,duration:100,ox:7,oy:12},{x:134,y:46,w:21,h:8,duration:100,ox:8,oy:13},{x:156,y:46,w:20,h:8,duration:200,ox:8,oy:13},{x:177,y:46,w:13,h:19,duration:100,ox:12,oy:2},{x:191,y:46,w:8,h:19,duration:100,ox:14,oy:2},{x:200,y:46,w:20,h:17,duration:70,ox:6,oy:4},{x:221,y:46,w:22,h:8,duration:100,ox:15,oy:13},{x:244,y:46,w:20,h:8,duration:200,ox:16,oy:13},{x:265,y:46,w:18,h:9,duration:100,ox:16,oy:12},{x:284,y:46,w:15,h:20,duration:100,ox:13,oy:1},{x:300,y:46,w:5,h:20,duration:150,ox:13,oy:1},{x:306,y:46,w:21,h:19,duration:90,ox:6,oy:2},{x:328,y:46,w:20,h:8,duration:200,ox:6,oy:13},{x:349,y:46,w:17,h:9,duration:100,ox:6,oy:11},{x:367,y:46,w:16,h:8,duration:100,ox:4,oy:13}]},lj={length:4,totalDuration:400,frames:[{x:1,y:67,w:16,h:9,duration:100,ox:1,oy:6},{x:18,y:67,w:16,h:8,duration:100,ox:1,oy:7},{x:35,y:67,w:18,h:7,duration:100,ox:0,oy:8},{x:54,y:67,w:16,h:8,duration:100,ox:1,oy:7}]},aj={length:8,totalDuration:800,frames:[{x:1,y:77,w:11,h:9,duration:100,ox:2,oy:5},{x:13,y:77,w:11,h:10,duration:100,ox:2,oy:3},{x:25,y:77,w:11,h:10,duration:100,ox:2,oy:4},{x:37,y:77,w:11,h:8,duration:100,ox:2,oy:7},{x:49,y:77,w:11,h:9,duration:100,ox:1,oy:5},{x:61,y:77,w:11,h:10,duration:100,ox:1,oy:3},{x:73,y:77,w:11,h:10,duration:100,ox:1,oy:4},{x:85,y:77,w:11,h:8,duration:100,ox:1,oy:7}]},cj={length:14,totalDuration:2400,frames:[{x:1,y:88,w:11,h:10,duration:600,ox:3,oy:5},{x:13,y:88,w:9,h:14,duration:100,ox:1,oy:1},{x:23,y:88,w:14,h:13,duration:100,ox:3,oy:2},{x:38,y:88,w:12,h:8,duration:100,ox:5,oy:7},{x:51,y:88,w:12,h:10,duration:100,ox:4,oy:4},{x:64,y:88,w:11,h:8,duration:100,ox:3,oy:7},{x:76,y:88,w:11,h:10,duration:600,ox:3,oy:5},{x:88,y:88,w:9,h:14,duration:100,ox:1,oy:1},{x:98,y:88,w:14,h:13,duration:100,ox:3,oy:2},{x:113,y:88,w:12,h:8,duration:100,ox:5,oy:7},{x:126,y:88,w:9,h:13,duration:100,ox:3,oy:2},{x:136,y:88,w:14,h:13,duration:100,ox:3,oy:2},{x:151,y:88,w:12,h:9,duration:100,ox:5,oy:6},{x:164,y:88,w:12,h:10,duration:100,ox:4,oy:4}]},uj={length:4,totalDuration:400,frames:[{x:1,y:103,w:11,h:10,duration:100,ox:1,oy:5},{x:13,y:103,w:11,h:9,duration:100,ox:1,oy:6},{x:25,y:103,w:12,h:8,duration:100,ox:0,oy:7},{x:38,y:103,w:11,h:9,duration:100,ox:1,oy:6}]},fj={length:8,totalDuration:800,frames:[{x:1,y:114,w:11,h:9,duration:100,ox:2,oy:5},{x:13,y:114,w:12,h:10,duration:100,ox:1,oy:3},{x:26,y:114,w:11,h:9,duration:100,ox:1,oy:5},{x:38,y:114,w:9,h:8,duration:100,ox:2,oy:7},{x:48,y:114,w:8,h:10,duration:100,ox:2,oy:4},{x:57,y:114,w:9,h:11,duration:100,ox:2,oy:2},{x:67,y:114,w:9,h:11,duration:100,ox:1,oy:3},{x:77,y:114,w:10,h:8,duration:100,ox:2,oy:7}]},hj={length:8,totalDuration:1720,frames:[{x:1,y:126,w:12,h:9,duration:600,ox:3,oy:6},{x:14,y:126,w:12,h:9,duration:100,ox:3,oy:6},{x:27,y:126,w:17,h:11,duration:100,ox:4,oy:4},{x:45,y:126,w:16,h:11,duration:400,ox:3,oy:4},{x:62,y:126,w:15,h:11,duration:80,ox:2,oy:4},{x:78,y:126,w:23,h:11,duration:80,ox:4,oy:4},{x:102,y:126,w:10,h:11,duration:60,ox:3,oy:4},{x:113,y:126,w:10,h:11,duration:300,ox:3,oy:4}]},dj={length:8,totalDuration:1720,frames:[{x:1,y:138,w:12,h:9,duration:600,ox:3,oy:6},{x:14,y:138,w:12,h:9,duration:100,ox:3,oy:6},{x:27,y:138,w:9,h:11,duration:100,ox:4,oy:4},{x:37,y:138,w:10,h:11,duration:400,ox:3,oy:4},{x:48,y:138,w:10,h:11,duration:80,ox:2,oy:4},{x:59,y:138,w:10,h:11,duration:80,ox:4,oy:4},{x:70,y:138,w:10,h:11,duration:60,ox:3,oy:4},{x:81,y:138,w:10,h:11,duration:300,ox:3,oy:4}]},mj={length:4,totalDuration:400,frames:[{x:1,y:150,w:12,h:9,duration:100,ox:3,oy:6},{x:14,y:150,w:12,h:8,duration:100,ox:3,oy:7},{x:27,y:150,w:14,h:7,duration:100,ox:2,oy:8},{x:42,y:150,w:12,h:8,duration:100,ox:3,oy:7}]},pj={length:8,totalDuration:800,frames:[{x:1,y:160,w:12,h:8,duration:100,ox:5,oy:6},{x:14,y:160,w:14,h:9,duration:100,ox:4,oy:4},{x:29,y:160,w:13,h:10,duration:100,ox:4,oy:4},{x:43,y:160,w:10,h:7,duration:100,ox:5,oy:8},{x:54,y:160,w:10,h:8,duration:100,ox:3,oy:6},{x:65,y:160,w:12,h:9,duration:100,ox:2,oy:4},{x:78,y:160,w:10,h:10,duration:100,ox:3,oy:4},{x:89,y:160,w:9,h:7,duration:100,ox:4,oy:8}]},gj={length:2,totalDuration:400,frames:[{x:1,y:171,w:8,h:9,duration:200,ox:4,oy:4},{x:10,y:171,w:8,h:9,duration:200,ox:4,oy:4}]},yj={length:4,totalDuration:400,frames:[{x:1,y:181,w:8,h:9,duration:100,ox:4,oy:4},{x:10,y:181,w:8,h:8,duration:100,ox:4,oy:5},{x:19,y:181,w:10,h:7,duration:100,ox:3,oy:6},{x:30,y:181,w:8,h:8,duration:100,ox:4,oy:5}]},vj={length:9,totalDuration:1500,frames:[{x:1,y:191,w:8,h:8,duration:50,ox:2,oy:7},{x:10,y:191,w:8,h:8,duration:50,ox:2,oy:7},{x:19,y:191,w:8,h:8,duration:100,ox:2,oy:5},{x:28,y:191,w:8,h:8,duration:150,ox:2,oy:3},{x:37,y:191,w:8,h:8,duration:100,ox:2,oy:4},{x:46,y:191,w:8,h:8,duration:100,ox:2,oy:7},{x:55,y:191,w:10,h:7,duration:100,ox:1,oy:8},{x:66,y:191,w:8,h:7,duration:100,ox:2,oy:8},{x:75,y:191,w:8,h:9,duration:750,ox:2,oy:6}]},bj={length:14,totalDuration:1700,frames:[{x:1,y:201,w:9,h:12,duration:500,ox:3,oy:3},{x:11,y:201,w:12,h:9,duration:100,ox:1,oy:6},{x:24,y:201,w:17,h:9,duration:100,ox:4,oy:6},{x:42,y:201,w:17,h:9,duration:50,ox:4,oy:6},{x:60,y:201,w:16,h:9,duration:100,ox:4,oy:6},{x:77,y:201,w:15,h:13,duration:100,ox:4,oy:2},{x:93,y:201,w:9,h:12,duration:100,ox:3,oy:3},{x:103,y:201,w:6,h:12,duration:100,ox:7,oy:3},{x:110,y:201,w:15,h:11,duration:100,ox:3,oy:4},{x:126,y:201,w:24,h:10,duration:100,ox:6,oy:5},{x:151,y:201,w:18,h:9,duration:100,ox:12,oy:6},{x:170,y:201,w:17,h:9,duration:50,ox:12,oy:6},{x:188,y:201,w:21,h:9,duration:100,ox:7,oy:5},{x:210,y:201,w:18,h:12,duration:100,ox:4,oy:3}]},wj={length:5,totalDuration:970,frames:[{x:1,y:215,w:9,h:12,duration:500,ox:4,oy:1},{x:11,y:215,w:9,h:13,duration:150,ox:4,oy:0},{x:21,y:215,w:9,h:12,duration:120,ox:4,oy:1},{x:31,y:215,w:9,h:12,duration:100,ox:4,oy:1},{x:41,y:215,w:9,h:12,duration:100,ox:4,oy:1}]},_j={length:8,totalDuration:800,frames:[{x:1,y:229,w:8,h:12,duration:100,ox:2,oy:2},{x:10,y:229,w:10,h:12,duration:100,ox:1,oy:1},{x:21,y:229,w:9,h:12,duration:100,ox:1,oy:2},{x:31,y:229,w:8,h:12,duration:100,ox:2,oy:3},{x:40,y:229,w:7,h:12,duration:100,ox:2,oy:2},{x:48,y:229,w:8,h:12,duration:100,ox:2,oy:1},{x:57,y:229,w:9,h:12,duration:100,ox:1,oy:2},{x:67,y:229,w:8,h:12,duration:100,ox:2,oy:3}]},kj={length:8,totalDuration:800,frames:[{x:1,y:242,w:8,h:8,duration:100,ox:2,oy:6},{x:10,y:242,w:10,h:9,duration:100,ox:1,oy:4},{x:21,y:242,w:9,h:9,duration:100,ox:1,oy:5},{x:31,y:242,w:8,h:7,duration:100,ox:2,oy:8},{x:40,y:242,w:8,h:8,duration:100,ox:2,oy:6},{x:49,y:242,w:10,h:9,duration:100,ox:1,oy:4},{x:60,y:242,w:9,h:9,duration:100,ox:1,oy:5},{x:70,y:242,w:8,h:7,duration:100,ox:2,oy:8}]},Sj={length:10,totalDuration:1100,frames:[{x:1,y:252,w:13,h:9,duration:100,ox:4,oy:6},{x:15,y:252,w:16,h:12,duration:100,ox:2,oy:3},{x:32,y:252,w:9,h:12,duration:200,ox:2,oy:3},{x:42,y:252,w:9,h:11,duration:100,ox:3,oy:4},{x:52,y:252,w:13,h:11,duration:100,ox:4,oy:4},{x:66,y:252,w:12,h:9,duration:100,ox:4,oy:6},{x:79,y:252,w:8,h:13,duration:100,ox:4,oy:2},{x:88,y:252,w:11,h:10,duration:100,ox:0,oy:5},{x:100,y:252,w:15,h:12,duration:100,ox:3,oy:3},{x:116,y:252,w:14,h:9,duration:100,ox:4,oy:6}]},Cj={length:4,totalDuration:400,frames:[{x:1,y:266,w:13,h:9,duration:100,ox:1,oy:6},{x:15,y:266,w:13,h:8,duration:100,ox:1,oy:7},{x:29,y:266,w:15,h:7,duration:100,ox:0,oy:8},{x:45,y:266,w:13,h:8,duration:100,ox:1,oy:7}]},xj={length:8,totalDuration:800,frames:[{x:1,y:276,w:8,h:8,duration:100,ox:2,oy:6},{x:10,y:276,w:10,h:9,duration:100,ox:1,oy:4},{x:21,y:276,w:9,h:9,duration:100,ox:1,oy:5},{x:31,y:276,w:8,h:7,duration:100,ox:2,oy:8},{x:40,y:276,w:8,h:8,duration:100,ox:2,oy:6},{x:49,y:276,w:10,h:9,duration:100,ox:1,oy:4},{x:60,y:276,w:9,h:9,duration:100,ox:1,oy:5},{x:70,y:276,w:8,h:7,duration:100,ox:2,oy:8}]},Oj={length:11,totalDuration:2100,frames:[{x:1,y:286,w:10,h:9,duration:500,ox:2,oy:6},{x:12,y:286,w:10,h:12,duration:100,ox:0,oy:3},{x:23,y:286,w:15,h:13,duration:100,ox:2,oy:3},{x:39,y:286,w:14,h:10,duration:200,ox:3,oy:6},{x:54,y:286,w:10,h:9,duration:500,ox:2,oy:6},{x:65,y:286,w:10,h:9,duration:100,ox:2,oy:6},{x:76,y:286,w:8,h:9,duration:100,ox:3,oy:6},{x:85,y:286,w:10,h:9,duration:100,ox:0,oy:6},{x:96,y:286,w:13,h:9,duration:100,ox:3,oy:6},{x:110,y:286,w:13,h:9,duration:200,ox:3,oy:6},{x:124,y:286,w:11,h:9,duration:100,ox:3,oy:6}]},Ej={length:4,totalDuration:400,frames:[{x:1,y:300,w:10,h:9,duration:100,ox:2,oy:6},{x:12,y:300,w:10,h:8,duration:100,ox:2,oy:7},{x:23,y:300,w:11,h:8,duration:100,ox:1,oy:7},{x:35,y:300,w:10,h:8,duration:100,ox:2,oy:7}]},Tj={length:8,totalDuration:800,frames:[{x:1,y:310,w:10,h:9,duration:100,ox:2,oy:6},{x:12,y:310,w:10,h:10,duration:100,ox:2,oy:4},{x:23,y:310,w:10,h:10,duration:100,ox:2,oy:5},{x:34,y:310,w:9,h:9,duration:100,ox:3,oy:6},{x:44,y:310,w:9,h:9,duration:100,ox:2,oy:6},{x:54,y:310,w:8,h:10,duration:100,ox:2,oy:4},{x:63,y:310,w:8,h:10,duration:100,ox:2,oy:5},{x:72,y:310,w:8,h:9,duration:100,ox:3,oy:6}]},Mj={length:4,totalDuration:900,frames:[{x:1,y:321,w:10,h:14,duration:600,ox:3,oy:1},{x:12,y:321,w:15,h:13,duration:100,ox:0,oy:2},{x:28,y:321,w:19,h:10,duration:100,ox:2,oy:5},{x:48,y:321,w:19,h:10,duration:100,ox:2,oy:5}]},Aj={length:4,totalDuration:800,frames:[{x:1,y:336,w:10,h:14,duration:500,ox:3,oy:1},{x:12,y:336,w:10,h:14,duration:120,ox:3,oy:1},{x:23,y:336,w:11,h:14,duration:100,ox:2,oy:1},{x:35,y:336,w:10,h:14,duration:80,ox:3,oy:1}]},Pj={length:8,totalDuration:800,frames:[{x:1,y:351,w:9,h:15,duration:100,ox:3,oy:5},{x:11,y:351,w:11,h:15,duration:100,ox:2,oy:4},{x:23,y:351,w:11,h:15,duration:100,ox:2,oy:5},{x:35,y:351,w:10,h:15,duration:100,ox:3,oy:6},{x:46,y:351,w:9,h:15,duration:100,ox:3,oy:5},{x:56,y:351,w:8,h:15,duration:100,ox:3,oy:4},{x:65,y:351,w:9,h:15,duration:100,ox:2,oy:5},{x:75,y:351,w:8,h:15,duration:100,ox:3,oy:6}]},Ij={length:13,totalDuration:2e3,frames:[{x:1,y:367,w:14,h:11,duration:500,ox:1,oy:8},{x:16,y:367,w:9,h:11,duration:100,ox:0,oy:8},{x:26,y:367,w:13,h:11,duration:100,ox:0,oy:8},{x:40,y:367,w:15,h:11,duration:100,ox:2,oy:8},{x:56,y:367,w:14,h:11,duration:200,ox:1,oy:8},{x:71,y:367,w:13,h:15,duration:100,ox:1,oy:4},{x:85,y:367,w:10,h:15,duration:100,ox:1,oy:4},{x:96,y:367,w:15,h:14,duration:100,ox:2,oy:5},{x:112,y:367,w:15,h:10,duration:100,ox:2,oy:9},{x:128,y:367,w:14,h:11,duration:300,ox:1,oy:8},{x:143,y:367,w:14,h:10,duration:100,ox:0,oy:9},{x:158,y:367,w:11,h:12,duration:100,ox:1,oy:7},{x:170,y:367,w:9,h:11,duration:100,ox:3,oy:8}]},Nj={length:4,totalDuration:400,frames:[{x:1,y:383,w:14,h:11,duration:100,ox:1,oy:4},{x:16,y:383,w:14,h:10,duration:100,ox:1,oy:5},{x:31,y:383,w:16,h:9,duration:100,ox:0,oy:6},{x:48,y:383,w:14,h:9,duration:100,ox:1,oy:6}]},Dj={length:8,totalDuration:800,frames:[{x:1,y:395,w:14,h:10,duration:100,ox:1,oy:8},{x:16,y:395,w:14,h:11,duration:100,ox:1,oy:6},{x:31,y:395,w:14,h:11,duration:100,ox:1,oy:7},{x:46,y:395,w:14,h:11,duration:100,ox:1,oy:8},{x:61,y:395,w:10,h:10,duration:100,ox:2,oy:8},{x:72,y:395,w:10,h:11,duration:100,ox:2,oy:6},{x:83,y:395,w:11,h:11,duration:100,ox:1,oy:7},{x:95,y:395,w:10,h:11,duration:100,ox:2,oy:8}]},Rj={length:13,totalDuration:2e3,frames:[{x:1,y:407,w:14,h:11,duration:500,ox:1,oy:8},{x:16,y:407,w:9,h:11,duration:100,ox:0,oy:8},{x:26,y:407,w:13,h:11,duration:100,ox:0,oy:8},{x:40,y:407,w:15,h:11,duration:100,ox:2,oy:8},{x:56,y:407,w:14,h:11,duration:200,ox:1,oy:8},{x:71,y:407,w:13,h:15,duration:100,ox:1,oy:4},{x:85,y:407,w:10,h:15,duration:100,ox:1,oy:4},{x:96,y:407,w:15,h:14,duration:100,ox:2,oy:5},{x:112,y:407,w:15,h:10,duration:100,ox:2,oy:9},{x:128,y:407,w:14,h:11,duration:300,ox:1,oy:8},{x:143,y:407,w:14,h:10,duration:100,ox:0,oy:9},{x:158,y:407,w:11,h:12,duration:100,ox:1,oy:7},{x:170,y:407,w:9,h:11,duration:100,ox:3,oy:8}]},jj={length:4,totalDuration:400,frames:[{x:1,y:423,w:14,h:11,duration:100,ox:1,oy:4},{x:16,y:423,w:14,h:10,duration:100,ox:1,oy:5},{x:31,y:423,w:16,h:9,duration:100,ox:0,oy:6},{x:48,y:423,w:14,h:9,duration:100,ox:1,oy:6}]},Lj={length:8,totalDuration:800,frames:[{x:1,y:435,w:14,h:10,duration:100,ox:1,oy:8},{x:16,y:435,w:14,h:11,duration:100,ox:1,oy:6},{x:31,y:435,w:14,h:11,duration:100,ox:1,oy:7},{x:46,y:435,w:14,h:11,duration:100,ox:1,oy:8},{x:61,y:435,w:10,h:10,duration:100,ox:2,oy:8},{x:72,y:435,w:10,h:11,duration:100,ox:2,oy:6},{x:83,y:435,w:11,h:11,duration:100,ox:1,oy:7},{x:95,y:435,w:10,h:11,duration:100,ox:2,oy:8}]},Bj={length:13,totalDuration:2e3,frames:[{x:1,y:447,w:14,h:11,duration:500,ox:1,oy:8},{x:16,y:447,w:9,h:11,duration:100,ox:0,oy:8},{x:26,y:447,w:13,h:11,duration:100,ox:0,oy:8},{x:40,y:447,w:15,h:11,duration:100,ox:2,oy:8},{x:56,y:447,w:14,h:11,duration:200,ox:1,oy:8},{x:71,y:447,w:13,h:15,duration:100,ox:1,oy:4},{x:85,y:447,w:10,h:15,duration:100,ox:1,oy:4},{x:96,y:447,w:15,h:14,duration:100,ox:2,oy:5},{x:112,y:447,w:15,h:10,duration:100,ox:2,oy:9},{x:128,y:447,w:14,h:11,duration:300,ox:1,oy:8},{x:143,y:447,w:14,h:10,duration:100,ox:0,oy:9},{x:158,y:447,w:11,h:12,duration:100,ox:1,oy:7},{x:170,y:447,w:9,h:11,duration:100,ox:3,oy:8}]},Fj={length:4,totalDuration:400,frames:[{x:1,y:463,w:14,h:11,duration:100,ox:1,oy:4},{x:16,y:463,w:14,h:10,duration:100,ox:1,oy:5},{x:31,y:463,w:16,h:9,duration:100,ox:0,oy:6},{x:48,y:463,w:14,h:9,duration:100,ox:1,oy:6}]},Vj={length:8,totalDuration:800,frames:[{x:1,y:475,w:14,h:10,duration:100,ox:1,oy:8},{x:16,y:475,w:14,h:11,duration:100,ox:1,oy:6},{x:31,y:475,w:14,h:11,duration:100,ox:1,oy:7},{x:46,y:475,w:14,h:11,duration:100,ox:1,oy:8},{x:61,y:475,w:10,h:10,duration:100,ox:2,oy:8},{x:72,y:475,w:10,h:11,duration:100,ox:2,oy:6},{x:83,y:475,w:11,h:11,duration:100,ox:1,oy:7},{x:95,y:475,w:10,h:11,duration:100,ox:2,oy:8}]},Hj={length:13,totalDuration:2e3,frames:[{x:1,y:487,w:14,h:11,duration:500,ox:1,oy:8},{x:16,y:487,w:9,h:11,duration:100,ox:0,oy:8},{x:26,y:487,w:13,h:11,duration:100,ox:0,oy:8},{x:40,y:487,w:15,h:11,duration:100,ox:2,oy:8},{x:56,y:487,w:14,h:11,duration:200,ox:1,oy:8},{x:71,y:487,w:13,h:15,duration:100,ox:1,oy:4},{x:85,y:487,w:10,h:15,duration:100,ox:1,oy:4},{x:96,y:487,w:15,h:14,duration:100,ox:2,oy:5},{x:112,y:487,w:15,h:10,duration:100,ox:2,oy:9},{x:128,y:487,w:14,h:11,duration:300,ox:1,oy:8},{x:143,y:487,w:14,h:10,duration:100,ox:0,oy:9},{x:158,y:487,w:11,h:12,duration:100,ox:1,oy:7},{x:170,y:487,w:9,h:11,duration:100,ox:3,oy:8}]},zj={length:4,totalDuration:400,frames:[{x:1,y:503,w:14,h:11,duration:100,ox:1,oy:4},{x:16,y:503,w:14,h:10,duration:100,ox:1,oy:5},{x:31,y:503,w:16,h:9,duration:100,ox:0,oy:6},{x:48,y:503,w:14,h:9,duration:100,ox:1,oy:6}]},qj={length:8,totalDuration:800,frames:[{x:1,y:515,w:14,h:10,duration:100,ox:1,oy:8},{x:16,y:515,w:14,h:11,duration:100,ox:1,oy:6},{x:31,y:515,w:14,h:11,duration:100,ox:1,oy:7},{x:46,y:515,w:14,h:11,duration:100,ox:1,oy:8},{x:61,y:515,w:10,h:10,duration:100,ox:2,oy:8},{x:72,y:515,w:10,h:11,duration:100,ox:2,oy:6},{x:83,y:515,w:11,h:11,duration:100,ox:1,oy:7},{x:95,y:515,w:10,h:11,duration:100,ox:2,oy:8}]},Wj={length:12,totalDuration:2060,frames:[{x:1,y:527,w:9,h:9,duration:500,ox:1,oy:6},{x:11,y:527,w:8,h:9,duration:200,ox:1,oy:6},{x:20,y:527,w:19,h:8,duration:100,ox:1,oy:7},{x:40,y:527,w:20,h:8,duration:150,ox:1,oy:7},{x:61,y:527,w:9,h:9,duration:80,ox:1,oy:6},{x:71,y:527,w:9,h:9,duration:80,ox:1,oy:6},{x:81,y:527,w:9,h:9,duration:500,ox:1,oy:6},{x:91,y:527,w:8,h:8,duration:90,ox:3,oy:7},{x:100,y:527,w:14,h:7,duration:100,ox:4,oy:8},{x:115,y:527,w:14,h:7,duration:60,ox:4,oy:8},{x:130,y:527,w:8,h:8,duration:100,ox:5,oy:7},{x:139,y:527,w:10,h:8,duration:100,ox:1,oy:7}]},Uj={length:4,totalDuration:400,frames:[{x:1,y:537,w:9,h:10,duration:100,ox:1,oy:5},{x:11,y:537,w:9,h:9,duration:100,ox:1,oy:6},{x:21,y:537,w:11,h:7,duration:100,ox:0,oy:8},{x:33,y:537,w:9,h:8,duration:100,ox:1,oy:7}]},Kj={length:4,totalDuration:400,frames:[{x:1,y:548,w:9,h:10,duration:100,ox:0,oy:4},{x:11,y:548,w:10,h:10,duration:100,ox:0,oy:3},{x:22,y:548,w:9,h:10,duration:100,ox:0,oy:4},{x:32,y:548,w:9,h:8,duration:100,ox:0,oy:7}]},Jj={length:16,totalDuration:2290,frames:[{x:1,y:559,w:9,h:9,duration:500,ox:1,oy:6},{x:11,y:559,w:13,h:10,duration:100,ox:2,oy:5},{x:25,y:559,w:13,h:10,duration:100,ox:2,oy:5},{x:39,y:559,w:13,h:10,duration:100,ox:2,oy:5},{x:53,y:559,w:13,h:10,duration:100,ox:2,oy:5},{x:67,y:559,w:10,h:10,duration:100,ox:2,oy:5},{x:78,y:559,w:12,h:10,duration:100,ox:0,oy:5},{x:91,y:559,w:11,h:10,duration:300,ox:0,oy:5},{x:103,y:559,w:16,h:10,duration:100,ox:2,oy:5},{x:120,y:559,w:16,h:8,duration:50,ox:2,oy:7},{x:137,y:559,w:17,h:10,duration:100,ox:0,oy:5},{x:155,y:559,w:11,h:10,duration:200,ox:0,oy:5},{x:167,y:559,w:18,h:8,duration:100,ox:0,oy:7},{x:186,y:559,w:17,h:8,duration:100,ox:0,oy:7},{x:204,y:559,w:19,h:8,duration:140,ox:1,oy:7},{x:224,y:559,w:17,h:8,duration:100,ox:2,oy:7}]},Gj={length:5,totalDuration:970,frames:[{x:1,y:570,w:9,h:9,duration:500,ox:1,oy:6},{x:11,y:570,w:9,h:10,duration:150,ox:1,oy:5},{x:21,y:570,w:9,h:9,duration:120,ox:1,oy:6},{x:31,y:570,w:9,h:9,duration:100,ox:1,oy:6},{x:41,y:570,w:9,h:9,duration:100,ox:1,oy:6}]},Qj={length:8,totalDuration:800,frames:[{x:1,y:581,w:11,h:9,duration:100,ox:1,oy:5},{x:13,y:581,w:12,h:9,duration:100,ox:0,oy:4},{x:26,y:581,w:12,h:9,duration:100,ox:0,oy:5},{x:39,y:581,w:9,h:8,duration:100,ox:2,oy:7},{x:49,y:581,w:10,h:9,duration:100,ox:1,oy:5},{x:60,y:581,w:11,h:9,duration:100,ox:0,oy:4},{x:72,y:581,w:11,h:9,duration:100,ox:0,oy:5},{x:84,y:581,w:9,h:8,duration:100,ox:2,oy:7}]},Xj={length:6,totalDuration:1080,frames:[{x:1,y:591,w:8,h:10,duration:600,ox:2,oy:5},{x:10,y:591,w:8,h:10,duration:100,ox:1,oy:5},{x:19,y:591,w:14,h:9,duration:100,ox:3,oy:6},{x:34,y:591,w:13,h:8,duration:150,ox:3,oy:7},{x:48,y:591,w:8,h:8,duration:80,ox:3,oy:7},{x:57,y:591,w:8,h:9,duration:50,ox:3,oy:6}]},Yj={length:4,totalDuration:400,frames:[{x:1,y:602,w:8,h:10,duration:100,ox:2,oy:5},{x:10,y:602,w:8,h:9,duration:100,ox:2,oy:6},{x:19,y:602,w:10,h:8,duration:100,ox:1,oy:7},{x:30,y:602,w:8,h:8,duration:100,ox:2,oy:7}]},Zj={length:4,totalDuration:400,frames:[{x:1,y:613,w:8,h:10,duration:100,ox:1,oy:4},{x:10,y:613,w:9,h:10,duration:100,ox:0,oy:3},{x:20,y:613,w:9,h:10,duration:100,ox:0,oy:4},{x:30,y:613,w:8,h:9,duration:100,ox:1,oy:6}]},$j={length:9,totalDuration:1600,frames:[{x:1,y:624,w:12,h:8,duration:500,ox:1,oy:7},{x:14,y:624,w:10,h:12,duration:100,ox:1,oy:3},{x:25,y:624,w:17,h:11,duration:100,ox:1,oy:4},{x:43,y:624,w:14,h:8,duration:100,ox:1,oy:7},{x:58,y:624,w:12,h:8,duration:400,ox:1,oy:7},{x:71,y:624,w:13,h:8,duration:100,ox:1,oy:7},{x:85,y:624,w:18,h:8,duration:100,ox:1,oy:7},{x:104,y:624,w:17,h:8,duration:100,ox:1,oy:7},{x:122,y:624,w:17,h:8,duration:100,ox:1,oy:7}]},eL={length:4,totalDuration:400,frames:[{x:1,y:637,w:12,h:8,duration:100,ox:1,oy:7},{x:14,y:637,w:12,h:7,duration:100,ox:1,oy:8},{x:27,y:637,w:12,h:6,duration:100,ox:1,oy:9},{x:40,y:637,w:12,h:7,duration:100,ox:1,oy:8}]},tL={length:4,totalDuration:400,frames:[{x:1,y:646,w:12,h:8,duration:100,ox:1,oy:7},{x:14,y:646,w:13,h:7,duration:100,ox:1,oy:8},{x:28,y:646,w:13,h:6,duration:100,ox:1,oy:9},{x:42,y:646,w:12,h:7,duration:100,ox:1,oy:8}]},nL={length:4,totalDuration:910,frames:[{x:1,y:655,w:8,h:10,duration:600,ox:2,oy:5},{x:10,y:655,w:9,h:8,duration:110,ox:0,oy:7},{x:20,y:655,w:13,h:8,duration:80,ox:3,oy:7},{x:34,y:655,w:12,h:8,duration:120,ox:3,oy:7}]},iL={length:4,totalDuration:400,frames:[{x:1,y:666,w:8,h:10,duration:100,ox:2,oy:5},{x:10,y:666,w:8,h:10,duration:100,ox:2,oy:5},{x:19,y:666,w:10,h:8,duration:100,ox:1,oy:7},{x:30,y:666,w:8,h:8,duration:100,ox:2,oy:7}]},rL={length:4,totalDuration:400,frames:[{x:1,y:677,w:8,h:9,duration:100,ox:2,oy:5},{x:10,y:677,w:10,h:10,duration:100,ox:1,oy:3},{x:21,y:677,w:9,h:10,duration:100,ox:1,oy:3},{x:31,y:677,w:8,h:10,duration:100,ox:2,oy:4}]},oL={length:8,totalDuration:1820,frames:[{x:1,y:688,w:10,h:13,duration:500,ox:2,oy:8},{x:12,y:688,w:13,h:17,duration:150,ox:0,oy:4},{x:26,y:688,w:16,h:15,duration:100,ox:4,oy:6},{x:43,y:688,w:16,h:12,duration:200,ox:4,oy:9},{x:60,y:688,w:10,h:13,duration:500,ox:2,oy:8},{x:71,y:688,w:13,h:15,duration:150,ox:0,oy:6},{x:85,y:688,w:12,h:10,duration:120,ox:4,oy:11},{x:98,y:688,w:11,h:12,duration:100,ox:4,oy:9}]},sL={length:4,totalDuration:400,frames:[{x:1,y:706,w:10,h:13,duration:100,ox:2,oy:2},{x:12,y:706,w:10,h:12,duration:100,ox:2,oy:3},{x:23,y:706,w:12,h:11,duration:100,ox:1,oy:4},{x:36,y:706,w:10,h:12,duration:100,ox:2,oy:3}]},lL={length:4,totalDuration:480,frames:[{x:1,y:720,w:11,h:12,duration:120,ox:2,oy:3},{x:13,y:720,w:10,h:13,duration:120,ox:2,oy:2},{x:24,y:720,w:10,h:12,duration:120,ox:2,oy:3},{x:35,y:720,w:12,h:10,duration:120,ox:1,oy:5}]},aL={length:7,totalDuration:1300,frames:[{x:1,y:734,w:11,h:14,duration:500,ox:2,oy:3},{x:13,y:734,w:16,h:13,duration:100,ox:2,oy:4},{x:30,y:734,w:16,h:13,duration:300,ox:2,oy:4},{x:47,y:734,w:15,h:15,duration:100,ox:1,oy:2},{x:63,y:734,w:15,h:14,duration:100,ox:0,oy:3},{x:79,y:734,w:15,h:13,duration:100,ox:2,oy:4},{x:95,y:734,w:16,h:13,duration:100,ox:2,oy:4}]},cL={length:6,totalDuration:960,frames:[{x:1,y:750,w:11,h:14,duration:500,ox:2,oy:3},{x:13,y:750,w:11,h:15,duration:100,ox:2,oy:2},{x:25,y:750,w:11,h:14,duration:60,ox:2,oy:3},{x:37,y:750,w:12,h:14,duration:100,ox:1,oy:3},{x:50,y:750,w:11,h:14,duration:100,ox:2,oy:3},{x:62,y:750,w:11,h:14,duration:100,ox:2,oy:3}]},uL={length:4,totalDuration:800,frames:[{x:1,y:766,w:11,h:14,duration:500,ox:2,oy:3},{x:13,y:766,w:12,h:15,duration:100,ox:2,oy:2},{x:26,y:766,w:13,h:14,duration:100,ox:1,oy:3},{x:40,y:766,w:11,h:14,duration:100,ox:2,oy:3}]},No={_meta:nj,barbarian_attack:ij,barbarian_idle:rj,barbarian_run:oj,basic_animesword_attack:sj,basic_animesword_idle:lj,basic_animesword_run:aj,basic_axe_attack:cj,basic_axe_idle:uj,basic_axe_run:fj,basic_bow_attack:hj,basic_bow_attack_no_arrow:dj,basic_bow_idle:mj,basic_bow_run:pj,basic_climb:gj,basic_idle:yj,basic_jump:vj,basic_pique_attack:bj,basic_pique_idle:wj,basic_pique_run:_j,basic_run:kj,basic_sword_attack:Sj,basic_sword_idle:Cj,basic_sword_run:xj,dwarf_attack:Oj,dwarf_idle:Ej,dwarf_run:Tj,guard_attack:Mj,guard_idle:Aj,guard_run:Pj,knight_blue_attack:Ij,knight_blue_idle:Nj,knight_blue_run:Dj,knight_green_attack:Rj,knight_green_idle:jj,knight_green_run:Lj,knight_red_attack:Bj,knight_red_idle:Fj,knight_red_run:Vj,knight_yellow_attack:Hj,knight_yellow_idle:zj,knight_yellow_run:qj,lizard_attack:Wj,lizard_idle:Uj,lizard_run:Kj,monk_attack:Jj,monk_idle:Gj,monk_run:Qj,mooseman_attack:Xj,mooseman_idle:Yj,mooseman_run:Zj,oldman_attack:$j,oldman_idle:eL,oldman_run:tL,rhino_attack:nL,rhino_idle:iL,rhino_run:rL,troll_attack:oL,troll_idle:sL,troll_run:lL,wizard_attack:aL,wizard_idle:cL,wizard_run:uL};function fL(){var n;return(n=window.matchMedia)!=null&&n.call(window,"(prefers-color-scheme: dark)").matches?"dark":"light"}const{document:wy}=Cc;function _y(n){let e,t;return{c(){e=R("div"),t=R("div"),_(t,"class","sprite svelte-icxtl9"),ni(t,"animation-duration",n[6]+"ms"),_(e,"class","sprite-wrapper clearfix card mb-3 svelte-icxtl9"),_(e,"style",n[7])},m(i,r){$(i,e,r),E(e,t)},p(i,r){r&64&&ni(t,"animation-duration",i[6]+"ms"),r&128&&_(e,"style",i[7])},d(i){i&&Z(e)}}}function ky(n){let e,t,i,r;function o(l){n[20](l)}let s={readOnly:!0,indentation:2,statusBar:!1,navigationBar:!1,mainMenuBar:!1,class:"col"};return n[3]!==void 0&&(s.content=n[3]),t=new HR({props:s}),pt.push(()=>Fn(t,"content",o)),{c(){e=R("div"),ye(t.$$.fragment),ni(e,"display",n[8]?"block":"none")},m(l,a){$(l,e,a),me(t,e,null),r=!0},p(l,a){const c={};!i&&a&8&&(i=!0,c.content=l[3],zn(()=>i=!1)),t.$set(c),(!r||a&256)&&ni(e,"display",l[8]?"block":"none")},i(l){r||(A(t.$$.fragment,l),r=!0)},o(l){j(t.$$.fragment,l),r=!1},d(l){l&&Z(e),pe(t)}}}function Sy(n){let e;return{c(){e=R("link"),_(e,"href","https://cdn.jsdelivr.net/npm/bootstrap-dark-5@1.1.3/dist/css/bootstrap-dark.min.css"),_(e,"rel","stylesheet")},m(t,i){$(t,e,i)},d(t){t&&Z(e)}}}function hL(n){let e,t,i,r,o,s,l,a,c,u,f,h,d,m,g,y,p,v,k,b,S,O;r=new tj({props:{names:n[10]}}),r.$on("change",n[11]);function I(Q){n[17](Q)}let L={};n[1]!==void 0&&(L.value=n[1]),u=new QR({props:L}),pt.push(()=>Fn(u,"value",I));function P(Q){n[18](Q)}let D={};n[0]!==void 0&&(D.value=n[0]),d=new KR({props:D}),pt.push(()=>Fn(d,"value",P));function H(Q){n[19](Q)}let F={};n[2]!==void 0&&(F.tabs=n[2]),y=new ZR({props:F}),pt.push(()=>Fn(y,"tabs",H)),y.$on("select",pL);let q=n[9]&&_y(n),U=n[4]&&ky(n),B=n[5]&&Sy();return{c(){e=R("main"),t=R("h1"),t.textContent="Sprite animation map viewer",i=oe(),ye(r.$$.fragment),o=oe(),s=R("form"),l=R("div"),a=R("fieldset"),c=R("div"),ye(u.$$.fragment),h=oe(),ye(d.$$.fragment),g=oe(),ye(y.$$.fragment),v=oe(),q&&q.c(),k=oe(),U&&U.c(),b=oe(),B&&B.c(),S=Nt(),_(c,"class","row"),_(l,"class","col-auto"),_(s,"class","mb-3"),_(e,"class","col")},m(Q,re){$(Q,e,re),E(e,t),E(e,i),me(r,e,null),E(e,o),E(e,s),E(s,l),E(l,a),E(a,c),me(u,c,null),E(c,h),me(d,c,null),E(a,g),me(y,a,null),E(e,v),q&&q.m(e,null),E(e,k),U&&U.m(e,null),$(Q,b,re),B&&B.m(wy.head,null),E(wy.head,S),O=!0},p(Q,[re]){const le={};!f&&re&2&&(f=!0,le.value=Q[1],zn(()=>f=!1)),u.$set(le);const x={};!m&&re&1&&(m=!0,x.value=Q[0],zn(()=>m=!1)),d.$set(x);const N={};!p&&re&4&&(p=!0,N.tabs=Q[2],zn(()=>p=!1)),y.$set(N),Q[9]?q?q.p(Q,re):(q=_y(Q),q.c(),q.m(e,k)):q&&(q.d(1),q=null),Q[4]?U?(U.p(Q,re),re&16&&A(U,1)):(U=ky(Q),U.c(),A(U,1),U.m(e,null)):U&&(Ee(),j(U,1,1,()=>{U=null}),Te()),Q[5]?B||(B=Sy(),B.c(),B.m(S.parentNode,S)):B&&(B.d(1),B=null)},i(Q){O||(A(r.$$.fragment,Q),A(u.$$.fragment,Q),A(d.$$.fragment,Q),A(y.$$.fragment,Q),A(U),O=!0)},o(Q){j(r.$$.fragment,Q),j(u.$$.fragment,Q),j(d.$$.fragment,Q),j(y.$$.fragment,Q),j(U),O=!1},d(Q){Q&&Z(e),pe(r),pe(u),pe(d),pe(y),q&&q.d(),U&&U.d(),Q&&Z(b),B&&B.d(Q),Z(S)}}}function ca(n,e){return Math.max(...n.frames.map(({[e]:t})=>t))}function dL(n){const e=n.frames.slice(0,n.length),t=n.totalDuration/100;let i=0;const r=e.map(s=>i=+(s.duration/t+i).toFixed(2));return`@keyframes asset-animation {
${e.map((s,l)=>`${r[l]}% {
                background-position-x: -${s.x}px;
                background-position-y: -${s.y}px;
                clip-path: polygon(${s.w}px 0, 0 0, 0 ${s.h}px, ${s.w}px ${s.h}px);
            }`).join(`
`)} }`}function mL(n){let e=document.querySelector("style#keyframes");e||(e=document.createElement("style"),e.setAttribute("id","keyframes"),document.head.appendChild(e)),e.innerHTML=n,console.log(e.innerHTML)}function pL({detail:n}){console.log(n),n.onActivate()}function Cy(n){return n==="dark"?"bi-moon":"bi-sun"}function gL(n){return n==="dark"?"light":"dark"}function yL(n,e,t){let i,r,o,s,l,a,c;const u=document.querySelector(":root"),f=Object.keys(No).filter(re=>!re.startsWith("_")),h=f.reduce((re,le)=>({w:Math.max(re.w,ca(No[le],"w")),h:Math.max(re.h,ca(No[le],"h"))}),{h:0,w:0});S("assetMaxWidth",`${h.w}px`),S("assetMaxHeight",`${h.h}px`);let d=0,m=1,g={text:void 0,json:No[f[0]]},y=1,p=!1;const v=No[f[0]];function k(re){t(3,g={text:void 0,json:re}),t(12,d=re.totalDuration),S("width",ca(re,"w")+"px"),S("height",ca(re,"h")+"px"),S("steps",`${re.length}`),mL(dL(re))}function b(re){let le=No[re.target.value];k(le)}function S(re,le){u.style.setProperty("--"+re,le)}function O(){t(4,p=!0),I()}function I(){t(13,P.icon="bi-play-fill",P),S("play-state","paused")}function L(){t(13,P.icon="bi-pause",P),S("play-state","running")}k(v);let P={icon:"bi-pause",active:!0,onActivate:()=>{P.icon==="bi-pause"?I():L()}},D={icon:"bi-braces",onActivate:O},H=fL(),F={icon:Cy(H),selectable:!1,onActivate(){t(14,H=gL(H)),t(15,F.icon=Cy(H),F)}};function q(re){y=re,t(1,y)}function U(re){m=re,t(0,m)}function B(re){i=re,t(2,i),t(13,P),t(29,D),t(15,F)}function Q(re){g=re,t(3,g)}return n.$$.update=()=>{n.$$.dirty&40960&&t(2,i=[P,D,F]),n.$$.dirty&4&&t(16,r=i.find(re=>re.active)),n.$$.dirty&73728&&t(9,o=r===P),n.$$.dirty&65536&&t(8,s=r===D),n.$$.dirty&8194&&t(7,l=[`transform: scale(${y})`,"display: "+P.active?"block":"none"].join(";")),n.$$.dirty&4097&&t(6,a=d/m),n.$$.dirty&16384&&t(5,c=H==="dark")},[m,y,i,g,p,c,a,l,s,o,f,b,d,P,H,F,r,q,U,B,Q]}class vL extends Xe{constructor(e){super(),Qe(this,e,yL,hL,tn,{})}}new vL({target:document.body});export{bL as __vite_legacy_guard};
